/**
 * @license Asciidoctor.js 3.0.0-alpha.4 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */
function e(e){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var t=e.klass,r=e.defs,n=[];return e.nil,e.add_stubs("new"),function(n,i,o){var s=t(n,null,"File"),a=[s].concat(o),$=e.$r(a);return r(s,"$read",(function(e){var t="",r=-1;try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.addEventListener("load",(function(){0!==(r=this.status)&&200!==r||(t=this.responseText)})),n.overrideMimeType("text/plain"),n.send()}catch(t){throw $("IOError").$new("Error reading file or directory: "+e+"; reason: "+t.message)}if(404===r||0===r&&!t)throw $("IOError").$new("No such file or directory: "+e);return t}))}(n[0],0,n)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(t){var r,n,i,o,s=t.const_set,a=t.top,$=[];if(t.nil,t.add_stubs("require"),"object"==typeof e&&"object"==typeof e.runtime){var l=e.runtime;r=l.platform,n=l.engine,i=l.framework,o=l.ioModule}return r=r||"browser",n=n||"",i=i||"",s($[0],"JAVASCRIPT_IO_MODULE",o=o||"xmlhttprequest"),s($[0],"JAVASCRIPT_PLATFORM",r),s($[0],"JAVASCRIPT_ENGINE",n),s($[0],"JAVASCRIPT_FRAMEWORK",i),a.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.truthy,o=e.def,s=[],a=e.nil,$=e.$$$;return e.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(s,l){var u=[t(s,"Asciidoctor")].concat(l);return function(t,s,l){var u=r(t,null,"AbstractNode"),c=[u].concat(l),_=e.$r(c);return u.$$prototype.document=a,o(u,"$read_contents",(function(t,r){var o=this,s=a,l=a,u=a;if(null==r&&(r=n([],{})),s=o.document,!(i(_("Helpers")["$uriish?"](t))||i(l=r["$[]"]("start"))&&i(_("Helpers")["$uriish?"](l))&&i(t=s.$path_resolver().$web_path(t,l))))return t=o.$normalize_system_path(t,r["$[]"]("start"),a,n(["target_name"],{target_name:i(u=r["$[]"]("label"))?u:"asset"})),o.$read_asset(t,n(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));if(!(i(s.$path_resolver()["$descends_from?"](t,s.$base_dir()))||i(t["$start_with?"]("chrome://"))||i(s["$attr?"]("allow-uri-read"))))return i(r.$fetch("warn_on_failure",!0))&&o.$logger().$warn("cannot retrieve contents of "+(i(u=r["$[]"]("label"))?u:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)"),a;try{return i(r["$[]"]("normalize"))?_("Helpers").$prepare_source_string($("File").$read(t)).$join(_("LF")):$("File").$read(t)}catch(n){if(!e.rescue(n,[_("StandardError")]))throw n;try{return i(r.$fetch("warn_on_failure",!0))&&o.$logger().$warn("could not retrieve contents of "+(i(u=r["$[]"]("label"))?u:"asset")+" at URI: "+t),a}finally{e.pop_exception()}}}),-2),o(u,"$generate_data_uri_from_uri",(function(e,t){var r="",n="",i=-1;try{var o=new XMLHttpRequest;o.open("GET",e,!1),o.overrideMimeType("text/plain; charset=x-user-defined"),o.addEventListener("load",(function(){if(0===(i=this.status)||200===i){for(var e="",t=this.responseText,o=0,s=t.length;o<s;++o){var a=255&t.charCodeAt(o);e+=String.fromCharCode(a)}n=btoa(e),r=this.getResponseHeader("content-type")}})),o.send(null),r||(e.endsWith(".jpeg")||e.endsWith(".jpg")||e.endsWith(".jpe")?r="image/jpg":e.endsWith(".png")?r="image/png":e.endsWith(".svg")?r="image/svg+xml":e.endsWith(".bmp")?r="image/bmp":(e.endsWith(".tif")||e.endsWith(".tiff"))&&(r="image/tiff"))}catch(e){i=0}return 404!==i&&(0!==i||n&&r)?"data:"+r+";base64,"+n:(this.$logger().$warn("could not retrieve image data from URI: "+e),e)}),-2)}(u[0],0,u)}(s[0],s)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var t=e.module,r=e.slice,n=e.send,i=e.to_a,o=e.defs,s=[],a=e.nil;return e.add_stubs("new,path"),function(s,$){var l=[t(s,"OpenURI")].concat($),u=e.$r(l);return o(u("OpenURI"),"$open_uri",(function t(o,s){var $,l,c=t.$$p||a;return t.$$p=null,$=r(arguments,1),l=n(u("File"),"new",[this.$path()].concat(i($))),c!==a?e.yield1(c,l):l}),-2)}(s[0],s)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var t,r=e.module,n=e.klass,i=e.truthy,o=e.def,s=[];e.nil;return e.add_stubs("absolute_path?,start_with?"),t=s,function(e,t){var r=n(e,null,"PathResolver");return o(r,"$root?",(function(e){var t;return i(t=this["$absolute_path?"](e))?t:e["$start_with?"]("file://","http://","https://","chrome://")}))}([r(s[0],"Asciidoctor")].concat(t)[0])},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var t=e.module,r=e.klass,n=e.truthy,i=e.eqeq,o=e.not,s=e.def,a=[],$=e.nil;return e.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(a,l){var u=[t(a,"Asciidoctor")].concat(l),c=e.$r(u);return function(t,a,l){var u=r(t,a,"PreprocessorReader"),c=[u].concat(l),_=e.$r(c),d=u.$$prototype;return d.path_resolver=d.document=d.include_stack=d.dir=$,s(u,"$resolve_include_path",(function(e,t,r){var s,a,l=this,u=$,c=$,d=$,p=$,h=$,f=$;if(u=(l.path_resolver=n(s=l.path_resolver)?s:_("PathResolver").$new("\\")).$posixify(e),a=["file",l.document.$base_dir()][1],n(u["$start_with?"]("file://")))c=d=u;else if(n(_("Helpers")["$uriish?"](u))){if(!n(l.path_resolver["$descends_from?"](u,a))&&!n(l.document.$attributes()["$key?"]("allow-uri-read")))return l.$replace_next_line("link:"+e+"["+t+"]");c=d=u}else if(n(l.path_resolver["$absolute_path?"](u)))c=d="file://"+(n(u["$start_with?"]("/"))?"":"/")+u;else if(i(p=n(h=l.include_stack["$empty?"]())?a:l.dir,"."))c=d=u;else if(n(p["$start_with?"]("file://"))||o(_("Helpers")["$uriish?"](p)))c=p+"/"+u,d=n(h)?u:i(a,".")||o(f=l.path_resolver["$descends_from?"](c,a))?c:c.$slice(f,c.$length());else if(n(h))c=p+"/"+(d=u);else{if(!n(f=l.path_resolver["$descends_from?"](p,a))&&!n(l.document.$attributes()["$key?"]("allow-uri-read")))return l.$replace_next_line("link:"+e+"["+t+"]");c=p+"/"+u,d=n(f)?c.$slice(f,c.$length()):u}return[c,"file",d]}))}(u[0],c("Reader"),u)}(a[0],a)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var t=e.eqeq,r=e.top,n=e.$r([]),i=e.nil;return e.add_stubs("==,require"),t(n("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(r.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),r.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),r.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),r.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):i},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var t=e.module,r=e.slice,n=e.send,i=e.to_a,o=e.def,s=e.return_val,a=[],$=e.nil;return e.add_stubs("new"),function(a,l){var u=t(a,"Kernel"),c=[u].concat(l),_=e.$r(c);return o(u,"$open",(function t(o,s){var a,l,u=t.$$p||$;return t.$$p=null,a=r(arguments,1),l=n(_("File"),"new",[o].concat(i(a))),u!==$?e.yield1(u,l):l}),-2),o(u,"$__dir__",s(""))}(a[0],a)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var t=e.klass,r=e.def,n=e.truthy,i=e.gvars,o=e.return_val,s=e.defs,a=[],$=e.nil;return e.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(s,a,l){var u=t(s,null,"File"),c=[u].concat(l),_=e.$r(c),d=u.$$prototype;d.eof=d.path=$,u.$attr_reader("eof"),u.$attr_reader("lineno"),u.$attr_reader("path"),r(u,"$initialize",(function(e,t){var r,n=this;return null==t&&(t="r"),n.path=e,n.contents=$,n.eof=!1,n.lineno=0,r=/:(.*)/,t=(t=t.$delete("b")).$gsub(r,""),n.flags=t}),-2),r(u,"$read",(function(){var e=this,t=$;return n(e.eof)?"":(t=_("File").$read(e.path),e.eof=!0,e.lineno=t.$size(),t)})),r(u,"$each_line",(function t(r){var o=t.$$p||$,s=this,a=$;if(null==i["/"]&&(i["/"]=$),t.$$p=null,null==r&&(r=i["/"]),n(s.eof))return o!==$?s:[].$to_enum();if(o!==$){a=_("File").$read(s.path),s.eof=!1,s.lineno=0;for(var l=a.$chomp(),u=a.length!=l.length,c=l.split(r),d=0,p=c.length;d<p;d++)s.lineno+=1,d<p-1||u?e.yield1(o,c[d]+r):e.yield1(o,c[d]);return s.eof=!0,s}return s.$read().$each_line()}),-1),r(u,"$readlines",(function(){return _("File").$readlines(this.path)})),function(t,n){var s=[t].concat(n),a=e.$r(s);r(t,"$readlines",(function(e,t){return null==i["/"]&&(i["/"]=$),null==t&&(t=i["/"]),a("File").$read(e).$split(t)}),-2),r(t,"$file?",o(!0)),r(t,"$readable?",o(!0)),r(t,"$read",o(""))}(e.get_singleton_class(u),c)}(a[0],0,a),function(r,n,i){var o=t(r,null,"IO"),a=[o].concat(i),$=e.$r(a);return s(o,"$read",(function(e){return $("File").$read(e)}))}(a[0],0,a)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){var t,r=e.klass,n=e.send,i=e.def,o=e.nil;return e.add_stubs("[]="),(t=r([][0],null,"MatchData")).$$prototype.matches=o,i(t,"$[]=",(function(e,t){var r;return r=[e,t],n(this.matches,"[]=",r),r[r.length-1]}))},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){var t,r=e.klass,n=e.truthy,i=e.rb_lt,o=e.def,s=e.alias,a=e.rb_ge,$=e.eqeq,l=e.rb_minus,u=e.nil;return e.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),t=r([][0],null,"String"),n(t["$method_defined?"]("limit_bytesize"))||o(t,"$limit_bytesize",(function(e){var t=this;return n(i(e,t.$bytes().$length()))?t.$byteslice(0,e).$to_s():t.$to_s()})),n(t["$method_defined?"]("limit"))||s(t,"limit","limit_bytesize"),s(t,"_original_byteslice","byteslice"),o(t,"$byteslice",(function(e,t){var r=this;return null==t&&(t=1),$(e,3)&&n(a(t,e))&&n(65279===r.charCodeAt())?r.substr(1).$byteslice(0,l(t,3)):r.$_original_byteslice(e,t)}),-2),s(t,"_original_unpack","unpack"),o(t,"$unpack",(function(e){var t=this;if($(e,"C3")){if(n(65279===t.charCodeAt()))return[239,187,191];for(var r=[],i=0;i<3;i++)i<t.length?r.push(t.charCodeAt(i)):r.push(u);return r}return t.$_original_unpack(e)}))},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var t=e.module,r=e.defs,n=e.return_self,i=e.def,o=[];return e.nil,e.add_stubs("extend"),function(o,s){var a=t(o,"URI"),$=[a].concat(s),l=e.$r($);return r(a,"$parse",(function(e){return e.$extend(l("URI"))})),i(a,"$path",n)}(o[0],o)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var t,r,n,i=e.module,o=e.defs,s=e.ensure_kwargs,a=e.truthy,$=e.nil;return e.add_stubs("delete"),n=i([][0],"Base64"),t=e.global.btoa||function(e){return(e instanceof Buffer?e:Buffer.from(e.toString(),"binary")).toString("base64")},r=e.global.atob||function(e){return Buffer.from(e,"base64").toString("binary")},o(n,"$decode64",(function(e){return r(e.replace(/\r?\n/g,""))})),o(n,"$encode64",(function(e){return t(e).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")})),o(n,"$strict_decode64",(function(e){return r(e)})),o(n,"$strict_encode64",(function(e){return t(e)})),o(n,"$urlsafe_decode64",(function(e){return r(e.replace(/\-/g,"+").replace(/_/g,"/"))})),o(n,"$urlsafe_encode64",(function(e,r){var n,i=$;return null==(n=(r=s(r)).$$smap.padding)&&(n=!0),i=t(e).replace(/\+/g,"-").replace(/\//g,"_"),a(n)||(i=i.$delete("=")),i}),-2)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){var t=e.klass,r=e.truthy,n=e.rb_gt,i=e.def,o=[],s=e.$r(o);return e.nil,e.add_stubs("coerce_to!,>"),function(o,s,a){var $=t(o,s,"Number"),l=[$].concat(a),u=e.$r(l);return i($,"$round",(function(e){return e=u("Opal")["$coerce_to!"](e,u("Integer"),"to_int"),r(n(e,0))?Number(this.toFixed(e)):Math.round(this)}),-1)}(o[0],s("Numeric"),o)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var t=e.top;e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/opal_ext/kernel"),t.$require("asciidoctor/js/opal_ext/file"),t.$require("asciidoctor/js/opal_ext/match_data"),t.$require("asciidoctor/js/opal_ext/string"),t.$require("asciidoctor/js/opal_ext/uri"),t.$require("asciidoctor/js/opal_ext/base64"),t.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",t.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){var t=e.module,r=e.const_set,n=e.send,i=e.gvars,o=e.truthy,s=e.defs,a=e.rb_plus,$=[],l=e.nil;return e.add_stubs("gsub,+,unpack_hex_range"),function($,u){var c=t($,"Asciidoctor"),_=[c].concat(u),d=e.$r(_);return r(_[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),s(c,"$unpack_hex_range",(function(e){return n(e,"gsub",[d("HEX_RANGE_RX")],(function(){var e,t;return"\\u"+((e=i["~"])===l?l:e["$[]"](1))+(o(t=(e=i["~"])===l?l:e["$[]"](2))?"-\\u"+((e=i["~"])===l?l:e["$[]"](2)):t)}))})),r(_[0],"P_L",a("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),r(_[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),r(_[0],"P_Nd",a("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),r(_[0],"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),r(_[0],"CC_ALPHA",""+d("P_L")+d("P_Nl")),r(_[0],"CG_ALPHA","["+d("CC_ALPHA")+"]"),r(_[0],"CC_ALNUM",""+d("CC_ALPHA")+d("P_Nd")),r(_[0],"CG_ALNUM","["+d("CC_ALNUM")+"]"),r(_[0],"CC_WORD",""+d("CC_ALNUM")+d("P_Pc")),r(_[0],"CG_WORD","["+d("CC_WORD")+"]"),r(_[0],"CG_BLANK","[ \\t]"),r(_[0],"CC_EOL","(?=\\n|$)"),r(_[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),r(_[0],"CC_ALL","[\\s\\S]"),r(_[0],"CC_ANY","[^\\n]")}($[0],$)},Opal.modules.strscan=function(e){var t=e.klass,r=e.def,n=e.truthy,i=e.eqeqeq,o=e.Opal,s=e.return_ivar,a=e.send,$=e.alias,l=[],u=e.nil;return e.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(l,c,_){var d=t(l,null,"StringScanner"),p=[d].concat(_),h=e.$r(p),f=d.$$prototype;return f.pos=f.string=f.working=f.matched=f.prev_pos=f.match=u,d.$attr_reader("pos","matched"),r(d,"$initialize",(function(e){var t=this;return t.string=e,t.pos=0,t.matched=u,t.working=e,t.match=[]})),d.$attr_reader("string"),r(d,"$beginning_of_line?",(function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)})),r(d,"$scan",(function(e){var t=this,r=(e=t.$anchor(e)).exec(t.working);return null==r?t.matched=u:(t.prev_pos=t.pos,t.pos+=r[0].length,t.working=t.working.substring(r[0].length),t.matched=r[0],t.match=r,r[0])})),r(d,"$scan_until",(function(e){var t=this;e=t.$anchor(e);for(var r=t.working,n=0;r.length!=n;++n){var i=e.exec(r.substr(n));if(null!==i){var o=n+i[0].length,s=r.substr(0,o);return t.matched=i[0],t.match=i,t.prev_pos=t.pos+n,t.pos+=o,t.working=r.substr(o),s}}return t.matched=u})),r(d,"$[]",(function(e){var t;if(n(this.match["$empty?"]()))return u;i(h("Symbol"),t=e)?e=e.$to_s():i(h("String"),t)||(e=o["$coerce_to!"](e,h("Integer"),"to_int"));var r=this.match;return e<0&&(e+=r.length),e<0||e>=r.length||null==r[e]?u:r[e]})),r(d,"$check",(function(e){var t=this,r=(e=t.$anchor(e)).exec(t.working);return t.matched=null==r?u:r[0]})),r(d,"$check_until",(function(e){var t=this,r=t.prev_pos,n=t.pos,i=t.working,o=t.$scan_until(e);return t.prev_pos=r,t.pos=n,t.working=i,o})),r(d,"$peek",(function(e){return this.working.substring(0,e)})),r(d,"$eos?",(function(){return 0===this.working.length})),r(d,"$exist?",(function(e){var t=e.exec(this.working);return null==t?u:0==t.index?0:t.index+1})),r(d,"$skip",(function(e){var t=this,r=(e=t.$anchor(e)).exec(t.working);if(null==r)return t.match=[],t.matched=u;var n=r[0],i=n.length;return t.matched=n,t.match=r,t.prev_pos=t.pos,t.pos+=i,t.working=t.working.substring(i),i})),r(d,"$skip_until",(function(e){var t=this.$scan_until(e);return t===u?u:(this.matched=t.substr(-1),t.length)})),r(d,"$get_byte",(function(){var e=this,t=u;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=u,t})),r(d,"$match?",(function(e){var t=this,r=(e=t.$anchor(e)).exec(t.working);return null==r?u:(t.prev_pos=t.pos,r[0].length)})),r(d,"$pos=",(function(e){var t=this;return e<0&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)})),r(d,"$matched_size",(function(){return this.matched===u?u:this.matched.length})),r(d,"$post_match",(function(){var e=this;return e.matched===u?u:e.string.substr(e.pos)})),r(d,"$pre_match",(function(){var e=this;return e.matched===u?u:e.string.substr(0,e.prev_pos)})),r(d,"$reset",(function(){var e=this;return e.working=e.string,e.matched=u,e.pos=0})),r(d,"$rest",s("working")),r(d,"$rest?",(function(){return 0!==this.working.length})),r(d,"$rest_size",(function(){return this.$rest().$size()})),r(d,"$terminate",(function(){var e,t=this;return t.match=u,e=[t.string.$length()],a(t,"pos=",e),e[e.length-1]})),r(d,"$unscan",(function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=u,e.match=u,e})),$(d,"bol?","beginning_of_line?"),$(d,"getch","get_byte"),d.$private(),r(d,"$anchor",(function(e){var t=e.toString().match(/\/([^\/]+)$/);return t=t?t[1]:void 0,new RegExp("^(?:"+e.source+")",t)}))}(l[0],0,l)},Opal.modules["asciidoctor/js"]=function(e){var t=e.top;return e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/opal_ext"),t.$require("asciidoctor/js/rx"),t.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var t,r=e.klass,n=e.truthy,i=e.alias,o=[],s=e.nil;return e.add_stubs("method_defined?,nil?,empty?"),t=r(o[0],null,"NilClass"),n(t["$method_defined?"]("nil_or_empty?"))||i(t,"nil_or_empty?","nil?"),function(e,t){var o=r(e,null,"String");n(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=r(e,null,"Array");n(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=r(e,null,"Hash");n(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=r(e,null,"Numeric");return n(o["$method_defined?"]("nil_or_empty?"))?s:i(o,"nil_or_empty?","nil?")}(o[0])},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){var t=e.eqeq,r=e.send,n=e.slice,i=e.truthy,o=e.rb_lt,s=e.rb_gt,a=e.send2,$=e.find_super,l=e.def,u=e.top,c=e.$r([]),_=e.nil;return e.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),t(c("Hash").$instance_method("merge").$arity(),1)?c("Hash").$send("prepend",r(c("Module"),"new",[],(function e(){return l(null==e.$$s?this:e.$$s,"$merge",(function e(t){var l,u,c,d=this;return e.$$p=null,l=n(arguments),i(o(c=(u=l).$length(),1))?d.$dup():i(s(c,1))?r(u,"inject",[d],(function(e,t){return null==e&&(e=_),null==t&&(t=_),e.$merge(t)})):a(d,$(d,"merge",e,!1,!0),"merge",[u["$[]"](0)],null)}),-1)}),{$$s:u})):_},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var t,r=e.truthy,n=e.klass,i=e.def,o=[],s=e.$r(o),a=e.nil;return e.add_stubs("method_defined?"),r(s("MatchData")["$method_defined?"]("names"))?a:(t=n(o[0],null,"MatchData"),i(t,"$names",(function(){return[]})))},Opal.modules["asciidoctor/core_ext"]=function(e){var t=e.top;return e.nil,t.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),t.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),t.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(e){var t=e.module,r=e.truthy,n=e.eqeq,i=e.gvars,o=e.def,s=e.send,a=e.neqeq,$=e.const_set,l=e.hash2,u=e.to_ary,c=e.rb_times,_=e.eqeqeq,d=e.rb_plus,p=e.Class,h=e.Object,f=[],m=e.nil,g=e.$$$;return e.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,match?,gsub,rindex,index,basename,extname,!,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(f,b){var v=[t(f,"Asciidoctor")].concat(b);return function(f,b){var v=t(f,"Helpers"),y=[v].concat(b),x=e.$r(y);return v.$module_function(),o(v,"$require_library",(function(t,o,s){var a=this,$=m;null==i["!"]&&(i["!"]=m),null==o&&(o=!0),null==s&&(s="abort");try{return a.$require(t)}catch(l){if(!e.rescue(l,[g("LoadError")]))throw l;try{if(r(a["$include?"](x("Logging")))||a.$include(x("Logging")),r(o))switch(n(o,!0)&&(o=t),s){case"abort":$=n(i["!"].$path(),o)?"":" (reason: "+(r(i["!"].$path())?"cannot load '"+i["!"].$path()+"'":i["!"].$message())+")",a.$raise(g("LoadError"),"asciidoctor: FAILED: required gem '"+o+"' is not available"+$+". Processing aborted.");break;case"warn":$=n(i["!"].$path(),o)?"":" (reason: "+(r(i["!"].$path())?"cannot load '"+i["!"].$path()+"'":i["!"].$message())+")",a.$logger().$warn("optional gem '"+o+"' is not available"+$+". Functionality disabled.")}else switch(s){case"abort":a.$raise(g("LoadError"),"asciidoctor: FAILED: "+i["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":a.$logger().$warn(i["!"].$message().$chomp(".")+". Functionality disabled.")}return m}finally{e.pop_exception()}}}),-2),o(v,"$prepare_source_array",(function(e,t){var i,o=m,a=m;return null==t&&(t=!0),r(e["$empty?"]())?[]:n(i=(o=(a=e["$[]"](0)).$unpack("C3")).$slice(0,2),x("BOM_BYTES_UTF_16LE"))?(e["$[]="](0,a.$byteslice(2,a.$bytesize())),r(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8"),g(g("Encoding"),"UTF_16LE")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8"),g(g("Encoding"),"UTF_16LE")).$chomp()}))):n(i,x("BOM_BYTES_UTF_16BE"))?(e["$[]="](0,a.$byteslice(2,a.$bytesize())),r(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8"),g(g("Encoding"),"UTF_16BE")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8"),g(g("Encoding"),"UTF_16BE")).$chomp()}))):(n(o,x("BOM_BYTES_UTF_8"))&&e["$[]="](0,a.$byteslice(3,a.$bytesize())),n(a.$encoding(),x("UTF_8"))?r(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$chomp()})):r(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(x("UTF_8")).$chomp()})))}),-2),o(v,"$prepare_source_string",(function(e,t){var i,o=m;return null==t&&(t=!0),r(e["$nil_or_empty?"]())?[]:(n(i=(o=e.$unpack("C3")).$slice(0,2),x("BOM_BYTES_UTF_16LE"))?e=e.$byteslice(2,e.$bytesize()).$encode(x("UTF_8"),g(g("Encoding"),"UTF_16LE")):n(i,x("BOM_BYTES_UTF_16BE"))?e=e.$byteslice(2,e.$bytesize()).$encode(x("UTF_8"),g(g("Encoding"),"UTF_16BE")):n(o,x("BOM_BYTES_UTF_8"))?(e=e.$byteslice(3,e.$bytesize()),n(e.$encoding(),x("UTF_8"))||(e=e.$encode(x("UTF_8")))):a(e.$encoding(),x("UTF_8"))&&(e=e.$encode(x("UTF_8"))),r(t)?s([],"tap",[],(function(t){return null==t&&(t=m),s(e,"each_line",[],(function(e){return null==e&&(e=m),t["$<<"](e.$rstrip())}))})):s([],"tap",[],(function(t){return null==t&&(t=m),s(e,"each_line",[],(function(e){return null==e&&(e=m),t["$<<"](e.$chomp())}))})))}),-2),o(v,"$uriish?",(function(e){var t;return r(t=e["$include?"](":"))?x("UriSniffRx")["$match?"](e):t})),o(v,"$encode_uri_component",(function(e){return encodeURIComponent(e).replace(/%20|[!'()*]/g,(function(e){return"%20"===e?"+":"%"+e.charCodeAt(0).toString(16)}))})),o(v,"$encode_spaces_in_uri",(function(e){return r(e["$include?"](" "))?e.$gsub(" ","%20"):e})),o(v,"$rootname",(function(e){var t;return r(t=e.$rindex("."))?r(e.$index("/",t))?e:e.$slice(0,t):e})),o(v,"$basename",(function(e,t){return null==t&&(t=m),r(t)?g("File").$basename(e,n(t,!0)?this.$extname(e):t):g("File").$basename(e)}),-2),o(v,"$extname?",(function(e){var t,n;return r(t=n=e.$rindex("."))?e.$index("/",n)["$!"]():t})),r(g(g("File"),"ALT_SEPARATOR"))?o(v,"$extname",(function(e,t){var n;return null==t&&(t=""),r(n=e.$rindex("."))?r(e.$index("/",n))||r(e.$index(g(g("File"),"ALT_SEPARATOR"),n))?t:e.$slice(n,e.$length()):t}),-2):o(v,"$extname",(function(e,t){var n;return null==t&&(t=""),r(n=e.$rindex("."))?r(e.$index("/",n))?t:e.$slice(n,e.$length()):t}),-2),o(v,"$mkdir_p",(function(t){var i=m;if(r(g("File")["$directory?"](t)))return m;n(i=g("File").$dirname(t),".")||this.$mkdir_p(i);try{return g("Dir").$mkdir(t)}catch(n){if(!e.rescue(n,[g("SystemCallError")]))throw n;try{return r(g("File")["$directory?"](t))?m:this.$raise()}finally{e.pop_exception()}}})),$(y[0],"ROMAN_NUMERALS",l(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),v.$private_constant("ROMAN_NUMERALS"),o(v,"$int_to_roman",(function(e){return s(x("ROMAN_NUMERALS"),"map",[],(function(t,r){var n,i,o;return null==t&&(t=m),null==r&&(r=m),i=e.$divmod(r),o=null==(n=u(i))[0]?m:n[0],e=null==n[1]?m:n[1],c(t,o)})).$join()})),o(v,"$nextval",(function(e){var t=m;return _(g("Integer"),e)?d(e,1):n((t=e.$to_i()).$to_s(),e.$to_s())?d(t,1):e.$succ()})),o(v,"$resolve_class",(function(e){return _(p,e)?e:_(g("String"),e)?this.$class_for_name(e):m})),o(v,"$class_for_name",(function(t){var r=m;try{return _(p,r=h.$const_get(t,!1))||this.$raise(),r}catch(r){if(!e.rescue(r,[x("StandardError")]))throw r;try{return this.$raise(g("NameError"),"Could not resolve class for name: "+t)}finally{e.pop_exception()}}}))}(v[0],v)}(f[0],f)},Opal.modules.logger=function(e){var t=e.klass,r=e.module,n=e.const_set,i=e.send,o=e.def,s=e.eqeqeq,a=e.rb_plus,$=e.truthy,l=e.rb_le,u=e.rb_lt,c=[],_=e.nil,d=e.$$$;return e.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(c,p,h){var f=t(c,null,"Logger"),m=[f].concat(h),g=e.$r(m),b=f.$$prototype;return b.level=b.progname=b.pipe=b.formatter=_,function(e,t){var i=[r(e,"Severity")].concat(t);n(i[0],"DEBUG",0),n(i[0],"INFO",1),n(i[0],"WARN",2),n(i[0],"ERROR",3),n(i[0],"FATAL",4),n(i[0],"UNKNOWN",5)}(m[0],m),f.$include(g("Severity")),n(m[0],"SEVERITY_LABELS",i(g("Severity").$constants(),"map",[],(function(e){return null==e&&(e=_),[g("Severity").$const_get(e),e.$to_s()]})).$to_h()),function(r,i,l){var u=t(r,null,"Formatter"),c=[u].concat(l),p=e.$r(c);n(c[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),n(c[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),o(u,"$call",(function(e,t,r,n){return this.$format(p("MESSAGE_FORMAT"),e.$chr(),t.$strftime(p("DATE_TIME_FORMAT")),e,r,this.$message_as_string(n))})),o(u,"$message_as_string",(function(e){var t,r=_;return s(d("String"),t=e)?e:s(d("Exception"),t)?a(e.$message()+" ("+e.$class()+")\n",($(r=e.$backtrace())?r:[]).$join("\n")):e.$inspect()}))}(m[0],0,m),f.$attr_reader("level"),f.$attr_accessor("progname"),f.$attr_accessor("formatter"),o(f,"$initialize",(function(e){var t=this;return t.pipe=e,t.level=g("DEBUG"),t.formatter=g("Formatter").$new()})),o(f,"$level=",(function(e){var t=this,r=_;return s(d("Integer"),e)?t.level=e:$(r=g("SEVERITY_LABELS").$key(e.$to_s().$upcase()))?t.level=r:t.$raise(g("ArgumentError"),"invalid log level: "+e)})),o(f,"$info",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("INFO"),_,t],r.$to_proc())}),-1),o(f,"$debug",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("DEBUG"),_,t],r.$to_proc())}),-1),o(f,"$warn",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("WARN"),_,t],r.$to_proc())}),-1),o(f,"$error",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("ERROR"),_,t],r.$to_proc())}),-1),o(f,"$fatal",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("FATAL"),_,t],r.$to_proc())}),-1),o(f,"$unknown",(function e(t){var r=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("UNKNOWN"),_,t],r.$to_proc())}),-1),o(f,"$info?",(function(){return l(this.level,g("INFO"))})),o(f,"$debug?",(function(){return l(this.level,g("DEBUG"))})),o(f,"$warn?",(function(){return l(this.level,g("WARN"))})),o(f,"$error?",(function(){return l(this.level,g("ERROR"))})),o(f,"$fatal?",(function(){return l(this.level,g("FATAL"))})),o(f,"$add",(function t(r,n,i){var o=t.$$p||_,s=this,a=_;return t.$$p=null,null==n&&(n=_),null==i&&(i=_),$(u(r=$(a=r)?a:g("UNKNOWN"),s.level))||(i=$(a=i)?a:s.progname,$(n)||(o!==_?n=e.yieldX(o,[]):(n=i,i=s.progname)),s.pipe.$write(s.formatter.$call($(a=g("SEVERITY_LABELS")["$[]"](r))?a:"ANY",d("Time").$now(),i,n))),!0}),-2)}(c[0],0,c)},Opal.modules["asciidoctor/logging"]=function(e){var t=e.module,r=e.klass,n=e.slice,i=e.send2,o=e.find_super,s=e.to_a,a=e.send,$=e.def,l=e.truthy,u=e.rb_gt,c=e.const_set,_=e.hash2,d=e.eqeqeq,p=e.gvars,h=e.alias,f=e.defs,m=e.top,g=[],b=e.nil,v=e.$$$;return e.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),m.$require("logger"),function(m,g){var y=[t(m,"Asciidoctor")].concat(g);return function(p,h,f){var m=r(p,h,"Logger"),g=[m].concat(f),y=e.$r(g);m.$$prototype.max_severity=b,m.$attr_reader("max_severity"),$(m,"$initialize",(function e(t){var r,$,l=e.$$p||b,u=this;return e.$$p=null,r=n(arguments),i(u,o(u,"initialize",e,!1,!0),"initialize",s(r),l),u["$progname="]("asciidoctor"),u["$formatter="](y("BasicFormatter").$new()),$=[y("WARN")],a(u,"level=",$),$[$.length-1]}),-1),$(m,"$add",(function e(t,r,n){var s=e.$$p||b,a=this,$=b;return e.$$p=null,null==r&&(r=b),null==n&&(n=b),l(u(t=l($=t)?$:y("UNKNOWN"),a.max_severity=l($=a.max_severity)?$:t))&&(a.max_severity=t),i(a,o(a,"add",e,!1,!0),"add",[t,r,n],s)}),-2),function(t,n,i){var o=r(t,n,"BasicFormatter"),s=[o].concat(i),a=e.$r(s);c(s[0],"SEVERITY_LABEL_SUBSTITUTES",_(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),$(o,"$call",(function(e,t,r,n){var i;return r+": "+(l(i=a("SEVERITY_LABEL_SUBSTITUTES")["$[]"](e))?i:e)+": "+(d(v("String"),n)?n:n.$inspect())+a("LF")}))}(g[0],y("Formatter"),g),function(e){var r=t(e,"AutoFormattingMessage");$(r,"$inspect",(function(){var e,t=this;return l(e=t["$[]"]("source_location"))?e+": "+t["$[]"]("text"):t["$[]"]("text")}))}(g[0])}(y[0],v("Logger"),y),function(t,n,i){var o=r(t,n,"MemoryLogger"),s=[o].concat(i),u=e.$r(s);o.$$prototype.messages=b,c(s[0],"SEVERITY_SYMBOL_BY_VALUE",a(u("Severity").$constants(!1),"map",[],(function(e){return null==e&&(e=b),[u("Severity").$const_get(e),e]})).$to_h()),o.$attr_reader("messages"),$(o,"$initialize",(function(){return this["$level="](u("WARN")),this.messages=[]})),$(o,"$add",(function t(r,n,i){var o=t.$$p||b,s=b;return t.$$p=null,null==n&&(n=b),null==i&&(i=b),n=l(s=n)?s:o!==b?e.yieldX(o,[]):i,this.messages["$<<"](_(["severity","message"],{severity:u("SEVERITY_SYMBOL_BY_VALUE")["$[]"](l(s=r)?s:u("UNKNOWN")),message:n})),!0}),-2),$(o,"$clear",(function(){return this.messages.$clear()})),$(o,"$empty?",(function(){return this.messages["$empty?"]()})),$(o,"$max_severity",(function(){return l(this["$empty?"]())?b:a(this.messages,"map",[],(function(e){return null==e&&(e=b),u("Severity").$const_get(e["$[]"]("severity"))})).$max()}))}(y[0],v("Logger"),y),function(t,n,i){var o=r(t,n,"NullLogger"),s=[o].concat(i),c=e.$r(s);o.$$prototype.max_severity=b,o.$attr_reader("max_severity"),$(o,"$initialize",(function(){var e;return e=[c("WARN")],a(this,"level=",e),e[e.length-1]})),$(o,"$add",(function(e,t,r){var n=this,i=b;return l(u(e=l(i=e)?i:c("UNKNOWN"),n.max_severity=l(i=n.max_severity)?i:e))&&(n.max_severity=e),!0}),-2)}(y[0],v("Logger"),y),function(r,n){var i=t(r,"LoggerManager"),o=[i].concat(n),s=e.$r(o);i.logger_class=s("Logger"),function(t,r){t.$attr_accessor("logger_class"),$(t,"$logger",(function(e){var t,r=this;return null==r.logger&&(r.logger=b),null==r.logger_class&&(r.logger_class=b),null==p.stderr&&(p.stderr=b),null==e&&(e=p.stderr),r.$memoize_logger(),r.logger=l(t=r.logger)?t:r.logger_class.$new(e)}),-1),$(t,"$logger=",(function(e){var t,r=this;return null==r.logger_class&&(r.logger_class=b),null==p.stderr&&(p.stderr=b),r.logger=l(t=e)?t:r.logger_class.$new(p.stderr)})),t.$private(),$(t,"$memoize_logger",(function(){return function(e,t){return h(e,"logger","logger"),e.$attr_reader("logger")}(e.get_singleton_class(this))}))}(e.get_singleton_class(i))}(y[0],y),function(r,n){var i=t(r,"Logging"),o=[i].concat(n),s=e.$r(o);return f(i,"$included",(function(e){return e.$extend(s("Logging"))})),i.$private_class_method("included"),$(i,"$logger",(function(){return s("LoggerManager").$logger()})),$(i,"$message_with_context",(function(e,t){return null==t&&(t=_([],{})),_(["text"],{text:e}).$merge(t).$extend(v(s("Logger"),"AutoFormattingMessage"))}),-2)}(y[0],y)}(g[0],g)},Opal.modules["asciidoctor/rx"]=function(e){var t=e.module,r=e.const_set,n=e.regexp,i=e.hash2,o=e.send,s=e.truthy,a=e.hash,$=[],l=e.nil,u=e.$$$;return e.add_stubs("join,to_a,new,[]=,empty?,escape"),function($,c){var _=[t($,"Asciidoctor")].concat(c),d=e.$r(_);return t(_[0],"Rx"),r(_[0],"AuthorInfoLineRx",n(["^(",d("CG_WORD"),"[",d("CC_WORD"),"\\-'.]*)(?: +(",d("CG_WORD"),"[",d("CC_WORD"),"\\-'.]*))?(?: +(",d("CG_WORD"),"[",d("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),r(_[0],"AuthorDelimiterRx",/;(?: |$)/),r(_[0],"RevisionInfoLineRx",n(["^(?:[^\\d{]*(",d("CC_ANY"),"*?),)? *(?!:)(",d("CC_ANY"),"*?)(?: *(?!^),?: *(",d("CC_ANY"),"*))?$"])),r(_[0],"ManpageTitleVolnumRx",n(["^(",d("CC_ANY"),"+?) *\\( *(",d("CC_ANY"),"+?) *\\)$"])),r(_[0],"ManpageNamePurposeRx",n(["^(",d("CC_ANY"),"+?) +- +(",d("CC_ANY"),"+)$"])),r(_[0],"ConditionalDirectiveRx",n(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",d("CC_ANY"),"+)?\\]$"])),r(_[0],"EvalExpressionRx",n(["^(",d("CC_ANY"),"+?) *([=!><]=|[><]) *(",d("CC_ANY"),"+)$"])),r(_[0],"IncludeDirectiveRx",n(["^(\\\\)?include::([^\\[][^\\[]*)\\[(",d("CC_ANY"),"+)?\\]$"])),r(_[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),r(_[0],"AttributeEntryRx",n(["^:(!?",d("CG_WORD"),"[^:]*):(?:[ \\t]+(",d("CC_ANY"),"*))?$"])),r(_[0],"InvalidAttributeNameCharsRx",n(["[^",d("CC_WORD"),"-]"])),r(_[0],"AttributeEntryPassMacroRx",n(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",d("CC_ALL"),"*)\\]$"])),r(_[0],"AttributeReferenceRx",n(["(\\\\)?\\{(",d("CG_WORD"),"[",d("CC_WORD"),"-]*|(set|counter2?):",d("CC_ANY"),"+?)(\\\\)?\\}"])),r(_[0],"BlockAnchorRx",n(["^\\[\\[(?:|([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+))?)\\]\\]$"])),r(_[0],"BlockAttributeListRx",n(["^\\[(|[",d("CC_WORD"),".#%{,\"']",d("CC_ANY"),"*)\\]$"])),r(_[0],"BlockAttributeLineRx",n(["^\\[(?:|[",d("CC_WORD"),".#%{,\"']",d("CC_ANY"),"*|\\[(?:|[",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*(?:, *",d("CC_ANY"),"+)?)\\])\\]$"])),r(_[0],"BlockTitleRx",n(["^\\.(\\.?[^ \\t.]",d("CC_ANY"),"*)$"])),r(_[0],"AdmonitionParagraphRx",n(["^(",d("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),r(_[0],"LiteralParagraphRx",n(["^([ \\t]+",d("CC_ANY"),"*)$"])),r(_[0],"AtxSectionTitleRx",n(["^(=={0,5})[ \\t]+(",d("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),r(_[0],"ExtAtxSectionTitleRx",n(["^(=={0,5}|#\\#{0,5})[ \\t]+(",d("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),r(_[0],"SetextSectionTitleRx",n(["^((?!\\.)",d("CC_ANY"),"*?",d("CG_ALNUM"),d("CC_ANY"),"*)$"])),r(_[0],"InlineSectionAnchorRx",n([" (\\\\)?\\[\\[([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+))?\\]\\]$"])),r(_[0],"InvalidSectionIdCharsRx",n(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",d("CC_WORD"),"\\-.]+?"])),r(_[0],"SectionLevelStyleRx",/^sect\d$/),r(_[0],"AnyListRx",n(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",d("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),r(_[0],"UnorderedListRx",n(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",d("CC_ANY"),"*)$"])),r(_[0],"OrderedListRx",n(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",d("CC_ANY"),"*)$"])),r(_[0],"OrderedListMarkerRxMap",i(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),r(_[0],"DescriptionListRx",n(["^(?!//[^/])[ \\t]*([^ \\t]",d("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",d("CC_ANY"),"*)$)"])),r(_[0],"DescriptionListSiblingRx",i(["::",":::","::::",";;"],{"::":n(["^(?!//[^/])[ \\t]*([^ \\t]",d("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",d("CC_ANY"),"*)$)"]),":::":n(["^(?!//[^/])[ \\t]*([^ \\t]",d("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",d("CC_ANY"),"*)$)"]),"::::":n(["^(?!//[^/])[ \\t]*([^ \\t]",d("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",d("CC_ANY"),"*)$)"]),";;":n(["^(?!//[^/])[ \\t]*([^ \\t]",d("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",d("CC_ANY"),"*)$)"])})),r(_[0],"CalloutListRx",n(["^<(\\d+|\\.)>[ \\t]+(",d("CC_ANY"),"*)$"])),r(_[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),r(_[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),r(_[0],"CalloutExtractRxMap",o(u("Hash"),"new",[],(function(e,t){var r;return null==e&&(e=l),null==t&&(t=l),r=[t,n(["(",s(t["$empty?"]())?"":u("Regexp").$escape(t)+" ?",")?",d("CalloutExtractRxt")])],o(e,"[]=",r),r[r.length-1]}))),r(_[0],"CalloutScanRx",n(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",d("CC_EOL"),")"])),r(_[0],"CalloutSourceRx",n(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",d("CC_EOL"),")"])),r(_[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+d("CC_EOL")+")"),r(_[0],"CalloutSourceRxMap",o(u("Hash"),"new",[],(function(e,t){var r;return null==e&&(e=l),null==t&&(t=l),r=[t,n(["(",s(t["$empty?"]())?"":u("Regexp").$escape(t)+" ?",")?",d("CalloutSourceRxt")])],o(e,"[]=",r),r[r.length-1]}))),r(_[0],"ListRxMap",i(["ulist","olist","dlist","colist"],{ulist:d("UnorderedListRx"),olist:d("OrderedListRx"),dlist:d("DescriptionListRx"),colist:d("CalloutListRx")})),r(_[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),r(_[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),r(_[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),r(_[0],"CustomBlockMacroRx",n(["^(",d("CG_WORD"),"[",d("CC_WORD"),"-]*)::(|\\S|\\S",d("CC_ANY"),"*?\\S)\\[(",d("CC_ANY"),"+)?\\]$"])),r(_[0],"BlockMediaMacroRx",n(["^(image|video|audio)::(\\S|\\S",d("CC_ANY"),"*?\\S)\\[(",d("CC_ANY"),"+)?\\]$"])),r(_[0],"BlockTocMacroRx",n(["^toc::\\[(",d("CC_ANY"),"+)?\\]$"])),r(_[0],"InlineAnchorRx",n(["(\\\\)?(?:\\[\\[([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+?))?\\]\\]|anchor:([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",d("CC_ANY"),"*?[^\\\\])\\]))"])),r(_[0],"InlineAnchorScanRx",n(["(?:^|[^\\\\\\[])\\[\\[([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",d("CC_ANY"),"*?[^\\\\])\\])"])),r(_[0],"LeadingInlineAnchorRx",n(["^\\[\\[([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+?))?\\]\\]"])),r(_[0],"InlineBiblioAnchorRx",n(["^\\[\\[\\[([",d("CC_ALPHA"),"_:][",d("CC_WORD"),"\\-:.]*)(?:, *(",d("CC_ANY"),"+?))?\\]\\]\\]"])),r(_[0],"InlineEmailRx",n(["([\\\\>:/])?",d("CG_WORD"),"(?:&amp;|[",d("CC_WORD"),"\\-.%+])*@",d("CG_ALNUM"),"[",d("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),r(_[0],"InlineFootnoteMacroRx",n(["\\\\?footnote(?:(ref):|:([",d("CC_WORD"),"-]+)?)\\[(?:|(",d("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),r(_[0],"InlineImageMacroRx",n(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",d("CC_ALL"),"*?[^\\\\])\\]"],"m")),r(_[0],"InlineIndextermMacroRx",n(["\\\\?(?:(indexterm2?):\\[(",d("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",d("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),r(_[0],"InlineKbdBtnMacroRx",n(["(\\\\)?(kbd|btn):\\[(",d("CC_ALL"),"*?[^\\\\])\\]"],"m")),r(_[0],"InlineLinkRx",n(["(^|link:|",d("CG_BLANK"),"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|",d("CC_ALL"),"*?[^\\\\])\\])?"],"m")),r(_[0],"InlineLinkMacroRx",n(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",d("CC_ALL"),"*?[^\\\\])\\]"],"m")),r(_[0],"MacroNameRx",n(["^",d("CG_WORD"),"[",d("CC_WORD"),"-]*$"])),r(_[0],"InlineStemMacroRx",n(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",d("CC_ALL"),"*?[^\\\\])\\]"],"m")),r(_[0],"InlineMenuMacroRx",n(["\\\\?menu:(",d("CG_WORD"),"|[",d("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",d("CC_ALL"),"*?[^\\\\]))\\]"],"m")),r(_[0],"InlineMenuRx",n(['\\\\?"([',d("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),r(_[0],"InlinePassRx",a(!1,["+","`",n(["(^|[^",d("CC_WORD"),";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S",d("CC_ALL"),"*?\\S)\\4)(?!",d("CG_WORD"),")"],"m")],!0,["`",l,n(["(^|[^`",d("CC_WORD"),"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]",d("CC_ALL"),"*?\\S)\\4)(?![`",d("CC_WORD"),"])"],"m")])),r(_[0],"SinglePlusInlinePassRx",n(["^(\\\\)?\\+(\\S|\\S",d("CC_ALL"),"*?\\S)\\+$"],"m")),r(_[0],"InlinePassMacroRx",n(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",d("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",d("CC_ALL"),"*?[^\\\\])\\])"],"m")),r(_[0],"InlineXrefMacroRx",n(["\\\\?(?:&lt;&lt;([",d("CC_WORD"),"#/.:{]",d("CC_ALL"),"*?)&gt;&gt;|xref:([",d("CC_WORD"),"#/.:{]",d("CC_ALL"),"*?)\\[(?:\\]|(",d("CC_ALL"),"*?[^\\\\])\\]))"],"m")),r(_[0],"HardLineBreakRx",n(["^(",d("CC_ANY"),"*) \\+$"],"m")),r(_[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),r(_[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),r(_[0],"BlankLineRx",/\n{2,}/),r(_[0],"EscapedSpaceRx",/\\([ \t\n])/),r(_[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),r(_[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),r(_[0],"SubModifierSniffRx",/[+-]/),r(_[0],"TrailingDigitsRx",/\d+$/),r(_[0],"UriSniffRx",n(["^",d("CG_ALPHA"),"[",d("CC_ALNUM"),".+-]+:/{0,2}"])),r(_[0],"XmlSanitizeRx",/<[^>]+>/)}($[0],$)},Opal.modules["asciidoctor/substitutors"]=function(e){var t=e.module,r=e.const_set,n=e.hash2,i=e.hash,o=e.rb_plus,s=e.regexp,a=e.not,$=e.truthy,l=e.send,u=e.def,c=e.alias,_=e.gvars,d=e.eqeq,p=e.to_ary,h=e.neqeq,f=e.to_a,m=e.eqeqeq,g=e.rb_gt,b=e.slice,v=e.rb_minus,y=e.rb_lt,x=e.rb_times,k=[],w=e.nil,A=e.$$$;return e.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,extract_inner_passthrough,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,=~,shorthand_property_syntax,each_char"),function(k,E){var S=[t(k,"Asciidoctor")].concat(E);return function(k,E){var S=t(k,"Substitutors"),C=[S].concat(E),O=e.$r(C);return r(C[0],"SpecialCharsRx",/[<&>]/),r(C[0],"SpecialCharsTr",n([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),r(C[0],"QuotedTextSniffRx",i(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),r(C[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),r(C[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),r(C[0],"NO_SUBS",[]).$freeze(),r(C[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),r(C[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),r(C[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),r(C[0],"SUB_GROUPS",n(["none","normal","verbatim","specialchars"],{none:O("NO_SUBS"),normal:O("NORMAL_SUBS"),verbatim:O("VERBATIM_SUBS"),specialchars:O("BASIC_SUBS")})),r(C[0],"SUB_HINTS",n(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),r(C[0],"SUB_OPTIONS",n(["block","inline"],{block:o(o(O("SUB_GROUPS").$keys(),O("NORMAL_SUBS")),["callouts"]),inline:o(O("SUB_GROUPS").$keys(),O("NORMAL_SUBS"))})),r(C[0],"CAN",""),r(C[0],"DEL",""),r(C[0],"PASS_START",""),r(C[0],"PASS_END",""),r(C[0],"PassSlotRx",s([O("PASS_START"),"(\\d+)",O("PASS_END")])),r(C[0],"HighlightedPassSlotRx",s(["<span\\b[^>]*>",O("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",O("PASS_END"),"</span>"])),r(C[0],"RS","\\"),r(C[0],"R_SB","]"),r(C[0],"ESC_R_SB","\\]"),r(C[0],"PLUS","+"),u(S,"$apply_subs",(function(e,t){var r,n=this,i=w,o=w,s=w;return null==n.passthroughs&&(n.passthroughs=w),null==n.passthroughs_locked&&(n.passthroughs_locked=w),null==t&&(t=O("NORMAL_SUBS")),$(e["$empty?"]())||a(t)?e:($(r=A("Array")["$==="](e))&&(e=$(e["$[]"](1))?e.$join(O("LF")):e["$[]"](0)),$(t["$include?"]("macros"))&&(e=n.$extract_passthroughs(e),$(n.passthroughs["$empty?"]())||(i=n.passthroughs,n.passthroughs_locked=$(o=n.passthroughs_locked)?o:s=!0)),l(t,"each",[],(function r(n){var i=null==r.$$s?this:r.$$s;switch(null==n&&(n=w),n){case"specialcharacters":return e=i.$sub_specialchars(e);case"quotes":return e=i.$sub_quotes(e);case"attributes":return $(e["$include?"](O("ATTR_REF_HEAD")))?e=i.$sub_attributes(e):w;case"replacements":return e=i.$sub_replacements(e);case"macros":return e=i.$sub_macros(e);case"highlight":return e=i.$highlight_source(e,t["$include?"]("callouts"));case"callouts":return $(t["$include?"]("highlight"))?w:e=i.$sub_callouts(e);case"post_replacements":return e=i.$sub_post_replacements(e);default:return i.$logger().$warn("unknown substitution type "+n)}}),{$$s:n}),$(i)&&(e=n.$restore_passthroughs(e),$(s)&&(i.$clear(),n.passthroughs_locked=w)),$(r)?e.$split(O("LF"),-1):e)}),-2),u(S,"$apply_normal_subs",(function(e){return this.$apply_subs(e,O("NORMAL_SUBS"))})),u(S,"$apply_header_subs",(function(e){return this.$apply_subs(e,O("HEADER_SUBS"))})),c(S,"apply_title_subs","apply_subs"),u(S,"$apply_reftext_subs",(function(e){return this.$apply_subs(e,O("REFTEXT_SUBS"))})),u(S,"$sub_specialchars",(function(e){return $(e["$include?"](">"))||$(e["$include?"]("&"))||$(e["$include?"]("<"))?e.$gsub(O("SpecialCharsRx"),O("SpecialCharsTr")):e})),c(S,"sub_specialcharacters","sub_specialchars"),u(S,"$sub_quotes",(function(e){var t,r=this;return null==r.document&&(r.document=w),$(O("QuotedTextSniffRx")["$[]"](t=r.document.$compat_mode())["$match?"](e))&&l(O("QUOTE_SUBS")["$[]"](t),"each",[],(function t(r,n,i){return null==r&&(r=w),null==n&&(n=w),null==i&&(i=w),e=l(e,"gsub",[i],(function e(){var t=null==e.$$s?this:e.$$s;return null==_["~"]&&(_["~"]=w),t.$convert_quoted_text(_["~"],r,n)}),{$$s:null==t.$$s?this:t.$$s})}),{$$s:r}),e})),u(S,"$sub_attributes",(function(e,t){var r=this,i=w,o=w,s=w,a=w,u=w,c=w,m=w,g=w;return null==r.document&&(r.document=w),null==t&&(t=n([],{})),i=r.document.$attributes(),o=s=a=u=c=m=w,e=l(e,"gsub",[O("AttributeReferenceRx")],(function e(){var r,n,g=null==e.$$s?this:e.$$s,b=w,v=w,y=w,x=w,k=w,A=w;if(null==g.document&&(g.document=w),d((r=_["~"])===w?w:r["$[]"](1),O("RS"))||d((r=_["~"])===w?w:r["$[]"](4),O("RS")))return"{"+((r=_["~"])===w?w:r["$[]"](2))+"}";if($((r=_["~"])===w?w:r["$[]"](3)))switch((b=((r=_["~"])===w?w:r["$[]"](2)).$split(":",3)).$shift()){case"set":return n=O("Parser").$store_attribute(b["$[]"](0),$(v=b["$[]"](1))?v:"",g.document),null==(r=p(n))[0]||r[0],y=null==r[1]?w:r[1],o=$(y)||h(c=$(v=c)?v:$(x=i["$[]"]("attribute-undefined"))?x:O("Compliance").$attribute_undefined(),"drop-line")?u=O("DEL"):s=O("CAN");case"counter2":return l(g.document,"counter",f(b)),o=u=O("DEL");default:return l(g.document,"counter",f(b))}else{if($(i["$key?"](k=((r=_["~"])===w?w:r["$[]"](2)).$downcase())))return i["$[]"](k);if($(y=O("INTRINSIC_ATTRIBUTES")["$[]"](k)))return y;switch(m=$(v=m)?v:$(x=$(A=t["$[]"]("attribute_missing"))?A:i["$[]"]("attribute-missing"))?x:O("Compliance").$attribute_missing()){case"drop":return o=u=O("DEL");case"drop-line":return d(a=$(v=a)?v:$(x=t["$[]"]("drop_line_severity"))?x:"info","info")&&l(g.$logger(),"info",[],(function(){return"dropping line containing reference to missing attribute: "+k})),o=s=O("CAN");case"warn":return g.$logger().$warn("skipping reference to missing attribute: "+k),(r=_["~"])===w?w:r["$[]"](0);default:return(r=_["~"])===w?w:r["$[]"](0)}}}),{$$s:r}),$(o)?$(u)?(g=e.$squeeze(O("DEL")).$split(O("LF"),-1),$(s)?l(g,"reject",[],(function(e){var t,r,n;return null==e&&(e=w),$(t=$(r=$(n=e["$=="](O("DEL")))?n:e["$=="](O("CAN")))?r:e["$start_with?"](O("CAN")))?t:e["$include?"](O("CAN"))})).$join(O("LF")).$delete(O("DEL")):l(g,"reject",[],(function(e){return null==e&&(e=w),e["$=="](O("DEL"))})).$join(O("LF")).$delete(O("DEL"))):$(e["$include?"](O("LF")))?l(e.$split(O("LF"),-1),"reject",[],(function(e){var t,r;return null==e&&(e=w),$(t=$(r=e["$=="](O("CAN")))?r:e["$start_with?"](O("CAN")))?t:e["$include?"](O("CAN"))})).$join(O("LF")):"":e}),-2),u(S,"$sub_replacements",(function(e){return $(O("ReplaceableTextRx")["$match?"](e))&&l(O("REPLACEMENTS"),"each",[],(function t(r,n,i){return null==r&&(r=w),null==n&&(n=w),null==i&&(i=w),e=l(e,"gsub",[r],(function e(){var t=null==e.$$s?this:e.$$s;return null==_["~"]&&(_["~"]=w),t.$do_replacement(_["~"],n,i)}),{$$s:null==t.$$s?this:t.$$s})}),{$$s:this}),e})),u(S,"$sub_macros",(function(t){var r,i,s,u,c=this,y=w,x=w,k=w,E=w;return null==c.document&&(c.document=w),null==c.parent&&(c.parent=w),null==c.context&&(c.context=w),r=t["$include?"]("["),i=t["$include?"](":"),s=$(y=r)?i:y,u=$(y=s)?t["$include?"](":["):y,x=(k=c.document).$attributes(),$(E=k.$extensions())&&$(E["$inline_macros?"]())&&l(E.$inline_macros(),"each",[],(function r(i){var o=null==r.$$s?this:r.$$s;return null==i&&(i=w),t=l(t,"gsub",[i.$instance().$regexp()],(function t(){var r,o,s=null==t.$$s?this:t.$$s,a=w,u=w,c=w,p=w,h=w,f=w,g=w,b=w,v=w;return null==_["~"]&&(_["~"]=w),$((a=(r=_["~"])===w?w:r["$[]"](0))["$start_with?"](O("RS")))?((r=_["~"])===w?w:r["$[]"](0)).$slice(1,((r=_["~"])===w?w:r["$[]"](0)).$length()):($(_["~"].$names()["$empty?"]())?(u=(r=[(o=_["~"])===w?w:o["$[]"](1),(o=_["~"])===w?w:o["$[]"](2)])[0],c=r[1]):(u=(r=[function(){try{return _["~"]["$[]"]("target")}catch(t){if(!e.rescue(t,[O("StandardError")]))throw t;try{return w}finally{e.pop_exception()}}}(),function(){try{return _["~"]["$[]"]("content")}catch(t){if(!e.rescue(t,[O("StandardError")]))throw t;try{return w}finally{e.pop_exception()}}}()])[0],c=r[1]),p=$(h=(f=i.$config())["$[]"]("default_attrs"))?h.$merge():n([],{}),$(c)&&($(c["$empty?"]())?d(f["$[]"]("content_model"),"attributes")||p["$[]="]("text",c):(c=s.$normalize_text(c,!0,!0),d(f["$[]"]("content_model"),"attributes")?s.$parse_attributes(c,$(y=$(g=f["$[]"]("positional_attrs"))?g:f["$[]"]("pos_attrs"))?y:[],n(["into"],{into:p})):p["$[]="]("text",c)),u=$(y=u)?y:d(f["$[]"]("format"),"short")?c:u),m(O("Inline"),b=i.$process_method()["$[]"](s,u,p))?($(v=b.$attributes().$delete("subs"))&&$(v=s.$expand_subs(v,"custom inline macro"))&&b["$text="](s.$apply_subs(b.$text(),v)),b.$convert()):$(b)?(l(s.$logger(),"info",[],(function(){return"expected substitution value for custom inline macro to be of type Inline; got "+b.$class()+": "+a})),b):"")}),{$$s:o})}),{$$s:c}),$(x["$key?"]("experimental"))&&($(u)&&($(t["$include?"]("kbd:"))||$(t["$include?"]("btn:")))&&(t=l(t,"gsub",[O("InlineKbdBtnMacroRx")],(function e(){var t,r=null==e.$$s?this:e.$$s,i=w,s=w,a=w;return $((t=_["~"])===w?w:t["$[]"](1))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):d((t=_["~"])===w?w:t["$[]"](2),"kbd")?($((i=((t=_["~"])===w?w:t["$[]"](3)).$strip())["$include?"](O("R_SB")))&&(i=i.$gsub(O("ESC_R_SB"),O("R_SB"))),$(g(i.$length(),1))&&$(s=$(s=i.$index(",",1))?[s,i.$index("+",1)].$compact().$min():i.$index("+",1))?(a=i.$slice(s,1),$(i["$end_with?"](a))?(i=l(i.$chop().$split(a,-1),"map",[],(function(e){return null==e&&(e=w),e.$strip()})))["$[]="](-1,o(i["$[]"](-1),a)):i=l(i.$split(a),"map",[],(function(e){return null==e&&(e=w),e.$strip()}))):i=[i],O("Inline").$new(r,"kbd",w,n(["attributes"],{attributes:n(["keys"],{keys:i})})).$convert()):O("Inline").$new(r,"button",r.$normalize_text((t=_["~"])===w?w:t["$[]"](3),!0,!0)).$convert()}),{$$s:c})),$(s)&&$(t["$include?"]("menu:"))&&(t=l(t,"gsub",[O("InlineMenuMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,o=w,s=w,a=w,u=w;return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(r=(t=_["~"])===w?w:t["$[]"](1),$(o=(t=_["~"])===w?w:t["$[]"](2))?($(o["$include?"](O("R_SB")))&&(o=o.$gsub(O("ESC_R_SB"),O("R_SB"))),$(s=$(o["$include?"]("&gt;"))?"&gt;":$(o["$include?"](","))?",":w)?u=(a=l(o.$split(s),"map",[],(function(e){return null==e&&(e=w),e.$strip()}))).$pop():(a=(t=[[],o.$rstrip()])[0],u=t[1])):(a=(t=[[],w])[0],u=t[1]),O("Inline").$new(i,"menu",w,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:r,submenus:a,menuitem:u})})).$convert())}),{$$s:c})),$(t["$include?"]('"'))&&$(t["$include?"]("&gt;"))&&(t=l(t,"gsub",[O("InlineMenuRx")],(function e(){var t,r,i,o,s,a=null==e.$$s?this:e.$$s,u=w;return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(r=l(((i=_["~"])===w?w:i["$[]"](1)).$split("&gt;"),"map",[],(function(e){return null==e&&(e=w),e.$strip()})),o=null==(t=p(r))[0]?w:t[0],s=(u=b(t,1)).$pop(),O("Inline").$new(a,"menu",w,n(["attributes"],{attributes:n(["menu","submenus","menuitem"],{menu:o,submenus:u,menuitem:s})})).$convert())}),{$$s:c}))),$(s)&&($(t["$include?"]("image:"))||$(t["$include?"]("icon:")))&&(t=l(t,"gsub",[O("InlineImageMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,o=w,s=w,a=w;return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):($(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"]("icon:"))?(o=(t=["icon",["size"]])[0],s=t[1]):(o=(t=["image",["alt","width","height"]])[0],s=t[1]),r=(t=_["~"])===w?w:t["$[]"](1),a=i.$parse_attributes((t=_["~"])===w?w:t["$[]"](2),s,n(["unescape_input"],{unescape_input:!0})),d(o,"icon")||(k.$register("images",r),a["$[]="]("imagesdir",x["$[]"]("imagesdir"))),$(y=a["$[]"]("alt"))||a["$[]="]("alt",(t=["default-alt",O("Helpers").$basename(r,!0).$tr("_-"," ")],l(a,"[]=",t),t[t.length-1])),O("Inline").$new(i,"image",w,n(["type","target","attributes"],{type:o,target:r,attributes:a})).$convert())}),{$$s:c})),($(t["$include?"]("(("))&&$(t["$include?"]("))"))||$(u)&&$(t["$include?"]("dexterm")))&&(t=l(t,"gsub",[O("InlineIndextermMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,o=w,s=w,a=w,u=w,c=w,d=w,h=w,f=w,m=w,g=w,y=w,x=w,k=w,A=w;switch((t=_["~"])===w?w:t["$[]"](1)){case"indexterm":return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):($((o=i.$normalize_text((t=_["~"])===w?w:t["$[]"](2),!0,!0))["$include?"]("="))?$(s=(a=O("AttributeList").$new(o,i).$parse())["$[]"](1))?(a["$[]="]("terms",[s]),$(u=a["$[]"]("see-also"))&&a["$[]="]("see-also",$(u["$include?"](","))?l(u.$split(","),"map",[],(function(e){return null==e&&(e=w),e.$lstrip()})):[u])):a=n(["terms"],{terms:o}):a=n(["terms"],{terms:i.$split_simple_csv(o)}),O("Inline").$new(i,"indexterm",w,n(["attributes"],{attributes:a})).$convert());case"indexterm2":return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):($((c=i.$normalize_text((t=_["~"])===w?w:t["$[]"](2),!0,!0))["$include?"]("="))&&(c=$(d=$(h=(a=O("AttributeList").$new(c,i).$parse())["$[]"](1))?h:a=w)?d:c,$(a)&&$(u=a["$[]"]("see-also"))&&a["$[]="]("see-also",$(u["$include?"](","))?l(u.$split(","),"map",[],(function(e){return null==e&&(e=w),e.$lstrip()})):[u])),O("Inline").$new(i,"indexterm",c,n(["attributes","type"],{attributes:a,type:"visible"})).$convert());default:if(f=(t=_["~"])===w?w:t["$[]"](3),$(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))){if(!$(f["$start_with?"]("("))||!$(f["$end_with?"](")")))return((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length());f=f.$slice(1,v(f.$length(),2)),m=(t=[!0,"(",")"])[0],g=t[1],y=t[2]}else m=!0,$(f["$start_with?"]("("))?$(f["$end_with?"](")"))?(t=[f.$slice(1,v(f.$length(),2)),!1],f=t[0],m=t[1]):(t=[f.$slice(1,f.$length()),"(",""],f=t[0],g=t[1],y=t[2]):$(f["$end_with?"](")"))&&(t=[f.$chop(),"",")"],f=t[0],g=t[1],y=t[2]);return $(m)?($((c=i.$normalize_text(f,!0))["$include?"](";&"))&&($(c["$include?"](" &gt;&gt; "))?(r=c.$partition(" &gt;&gt; "),c=null==(t=p(r))[0]?w:t[0],null==t[1]||t[1],x=null==t[2]?w:t[2],a=n(["see"],{see:x})):$(c["$include?"](" &amp;&gt; "))&&(r=c.$split(" &amp;&gt; "),c=null==(t=p(r))[0]?w:t[0],u=b(t,1),a=n(["see-also"],{"see-also":u}))),k=O("Inline").$new(i,"indexterm",c,n(["attributes","type"],{attributes:a,type:"visible"})).$convert()):(a=n([],{}),$((A=i.$normalize_text(f,!0))["$include?"](";&"))&&($(A["$include?"](" &gt;&gt; "))?(r=A.$partition(" &gt;&gt; "),A=null==(t=p(r))[0]?w:t[0],null==t[1]||t[1],x=null==t[2]?w:t[2],a["$[]="]("see",x)):$(A["$include?"](" &amp;&gt; "))&&(r=A.$split(" &amp;&gt; "),A=null==(t=p(r))[0]?w:t[0],u=b(t,1),a["$[]="]("see-also",u))),a["$[]="]("terms",i.$split_simple_csv(A)),k=O("Inline").$new(i,"indexterm",w,n(["attributes"],{attributes:a})).$convert()),$(g)?""+g+k+y:k}}),{$$s:c})),$(i)&&$(t["$include?"]("://"))&&(t=l(t,"gsub",[O("InlineLinkRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,s=w,u=w,c=w,h=w,f=w,m=w,g=w,b=w;if($((s=(t=_["~"])===w?w:t["$[]"](2))["$start_with?"](O("RS"))))return""+((t=_["~"])===w?w:t["$[]"](1))+s.$slice(1,s.$length())+((t=_["~"])===w?w:t["$[]"](4));if(u=(t=[(r=_["~"])===w?w:r["$[]"](1),""])[0],c=t[1],$((t=_["~"])===w?w:t["$[]"](4)))d(u,"link:")&&(u=""),$((h=(t=_["~"])===w?w:t["$[]"](4))["$empty?"]())&&(h=w);else{switch(u){case"link:":case'"':case"'":return(t=_["~"])===w?w:t["$[]"](0)}switch((t=_["~"])===w?w:t["$[]"](3)){case")":case"?":case"!":if(s=s.$chop(),d(c=(t=_["~"])===w?w:t["$[]"](3),")")&&$(s["$end_with?"](".","?","!"))&&(c=o(s["$[]"](-1),c),s=s.$chop()),$(s["$end_with?"]("://")))return(t=_["~"])===w?w:t["$[]"](0);break;case";":if($(u["$start_with?"]("&lt;"))&&$(s["$end_with?"]("&gt;"))?(u=u.$slice(4,u.$length()),s=s.$slice(0,v(s.$length(),4))):$((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),c=");"):c=";",$(s["$end_with?"]("://")))return(t=_["~"])===w?w:t["$[]"](0);break;case":":if($((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),c="):"):c=":",$(s["$end_with?"]("://")))return(t=_["~"])===w?w:t["$[]"](0)}}return f=(t=[w,n(["type"],{type:"link"})])[0],m=t[1],$(h)?($(h["$include?"](O("R_SB")))&&(g=h=h.$gsub(O("ESC_R_SB"),O("R_SB"))),a(k.$compat_mode())&&$(h["$include?"]("="))&&(r=i.$extract_attributes_from_text(h,""),h=null==(t=p(r))[0]?w:t[0],f=null==t[1]?w:t[1],g=h,m["$[]="]("id",f["$[]"]("id"))),$(h["$end_with?"]("^"))&&(g=h=h.$chop(),$(f)?$(y=f["$[]"]("window"))||f["$[]="]("window","_blank"):f=n(["window"],{window:"_blank"})),$(g)&&$(g["$empty?"]())&&(h=$(x["$key?"]("hide-uri-scheme"))?s.$sub(O("UriSniffRx"),""):s,b=!0)):(h=$(x["$key?"]("hide-uri-scheme"))?s.$sub(O("UriSniffRx"),""):s,b=!0),$(b)&&($(f)?f["$[]="]("role",$(f["$key?"]("role"))?"bare "+f["$[]"]("role"):"bare"):f=n(["role"],{role:"bare"})),k.$register("links",(l(m,"[]=",t=["target",s]),t[t.length-1])),$(f)&&m["$[]="]("attributes",f),""+u+O("Inline").$new(i,"anchor",h,m).$convert()+c}),{$$s:c})),$(s)&&($(t["$include?"]("link:"))||$(t["$include?"]("ilto:")))&&(t=l(t,"gsub",[O("InlineLinkMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,s=w,u=w,c=w,d=w,h=w,f=w;return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(u=$(s=(t=_["~"])===w?w:t["$[]"](1))?o("mailto:",c=(t=_["~"])===w?w:t["$[]"](2)):(t=_["~"])===w?w:t["$[]"](2),d=(t=[w,n(["type"],{type:"link"})])[0],h=t[1],$((f=(t=_["~"])===w?w:t["$[]"](3))["$empty?"]())||($(f["$include?"](O("R_SB")))&&(f=f.$gsub(O("ESC_R_SB"),O("R_SB"))),$(s)?a(k.$compat_mode())&&$(f["$include?"](","))&&(r=i.$extract_attributes_from_text(f,""),f=null==(t=p(r))[0]?w:t[0],d=null==t[1]?w:t[1],h["$[]="]("id",d["$[]"]("id")),$(d["$key?"](2))&&(u=$(d["$key?"](3))?u+"?subject="+O("Helpers").$encode_uri_component(d["$[]"](2))+"&amp;body="+O("Helpers").$encode_uri_component(d["$[]"](3)):u+"?subject="+O("Helpers").$encode_uri_component(d["$[]"](2)))):a(k.$compat_mode())&&$(f["$include?"]("="))&&(r=i.$extract_attributes_from_text(f,""),f=null==(t=p(r))[0]?w:t[0],d=null==t[1]?w:t[1],h["$[]="]("id",d["$[]"]("id"))),$(f["$end_with?"]("^"))&&(f=f.$chop(),$(d)?$(y=d["$[]"]("window"))||d["$[]="]("window","_blank"):d=n(["window"],{window:"_blank"}))),$(f["$empty?"]())&&($(s)?f=c:($(x["$key?"]("hide-uri-scheme"))?$((f=u.$sub(O("UriSniffRx"),""))["$empty?"]())&&(f=u):f=u,$(d)?d["$[]="]("role",$(d["$key?"]("role"))?"bare "+d["$[]"]("role"):"bare"):d=n(["role"],{role:"bare"}))),k.$register("links",(l(h,"[]=",t=["target",u]),t[t.length-1])),$(d)&&h["$[]="]("attributes",d),O("Inline").$new(i,"anchor",f,h).$convert())}),{$$s:c})),$(t["$include?"]("@"))&&(t=l(t,"gsub",[O("InlineEmailRx")],(function e(){var t,r,i,s=null==e.$$s?this:e.$$s;return $((t=_["~"])===w?w:t["$[]"](1))?d((t=_["~"])===w?w:t["$[]"](1),O("RS"))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(t=_["~"])===w?w:t["$[]"](0):(r=o("mailto:",i=(t=_["~"])===w?w:t["$[]"](0)),k.$register("links",r),O("Inline").$new(s,"anchor",i,n(["type","target"],{type:"link",target:r})).$convert())}),{$$s:c})),$(r)&&d(c.context,"list_item")&&d(c.parent.$style(),"bibliography")&&(t=l(t,"sub",[O("InlineBiblioAnchorRx")],(function e(){var t,r=null==e.$$s?this:e.$$s;return O("Inline").$new(r,"anchor",(t=_["~"])===w?w:t["$[]"](2),n(["type","id"],{type:"bibref",id:(t=_["~"])===w?w:t["$[]"](1)})).$convert()}),{$$s:c})),($(r)&&$(t["$include?"]("[["))||$(s)&&$(t["$include?"]("or:")))&&(t=l(t,"gsub",[O("InlineAnchorRx")],(function e(){var t,r=null==e.$$s?this:e.$$s,i=w,o=w;return $((t=_["~"])===w?w:t["$[]"](1))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):($(i=(t=_["~"])===w?w:t["$[]"](2))?o=(t=_["~"])===w?w:t["$[]"](3):(i=(t=_["~"])===w?w:t["$[]"](4),$(o=(t=_["~"])===w?w:t["$[]"](5))&&$(o["$include?"](O("R_SB")))&&(o=o.$gsub(O("ESC_R_SB"),O("R_SB")))),O("Inline").$new(r,"anchor",o,n(["type","id"],{type:"ref",id:i})).$convert())}),{$$s:c})),($(t["$include?"]("&"))&&$(t["$include?"](";&l"))||$(s)&&$(t["$include?"]("xref:")))&&(t=l(t,"gsub",[O("InlineXrefMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,s=w,u=w,c=w,m=w,b=w,x=w,A=w,E=w,S=w,C=w;return $(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(s=n([],{}),$(u=(t=_["~"])===w?w:t["$[]"](1))?$(u["$include?"](","))&&(r=u.$partition(","),u=null==(t=p(r))[0]?w:t[0],null==t[1]||t[1],c=null==t[2]?w:t[2],$((c=c.$lstrip())["$empty?"]())&&(c=w)):(m=!0,u=(t=_["~"])===w?w:t["$[]"](2),$(c=(t=_["~"])===w?w:t["$[]"](3))&&($(c["$include?"](O("R_SB")))&&(c=c.$gsub(O("ESC_R_SB"),O("R_SB"))),a(k.$compat_mode())&&$(c["$include?"]("="))&&(r=i.$extract_attributes_from_text(c),c=null==(t=p(r))[0]?w:t[0],s=null==t[1]?w:t[1]))),$(k.$compat_mode())?b=u:$(x=u.$index("#"))?$(g(x,0))?($(g(A=v(v(u.$length(),1),x),0))?(E=(t=[u.$slice(0,x),u.$slice(o(x,1),A)])[0],b=t[1]):E=u.$chop(),$(m)?$(E["$end_with?"](".adoc"))?S=E=E.$slice(0,v(E.$length(),5)):a(O("Helpers")["$extname?"](E))&&(S=E):S=$(l(E,"end_with?",f(O("ASCIIDOC_EXTENSIONS").$keys())))?E=E.$slice(0,E.$rindex(".")):E):(C=(t=[u,u.$slice(1,u.$length())])[0],b=t[1]):$(m)?$(u["$end_with?"](".adoc"))?S=E=u.$slice(0,v(u.$length(),5)):$(O("Helpers")["$extname?"](u))?E=u:b=u:b=u,$(C)?(u=b,$(i.$logger()["$info?"]())&&a(k.$catalog()["$[]"]("refs")["$[]"](u))&&i.$logger().$info("possible invalid reference: "+u)):$(E)?$(S)&&(d(k.$attributes()["$[]"]("docname"),E)||$(k.$catalog()["$[]"]("includes")["$[]"](E)))?$(b)?(u=(t=[b,w,"#"+b])[0],E=t[1],C=t[2],$(i.$logger()["$info?"]())&&a(k.$catalog()["$[]"]("refs")["$[]"](u))&&i.$logger().$info("possible invalid reference: "+u)):(u=(t=[w,w,"#"])[0],E=t[1],C=t[2]):(u=(t=[E,""+($(y=k.$attributes()["$[]"]("relfileprefix"))?y:"")+E+($(S)?k.$attributes().$fetch("relfilesuffix",k.$outfilesuffix()):"")])[0],E=t[1],$(b)?(u=(t=[u+"#"+b,E+"#"+b])[0],C=t[1]):C=E):$(k.$compat_mode())||a(O("Compliance").$natural_xrefs())?(u=(t=[b,"#"+b])[0],C=t[1],$(i.$logger()["$info?"]())&&a(k.$catalog()["$[]"]("refs")["$[]"](u))&&i.$logger().$info("possible invalid reference: "+u)):$(k.$catalog()["$[]"]("refs")["$[]"](b))?(u=(t=[b,"#"+b])[0],C=t[1]):($(b["$include?"](" "))||h(b.$downcase(),b))&&$(u=k.$resolve_id(b))?(b=(t=[u,"#"+u])[0],C=t[1]):(u=(t=[b,"#"+b])[0],C=t[1],$(i.$logger()["$info?"]())&&i.$logger().$info("possible invalid reference: "+u)),s["$[]="]("path",E),s["$[]="]("fragment",b),s["$[]="]("refid",u),O("Inline").$new(i,"anchor",c,n(["type","target","attributes"],{type:"xref",target:C,attributes:s})).$convert())}),{$$s:c})),$(s)&&$(t["$include?"]("tnote"))&&(t=l(t,"gsub",[O("InlineFootnoteMacroRx")],(function e(){var t,r,i,o=null==e.$$s?this:e.$$s,s=w,a=w,u=w,c=w,d=w,h=w;if($(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS"))))return((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length());if($((t=_["~"])===w?w:t["$[]"](1))){if(!$((t=_["~"])===w?w:t["$[]"](3)))return(t=_["~"])===w?w:t["$[]"](0);r=((i=_["~"])===w?w:i["$[]"](3)).$split(",",2),t=p(r),s=null==t[0]?w:t[0],a=null==t[1]?w:t[1],$(k.$compat_mode())||o.$logger().$warn("found deprecated footnoteref macro: "+((t=_["~"])===w?w:t["$[]"](0))+"; use footnote macro with target instead")}else s=(t=_["~"])===w?w:t["$[]"](2),a=(t=_["~"])===w?w:t["$[]"](3);if($(s))$(u=l(k.$footnotes(),"find",[],(function(e){return null==e&&(e=w),e.$id()["$=="](s)})))?(c=(t=[u.$index(),u.$text()])[0],a=t[1],d=(t=["xref",s,w])[0],h=t[1],s=t[2]):$(a)?(a=o.$restore_passthroughs(o.$normalize_text(a,!0,!0)),c=k.$counter("footnote-number"),k.$register("footnotes",A(O("Document"),"Footnote").$new(c,s,a)),d=(t=["ref",w])[0],h=t[1]):(o.$logger().$warn("invalid footnote reference: "+s),d=(t=["xref",s,s,w])[0],h=t[1],a=t[2],s=t[3]);else{if(!$(a))return(t=_["~"])===w?w:t["$[]"](0);a=o.$restore_passthroughs(o.$normalize_text(a,!0,!0)),c=k.$counter("footnote-number"),k.$register("footnotes",A(O("Document"),"Footnote").$new(c,s,a)),d=h=w}return O("Inline").$new(o,"footnote",a,n(["attributes","id","target","type"],{attributes:n(["index"],{index:c}),id:s,target:h,type:d})).$convert()}),{$$s:c})),t})),u(S,"$sub_post_replacements",(function(e){var t=this,r=w,i=w;return null==t.document&&(t.document=w),null==t.attributes&&(t.attributes=w),$(t.attributes["$[]"]("hardbreaks-option"))||$(t.document.$attributes()["$[]"]("hardbreaks-option"))?(r=e.$split(O("LF"),-1),$(y(r.$size(),2))?e:(i=r.$pop(),l(r,"map",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=w),O("Inline").$new(r,"break",$(t["$end_with?"](O("HARD_LINE_BREAK")))?t.$slice(0,v(t.$length(),2)):t,n(["type"],{type:"line"})).$convert()}),{$$s:t})["$<<"](i).$join(O("LF")))):$(e["$include?"](O("PLUS")))&&$(e["$include?"](O("HARD_LINE_BREAK")))?l(e,"gsub",[O("HardLineBreakRx")],(function e(){var t,r=null==e.$$s?this:e.$$s;return O("Inline").$new(r,"break",(t=_["~"])===w?w:t["$[]"](1),n(["type"],{type:"line"})).$convert()}),{$$s:t}):e})),u(S,"$sub_source",(function(e,t){var r=this;return $(t)?r.$sub_callouts(r.$sub_specialchars(e)):r.$sub_specialchars(e)})),u(S,"$sub_callouts",(function(e){var t,r=this,i=w;return t=$(r["$attr?"]("line-comment"))?O("CalloutSourceRxMap")["$[]"](r.$attr("line-comment")):O("CalloutSourceRx"),i=0,l(e,"gsub",[t],(function e(){var t,r=null==e.$$s?this:e.$$s,s=w;return null==r.document&&(r.document=w),$((t=_["~"])===w?w:t["$[]"](2))?((t=_["~"])===w?w:t["$[]"](0)).$sub(O("RS"),""):O("Inline").$new(r,"callout",d((t=_["~"])===w?w:t["$[]"](4),".")?(i=o(i,1)).$to_s():(t=_["~"])===w?w:t["$[]"](4),n(["id","attributes"],{id:r.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:$(s=(t=_["~"])===w?w:t["$[]"](1))?s:d((t=_["~"])===w?w:t["$[]"](3),"--")?["\x3c!--","--\x3e"]:w})})).$convert()}),{$$s:r})})),u(S,"$highlight_source",(function(e,t){var r,i,o,s,a,l=this,u=w,c=w,_=w,d=w,h=w,f=w,m=w;return null==l.document&&(l.document=w),null==l.passthroughs&&(l.passthroughs=w),$(u=l.document.$syntax_highlighter())&&$(u["$highlight?"]())?($(t)&&(i=l.$extract_callouts(e),e=null==(r=p(i))[0]?w:r[0],c=null==r[1]?w:r[1]),_=l.document.$attributes(),o=u.$name(),$(s=$(l["$attr?"]("linenums"))?($(h=_["$[]"](o+"-linenums-mode"))?h:"table").$to_sym():w)&&$(y(d=l.$attr("start",1).$to_i(),1))&&(d=1),$(l["$attr?"]("highlight"))&&(f=l.$resolve_lines_to_highlight(e,l.$attr("highlight"),d)),i=u.$highlight(l,e,l.$attr("language"),n(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:c,css_mode:($(h=_["$[]"](o+"-css"))?h:"class").$to_sym(),highlight_lines:f,number_lines:s,start_line_number:d,style:_["$[]"](o+"-style")})),m=null==(r=p(i))[0]?w:r[0],a=null==r[1]?w:r[1],$(l.passthroughs["$empty?"]())||(m=m.$gsub(O("HighlightedPassSlotRx"),O("PASS_START")+"\\1"+O("PASS_END"))),$(c["$nil_or_empty?"]())?m:l.$restore_callouts(m,c,a)):l.$sub_source(e,t)})),u(S,"$resolve_lines_to_highlight",(function(t,r,n){var i,s=w;return null==n&&(n=w),s=[],$(r["$include?"](" "))&&(r=r.$delete(" ")),l($(r["$include?"](","))?r.$split(","):r.$split(";"),"map",[],(function(r){var n,i,l,u=w,c=w,_=w,d=w;return null==r&&(r=w),$(r["$start_with?"]("!"))&&(r=r.$slice(1,r.$length()),u=!0),$(l=$(r["$include?"](".."))?"..":$(r["$include?"]("-"))?"-":w)?(i=r.$partition(l),c=null==(n=p(i))[0]?w:n[0],null==n[1]||n[1],_=null==n[2]?w:n[2],($(_["$empty?"]())||$(y(_=_.$to_i(),0)))&&(_=o(t.$count(O("LF")),1)),s=$(u)?v(s,e.Range.$new(c.$to_i(),_,!1).$to_a()):s["$|"](e.Range.$new(c.$to_i(),_,!1).$to_a())):$(u)?s.$delete(r.$to_i()):a(s["$include?"](d=r.$to_i()))?s["$<<"](d):w})),d(i=$(n)?v(n,1):0,0)||(s=l(s,"map",[],(function(e){return null==e&&(e=w),v(e,i)}))),s.$sort()}),-3),u(S,"$extract_passthroughs",(function(e){var t,r,i,o,s,u,c=this,h=w;return null==c.document&&(c.document=w),null==c.passthroughs&&(c.passthroughs=w),i=c.document.$compat_mode(),h=c.passthroughs,($(e["$include?"]("++"))||$(e["$include?"]("$$"))||$(e["$include?"]("ss:")))&&(e=l(e,"gsub",[O("InlinePassMacroRx")],(function e(){var t,r,o,s=null==e.$$s?this:e.$$s,a=w,l=w,u=w,c=w,p=w,f=w,m=w;if($(r=(t=_["~"])===w?w:t["$[]"](4))){if($(i)&&d(r,"++"))return($((t=_["~"])===w?w:t["$[]"](2))?((t=_["~"])===w?w:t["$[]"](1))+"["+((t=_["~"])===w?w:t["$[]"](2))+"]"+((t=_["~"])===w?w:t["$[]"](3)):""+((t=_["~"])===w?w:t["$[]"](1))+((t=_["~"])===w?w:t["$[]"](3)))+"++"+s.$extract_passthroughs((t=_["~"])===w?w:t["$[]"](5))+"++";if($(a=(t=_["~"])===w?w:t["$[]"](2))){if($(g(l=((t=_["~"])===w?w:t["$[]"](3)).$length(),0)))return((t=_["~"])===w?w:t["$[]"](1))+"["+a+"]"+x(O("RS"),v(l,1))+r+((t=_["~"])===w?w:t["$[]"](5))+r;d((t=_["~"])===w?w:t["$[]"](1),O("RS"))?u="["+a+"]":(d(r,"++")&&$(a["$end_with?"]("x-"))&&(c=!0,a=a.$slice(0,v(a.$length(),2))),p=s.$parse_quoted_text_attributes(a))}else if($(g(l=((t=_["~"])===w?w:t["$[]"](3)).$length(),0)))return""+x(O("RS"),v(l,1))+r+((t=_["~"])===w?w:t["$[]"](5))+r;f=d(r,"+++")?[]:O("BASIC_SUBS"),$(p)?$(c)?h["$[]="](m=h.$size(),n(["text","subs","type","attributes"],{text:(t=_["~"])===w?w:t["$[]"](5),subs:O("NORMAL_SUBS"),type:"monospaced",attributes:p})):h["$[]="](m=h.$size(),n(["text","subs","type","attributes"],{text:(t=_["~"])===w?w:t["$[]"](5),subs:f,type:"unquoted",attributes:p})):h["$[]="](m=h.$size(),n(["text","subs"],{text:(t=_["~"])===w?w:t["$[]"](5),subs:f}))}else{if(d((t=_["~"])===w?w:t["$[]"](6),O("RS")))return((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length());$(f=(t=_["~"])===w?w:t["$[]"](7))?h["$[]="](m=h.$size(),n(["text","subs"],{text:s.$normalize_text((t=_["~"])===w?w:t["$[]"](8),w,!0),subs:s.$resolve_pass_subs(f)})):h["$[]="](m=h.$size(),n(["text"],{text:s.$normalize_text((t=_["~"])===w?w:t["$[]"](8),w,!0)}))}return""+($(o=u)?o:"")+O("PASS_START")+m+O("PASS_END")}),{$$s:c})),r=O("InlinePassRx")["$[]"](i),o=null==(t=p(r))[0]?w:t[0],s=null==t[1]?w:t[1],u=null==t[2]?w:t[2],($(e["$include?"](o))||$(s)&&$(e["$include?"](s)))&&(e=l(e,"gsub",[u],(function e(){var t,r,o,s=null==e.$$s?this:e.$$s,l=w,u=w,c=w,p=w,f=w,m=w,g=w,b=w,y=w;if(l=(t=_["~"])===w?w:t["$[]"](1),u=(t=_["~"])===w?w:t["$[]"](2),$((c=(t=_["~"])===w?w:t["$[]"](3))["$start_with?"](O("RS")))&&(p=O("RS")),r=(t=_["~"])===w?w:t["$[]"](4),o=(t=_["~"])===w?w:t["$[]"](5),$(i)?f=!0:$(f=$(m=u)?u["$end_with?"]("x-"):m)&&(u=u.$slice(0,v(u.$length(),2))),$(u)){if(d(r,"`")&&a(f))return s.$extract_inner_passthrough(o,l+"["+u+"]"+p);if($(p))return l+"["+u+"]"+c.$slice(1,c.$length());d(l,O("RS"))?l="["+u+"]":g=s.$parse_quoted_text_attributes(u)}else{if(d(r,"`")&&a(f))return s.$extract_inner_passthrough(o,""+l+p);if($(p))return""+l+c.$slice(1,c.$length())}return $(i)?h["$[]="](b=h.$size(),n(["text","subs","attributes","type"],{text:o,subs:O("BASIC_SUBS"),attributes:g,type:"monospaced"})):$(g)?$(f)?(y=d(r,"`")?O("BASIC_SUBS"):O("NORMAL_SUBS"),h["$[]="](b=h.$size(),n(["text","subs","attributes","type"],{text:o,subs:y,attributes:g,type:"monospaced"}))):h["$[]="](b=h.$size(),n(["text","subs","attributes","type"],{text:o,subs:O("BASIC_SUBS"),attributes:g,type:"unquoted"})):h["$[]="](b=h.$size(),n(["text","subs"],{text:o,subs:O("BASIC_SUBS")})),""+l+O("PASS_START")+b+O("PASS_END")}),{$$s:c})),$(e["$include?"](":"))&&($(e["$include?"]("stem:"))||$(e["$include?"]("math:")))&&(e=l(e,"gsub",[O("InlineStemMacroRx")],(function e(){var t,r,i=null==e.$$s?this:e.$$s,o=w,s=w,a=w;return null==i.document&&(i.document=w),$(((t=_["~"])===w?w:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===w?w:t["$[]"](0)).$slice(1,((t=_["~"])===w?w:t["$[]"](0)).$length()):(d(o=((t=_["~"])===w?w:t["$[]"](1)).$to_sym(),"stem")&&(o=O("STEM_TYPE_ALIASES")["$[]"](i.document.$attributes()["$[]"]("stem")).$to_sym()),s=(t=_["~"])===w?w:t["$[]"](2),a=i.$normalize_text((t=_["~"])===w?w:t["$[]"](3),w,!0),d(o,"latexmath")&&$(a["$start_with?"]("$"))&&$(a["$end_with?"]("$"))&&(a=a.$slice(1,v(a.$length(),2))),s=$(s)?i.$resolve_pass_subs(s):$(i.document["$basebackend?"]("html"))?O("BASIC_SUBS"):w,h["$[]="](r=h.$size(),n(["text","subs","type"],{text:a,subs:s,type:o})),""+O("PASS_START")+r+O("PASS_END"))}),{$$s:c})),e})),u(S,"$restore_passthroughs",(function(e){var t=this,r=w;return null==t.passthroughs&&(t.passthroughs=w),r=t.passthroughs,l(e,"gsub",[O("PassSlotRx")],(function t(){var i,o=null==t.$$s?this:t.$$s,s=w,a=w,l=w,u=w,c=w;return $(s=r["$[]"](((i=_["~"])===w?w:i["$[]"](1)).$to_i()))?(a=o.$apply_subs(s["$[]"]("text"),s["$[]"]("subs")),$(l=s["$[]"]("type"))&&($(u=s["$[]"]("attributes"))&&(c=u["$[]"]("id")),a=O("Inline").$new(o,"quoted",a,n(["type","id","attributes"],{type:l,id:c,attributes:u})).$convert()),$(a["$include?"](O("PASS_START")))?o.$restore_passthroughs(a):a):(o.$logger().$error("unresolved passthrough detected: "+e),"??pass??")}),{$$s:t})})),u(S,"$resolve_subs",(function(e,t,r,n){var i,s,a=w,u=w;return null==t&&(t="block"),null==r&&(r=w),null==n&&(n=w),$(e["$nil_or_empty?"]())?w:(a=w,$(e["$include?"](" "))&&(e=e.$delete(" ")),i=O("SubModifierSniffRx")["$match?"](e),l(e.$split(","),"each",[],(function(e){var n=w,s=w,l=w,u=w,c=w,_=w;if(null==e&&(e=w),n=w,$(i)&&(d(s=e.$chr(),"+")?(n="append",e=e.$slice(1,e.$length())):d(s,"-")?(n="remove",e=e.$slice(1,e.$length())):$(e["$end_with?"]("+"))&&(n="prepend",e=e.$chop())),e=e.$to_sym(),d(t,"inline")&&(d(e,"verbatim")||d(e,"v"))?l=O("BASIC_SUBS"):$(O("SUB_GROUPS")["$key?"](e))?l=O("SUB_GROUPS")["$[]"](e):d(t,"inline")&&d(e.$length(),1)&&$(O("SUB_HINTS")["$key?"](e))?(u=O("SUB_HINTS")["$[]"](e),l=$(c=O("SUB_GROUPS")["$[]"](u))?c:[u]):l=[e],!$(n))return a=$(_=a)?_:[],a=o(a,l);switch(a=$(_=a)?_:$(r)?r.$drop(0):[],n){case"append":return a=o(a,l);case"prepend":return a=o(l,a);case"remove":return a=v(a,l);default:return w}})),$(a)?(s=a["$&"](O("SUB_OPTIONS")["$[]"](t)),$(v(a,s)["$empty?"]())||(u=v(a,s),this.$logger().$warn("invalid substitution type"+($(g(u.$size(),1))?"s":"")+($(n)?" for ":"")+n+": "+u.$join(", "))),s):w)}),-2),u(S,"$resolve_block_subs",(function(e,t,r){return this.$resolve_subs(e,"block",t,r)})),u(S,"$resolve_pass_subs",(function(e){return this.$resolve_subs(e,"inline",w,"passthrough macro")})),u(S,"$expand_subs",(function(e,t){var r,n=w,i=w;return null==t&&(t=w),m(A("Symbol"),r=e)?d(e,"none")?w:$(n=O("SUB_GROUPS")["$[]"](e))?n:[e]:m(A("Array"),r)?(i=[],l(e,"each",[],(function(e){var t=w;return null==e&&(e=w),d(e,"none")?w:$(t=O("SUB_GROUPS")["$[]"](e))?i=o(i,t):i["$<<"](e)})),$(i["$empty?"]())?w:i):this.$resolve_subs(e,"inline",w,t)}),-2),u(S,"$commit_subs",(function(){var e,t=this,r=w,n=w,i=w,o=w;if(null==t.default_subs&&(t.default_subs=w),null==t.content_model&&(t.content_model=w),null==t.context&&(t.context=w),null==t.subs&&(t.subs=w),null==t.attributes&&(t.attributes=w),null==t.document&&(t.document=w),null==t.style&&(t.style=w),!$(r=t.default_subs))switch(t.content_model){case"simple":r=O("NORMAL_SUBS");break;case"verbatim":r=d(t.context,"verse")?O("NORMAL_SUBS"):O("VERBATIM_SUBS");break;case"raw":r=d(t.context,"stem")?O("BASIC_SUBS"):O("NO_SUBS");break;default:return t.subs}return $(e=t.attributes["$[]"]("subs"))?t.subs=$(n=t.$resolve_block_subs(e,r,t.context))?n:[]:t.subs=r.$drop(0),d(t.context,"listing")&&d(t.style,"source")&&$(o=t.document.$syntax_highlighter())&&$(o["$highlight?"]())&&$(i=t.subs.$index("specialcharacters"))&&t.subs["$[]="](i,"highlight"),w})),u(S,"$parse_attributes",(function(e,t,r){var i,o=this,s=w;return null==o.document&&(o.document=w),null==t&&(t=[]),null==r&&(r=n([],{})),$(!$(e)||e["$empty?"]())?n([],{}):($(r["$[]"]("unescape_input"))&&(e=o.$normalize_text(e,!0,!0)),$(r["$[]"]("sub_input"))&&$(e["$include?"](O("ATTR_REF_HEAD")))&&(e=o.document.$sub_attributes(e)),$(r["$[]"]("sub_result"))&&(s=o),$(i=r["$[]"]("into"))?O("AttributeList").$new(e,s).$parse_into(i,t):O("AttributeList").$new(e,s).$parse(t))}),-2),S.$private(),u(S,"$extract_attributes_from_text",(function(e,t){var r,n,i=w;return null==t&&(t=w),r=$(e["$include?"](O("LF")))?e.$tr(O("LF")," "):e,$(n=(i=O("AttributeList").$new(r,this).$parse())["$[]"](1))?d(n,r)?[e,i.$clear()]:[n,i]:[t,i]}),-2),u(S,"$extract_callouts",(function(e){var t,r=w,i=w,s=w,a=w;return r=n([],{}),i=s=0,a=w,t=$(this["$attr?"]("line-comment"))?O("CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):O("CalloutExtractRx"),e=l(e.$split(O("LF"),-1),"map",[],(function(e){return null==e&&(e=w),s=o(s,1),l(e,"gsub",[t],(function(){var e,t=w;return $((e=_["~"])===w?w:e["$[]"](2))?((e=_["~"])===w?w:e["$[]"](0)).$sub(O("RS"),""):(($(t=r["$[]"](s))?t:(e=[s,[]],l(r,"[]=",e),e[e.length-1]))["$<<"]([$(t=(e=_["~"])===w?w:e["$[]"](1))?t:d((e=_["~"])===w?w:e["$[]"](3),"--")?["\x3c!--","--\x3e"]:w,d((e=_["~"])===w?w:e["$[]"](4),".")?(i=o(i,1)).$to_s():(e=_["~"])===w?w:e["$[]"](4)]),a=s,"")}))})).$join(O("LF")),$(a)?d(a,s)&&(e=""+e+O("LF")):r=w,[e,r]})),u(S,"$restore_callouts",(function(e,t,r){var i=w,s=w;return null==r&&(r=w),$(r)?(i=e.$slice(0,r),e=e.$slice(r,e.$length())):i="",s=0,o(i,l(e.$split(O("LF"),-1),"map",[],(function e(r){var i,a,u=null==e.$$s?this:e.$$s,c=w,_=w,h=w;return null==u.document&&(u.document=w),null==r&&(r=w),$(c=t.$delete(s=o(s,1)))?d(c.$size(),1)?(a=c["$[]"](0),_=null==(i=p(a))[0]?w:i[0],h=null==i[1]?w:i[1],""+r+O("Inline").$new(u,"callout",h,n(["id","attributes"],{id:u.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:_})})).$convert()):""+r+l(c,"map",[],(function e(t,r){var i=null==e.$$s?this:e.$$s;return null==i.document&&(i.document=w),null==t&&(t=w),null==r&&(r=w),O("Inline").$new(i,"callout",r,n(["id","attributes"],{id:i.document.$callouts().$read_next_id(),attributes:n(["guard"],{guard:t})})).$convert()}),{$$s:u}).$join(" "):r}),{$$s:this}).$join(O("LF")))}),-3),u(S,"$extract_inner_passthrough",(function(e,t){var r,i=this,o=w;return null==i.passthroughs&&(i.passthroughs=w),$(e["$end_with?"]("+"))&&$(e["$start_with?"]("+","\\+"))&&$(O("SinglePlusInlinePassRx")["$=~"](e))?$((r=_["~"])===w?w:r["$[]"](1))?t+"`+"+((r=_["~"])===w?w:r["$[]"](2))+"+`":(i.passthroughs["$[]="](o=i.passthroughs.$size(),n(["text","subs"],{text:(r=_["~"])===w?w:r["$[]"](2),subs:O("BASIC_SUBS")})),t+"`"+O("PASS_START")+o+O("PASS_END")+"`"):t+"`"+e+"`"})),u(S,"$convert_quoted_text",(function(e,t,r){var i=this,o=w,s=w,a=w,l=w,u=w;if($(e["$[]"](0)["$start_with?"](O("RS")))){if(!d(r,"constrained")||!$(o=e["$[]"](2)))return e["$[]"](0).$slice(1,e["$[]"](0).$length());s="["+o+"]"}return d(r,"constrained")?$(s)?""+s+O("Inline").$new(i,"quoted",e["$[]"](3),n(["type"],{type:t})).$convert():($(a=e["$[]"](2))&&(l=(u=i.$parse_quoted_text_attributes(a))["$[]"]("id"),d(t,"mark")&&(t="unquoted")),""+e["$[]"](1)+O("Inline").$new(i,"quoted",e["$[]"](3),n(["type","id","attributes"],{type:t,id:l,attributes:u})).$convert()):($(a=e["$[]"](1))&&(l=(u=i.$parse_quoted_text_attributes(a))["$[]"]("id"),d(t,"mark")&&(t="unquoted")),O("Inline").$new(i,"quoted",e["$[]"](2),n(["type","id","attributes"],{type:t,id:l,attributes:u})).$convert())})),u(S,"$do_replacement",(function(e,t,r){var n=w;if($((n=e["$[]"](0))["$include?"](O("RS"))))return n.$sub(O("RS"),"");switch(r){case"none":return t;case"bounding":return o(o(e["$[]"](1),t),e["$[]"](2));default:return o(e["$[]"](1),t)}})),u(S,"$parse_quoted_text_attributes",(function(e){var t,r,i=w,s=w,a=w,l=w,u=w;return $(e["$include?"](O("ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),$(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),$((e=e.$strip())["$empty?"]())?n([],{}):$(e["$start_with?"](".","#"))&&$(O("Compliance").$shorthand_property_syntax())?(r=e.$partition("#"),i=null==(t=p(r))[0]?w:t[0],null==t[1]||t[1],s=null==t[2]?w:t[2],a=n([],{}),$(s["$empty?"]())?$(g(i.$length(),1))&&a["$[]="]("role",i.$tr("."," ").$lstrip()):(r=s.$partition("."),l=null==(t=p(r))[0]?w:t[0],null==t[1]||t[1],u=null==t[2]?w:t[2],$(l["$empty?"]())||a["$[]="]("id",l),$(u["$empty?"]())?$(g(i.$length(),1))&&a["$[]="]("role",i.$tr("."," ").$lstrip()):$(g(i.$length(),1))?a["$[]="]("role",o(o(i,"."),u).$tr("."," ").$lstrip()):a["$[]="]("role",u.$tr("."," "))),a):n(["role"],{role:e})})),u(S,"$normalize_text",(function(e,t,r){return null==t&&(t=w),null==r&&(r=w),$(e["$empty?"]())||($(t)&&(e=e.$strip().$tr(O("LF")," ")),$(r)&&$(e["$include?"](O("R_SB")))&&(e=e.$gsub(O("ESC_R_SB"),O("R_SB")))),e}),-2),u(S,"$split_simple_csv",(function(e){var t=w,r=w,n=w;return $(e["$empty?"]())?[]:$(e["$include?"]('"'))?(t=[],r="",n=w,l(e,"each_char",[],(function(e){switch(null==e&&(e=w),e){case",":return $(n)?r=o(r,e):(t["$<<"](r.$strip()),r="");case'"':return n=n["$!"]();default:return r=o(r,e)}})),t["$<<"](r.$strip())):l(e.$split(","),"map",[],(function(e){return null==e&&(e=w),e.$strip()}))}))}(S[0],S)}(k[0],k)},Opal.modules["asciidoctor/version"]=function(e){var t=e.module,r=e.const_set,n=[];return e.nil,function(e,n){var i=[t(e,"Asciidoctor")].concat(n);return r(i[0],"VERSION","2.0.18")}(n[0],n)},Opal.modules["asciidoctor/abstract_node"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.eqeq,o=e.truthy,s=e.def,a=e.send,$=e.rb_minus,l=e.eqeqeq,u=e.rb_lt,c=e.not,_=e.to_ary,d=[],p=e.nil,h=e.$$$;return e.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(d,f){var m=[t(d,"Asciidoctor")].concat(f);return function(t,d,f){var m=r(t,null,"AbstractNode"),g=[m].concat(f),b=e.$r(g),v=m.$$prototype;return v.document=v.attributes=v.parent=p,m.$include(b("Logging")),m.$include(b("Substitutors")),m.$attr_reader("attributes"),m.$attr_reader("context"),m.$attr_reader("document"),m.$attr_accessor("id"),m.$attr_reader("node_name"),m.$attr_reader("parent"),s(m,"$initialize",(function(e,t,r){var s=this,a=p;return null==r&&(r=n([],{})),i(t,"document")?s.document=s:o(e)&&(s.document=(s.parent=e).$document()),s.node_name=(s.context=t).$to_s(),s.attributes=o(a=r["$[]"]("attributes"))?a.$merge():n([],{}),s.passthroughs=[]}),-3),s(m,"$block?",(function(){return this.$raise(h("NotImplementedError"))})),s(m,"$inline?",(function(){return this.$raise(h("NotImplementedError"))})),s(m,"$converter",(function(){return this.document.$converter()})),s(m,"$parent=",(function(e){var t;return t=[e,e.$document()],this.parent=t[0],this.document=t[1],t})),s(m,"$attr",(function(e,t,r){var n,s=this,a=p,$=p,l=p;return null==t&&(t=p),null==r&&(r=p),o(n=s.attributes["$[]"](e.$to_s()))?n:o(a=o($=o(l=r)?s.parent:l)?s.document.$attributes()["$[]"]((i(r,!0)?e:r).$to_s()):$)?a:t}),-2),s(m,"$attr?",(function(e,t,r){var n=this,s=p;return null==t&&(t=p),null==r&&(r=p),o(t)?t["$=="](o(s=n.attributes["$[]"](e.$to_s()))?s:o(r)&&o(n.parent)?n.document.$attributes()["$[]"]((i(r,!0)?e:r).$to_s()):p):o(s=n.attributes["$key?"](e.$to_s()))?s:!(!o(r)||!o(n.parent))&&n.document.$attributes()["$key?"]((i(r,!0)?e:r).$to_s())}),-2),s(m,"$set_attr",(function(e,t,r){return null==t&&(t=""),null==r&&(r=!0),(!i(r,!1)||!o(this.attributes["$key?"](e)))&&(this.attributes["$[]="](e,t),!0)}),-2),s(m,"$remove_attr",(function(e){return this.attributes.$delete(e)})),s(m,"$option?",(function(e){return!!o(this.attributes["$[]"](e+"-option"))})),s(m,"$set_option",(function(e){return this.attributes["$[]="](e+"-option",""),p})),s(m,"$enabled_options",(function(){return a(h("Set").$new(),"tap",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.attributes&&(r.attributes=p),null==t&&(t=p),a(r.attributes,"each_key",[],(function(e){return null==e&&(e=p),o(e.$to_s()["$end_with?"]("-option"))?t["$<<"](e.$slice(0,$(e.$length(),7))):p}))}),{$$s:this})})),s(m,"$update_attributes",(function(e){return this.attributes.$update(e)})),s(m,"$role",(function(){return this.attributes["$[]"]("role")})),s(m,"$roles",(function(){var e=p;return o(e=this.attributes["$[]"]("role"))?e.$split():[]})),s(m,"$role?",(function(e){return null==e&&(e=p),o(e)?e["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")}),-1),s(m,"$has_role?",(function(e){var t;return!!o(t=this.attributes["$[]"]("role"))&&(" "+t+" ")["$include?"](" "+e+" ")})),s(m,"$role=",(function(e){var t;return t=["role",l(h("Array"),e)?e.$join(" "):e],a(this.attributes,"[]=",t),t[t.length-1]})),s(m,"$add_role",(function(e){var t,r=this;return o(t=r.attributes["$[]"]("role"))?!o((" "+t+" ")["$include?"](" "+e+" "))&&(r.attributes["$[]="]("role",t+" "+e),!0):(r.attributes["$[]="]("role",e),!0)})),s(m,"$remove_role",(function(e){var t=this,r=p;return!(!o(r=t.attributes["$[]"]("role"))||!o((r=r.$split()).$delete(e)))&&(o(r["$empty?"]())?t.attributes.$delete("role"):t.attributes["$[]="]("role",r.$join(" ")),!0)})),s(m,"$reftext",(function(){var e;return o(e=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(e):p})),s(m,"$reftext?",(function(){return this.attributes["$key?"]("reftext")})),s(m,"$icon_uri",(function(e){var t=this,r=p;return o(t["$attr?"]("icon"))?(r=t.$attr("icon"),o(b("Helpers")["$extname?"](r))||(r=r+"."+t.document.$attr("icontype","png"))):r=e+"."+t.document.$attr("icontype","png"),t.$image_uri(r,"iconsdir")})),s(m,"$image_uri",(function(e,t){var r=this,n=p,i=p;return null==t&&(t="imagesdir"),o(u((n=r.document).$safe(),h(b("SafeMode"),"SECURE")))&&o(n["$attr?"]("data-uri"))?o(b("Helpers")["$uriish?"](e))&&o(e=b("Helpers").$encode_spaces_in_uri(e))||o(t)&&o(i=n.$attr(t))&&o(b("Helpers")["$uriish?"](i))&&o(e=r.$normalize_web_path(e,i,!1))?o(n["$attr?"]("allow-uri-read"))?r.$generate_data_uri_from_uri(e,n["$attr?"]("cache-uri")):e:r.$generate_data_uri(e,t):r.$normalize_web_path(e,o(t)?n.$attr(t):p)}),-2),s(m,"$media_uri",(function(e,t){return null==t&&(t="imagesdir"),this.$normalize_web_path(e,o(t)?this.document.$attr(t):p)}),-2),s(m,"$generate_data_uri",(function(e,t){var r=this,s=p,a=p,$=p;return null==t&&(t=p),a=o(s=b("Helpers").$extname(e,p))?i(s,".svg")?"image/svg+xml":"image/"+s.$slice(1,s.$length()):"application/octet-stream",$=o(t)?r.$normalize_system_path(e,r.document.$attr(t),p,n(["target_name"],{target_name:"image"})):r.$normalize_system_path(e),o(h("File")["$readable?"]($))?"data:"+a+";base64,"+h("Base64").$strict_encode64(h("File").$binread($)):(r.$logger().$warn("image to embed not found or not readable: "+$),"data:"+a+";base64,")}),-2),s(m,"$generate_data_uri_from_uri",(function(t,r){var n,i,s=p,$=p;null==r&&(r=!1),o(r)?b("Helpers").$require_library("open-uri/cached","open-uri-cached"):c(b("RUBY_ENGINE_OPAL"))&&h("OpenURI");try{return i=a(h("OpenURI"),"open_uri",[t,b("URI_READ_MODE")],(function(e){return null==e&&(e=p),[e.$content_type(),e.$read()]})),s=null==(n=_(i))[0]?p:n[0],$=null==n[1]?p:n[1],"data:"+s+";base64,"+h("Base64").$strict_encode64($)}catch(r){if(!e.rescue(r,[b("StandardError")]))throw r;try{return this.$logger().$warn("could not retrieve image data from URI: "+t),t}finally{e.pop_exception()}}}),-2),s(m,"$normalize_asset_path",(function(e,t,r){return null==t&&(t="path"),null==r&&(r=!0),this.$normalize_system_path(e,this.document.$base_dir(),p,n(["target_name","recover"],{target_name:t,recover:r}))}),-2),s(m,"$normalize_system_path",(function(e,t,r,i){var s=p,a=p;return null==t&&(t=p),null==r&&(r=p),null==i&&(i=n([],{})),o(u((s=this.document).$safe(),h(b("SafeMode"),"SAFE")))?o(t)?o(s.$path_resolver()["$root?"](t))||(t=h("File").$join(s.$base_dir(),t)):t=s.$base_dir():(t=o(a=t)?a:s.$base_dir(),r=o(a=r)?a:s.$base_dir()),s.$path_resolver().$system_path(e,t,r,i)}),-2),s(m,"$normalize_web_path",(function(e,t,r){return null==t&&(t=p),null==r&&(r=!0),o(r)&&o(b("Helpers")["$uriish?"](e))?b("Helpers").$encode_spaces_in_uri(e):this.document.$path_resolver().$web_path(e,t)}),-2),s(m,"$read_asset",(function(e,t){var r=p;return null==t&&(t=n([],{})),l(h("Hash"),t)||(t=n(["warn_on_failure"],{warn_on_failure:t["$!="](!1)})),o(h("File")["$readable?"](e))?o(t["$[]"]("normalize"))?b("Helpers").$prepare_source_string(h("File").$read(e,n(["mode"],{mode:b("FILE_READ_MODE")}))).$join(b("LF")):h("File").$read(e,n(["mode"],{mode:b("FILE_READ_MODE")})):o(t["$[]"]("warn_on_failure"))?(this.$logger().$warn((o(r=this.$attr("docfile"))?r:"<stdin>")+": "+(o(r=t["$[]"]("label"))?r:"file")+" does not exist or cannot be read: "+e),p):p}),-2),s(m,"$read_contents",(function(t,r){var i=this,s=p,$=p,l=p,u=p;if(null==r&&(r=n([],{})),s=i.document,o(b("Helpers")["$uriish?"](t))||o($=r["$[]"]("start"))&&o(b("Helpers")["$uriish?"]($))&&o(t=s.$path_resolver().$web_path(t,$)))if(o(s["$attr?"]("allow-uri-read"))){o(s["$attr?"]("cache-uri"))&&b("Helpers").$require_library("open-uri/cached","open-uri-cached");try{l=o(r["$[]"]("normalize"))?b("Helpers").$prepare_source_string(a(h("OpenURI"),"open_uri",[t,b("URI_READ_MODE")],(function(e){return null==e&&(e=p),e.$read()}))).$join(b("LF")):a(h("OpenURI"),"open_uri",[t,b("URI_READ_MODE")],(function(e){return null==e&&(e=p),e.$read()}))}catch(n){if(!e.rescue(n,[b("StandardError")]))throw n;try{o(r.$fetch("warn_on_failure",!0))&&i.$logger().$warn("could not retrieve contents of "+(o(u=r["$[]"]("label"))?u:"asset")+" at URI: "+t)}finally{e.pop_exception()}}}else o(r.$fetch("warn_on_failure",!0))&&i.$logger().$warn("cannot retrieve contents of "+(o(u=r["$[]"]("label"))?u:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)");else t=i.$normalize_system_path(t,r["$[]"]("start"),p,n(["target_name"],{target_name:o(u=r["$[]"]("label"))?u:"asset"})),l=i.$read_asset(t,n(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));return o(l)&&o(r["$[]"]("warn_if_empty"))&&o(l["$empty?"]())&&i.$logger().$warn("contents of "+(o(u=r["$[]"]("label"))?u:"asset")+" is empty: "+t),l}),-2),s(m,"$is_uri?",(function(e){return b("Helpers")["$uriish?"](e)}))}(m[0],0,m)}(d[0],d)},Opal.modules["asciidoctor/abstract_block"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.send2,o=e.find_super,s=e.eqeq,a=e.eqeqeq,$=e.def,l=e.return_val,u=e.truthy,c=e.alias,_=e.send,d=e.rb_plus,p=e.not,h=e.neqeq,f=[],m=e.nil,g=e.$$$;return e.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(f,b){var v=[t(f,"Asciidoctor")].concat(b),y=e.$r(v);return function(t,f,b){var v=r(t,f,"AbstractBlock"),y=[v].concat(b),x=e.$r(y),k=v.$$prototype;return k.source_location=k.document=k.attributes=k.blocks=k.numeral=k.context=k.parent=k.caption=k.style=k.converted_title=k.title=k.subs=k.next_section_index=k.next_section_ordinal=k.id=k.header=m,v.$attr_reader("blocks"),v.$attr_writer("caption"),v.$attr_accessor("content_model"),v.$attr_accessor("level"),v.$attr_accessor("numeral"),v.$attr_accessor("source_location"),v.$attr_accessor("style"),v.$attr_reader("subs"),$(v,"$initialize",(function e(t,r,$){var l=e.$$p||m,u=this;return e.$$p=null,null==$&&($=n([],{})),i(u,o(u,"initialize",e,!1,!0),"initialize",[t,r,$],l),u.content_model="compound",u.blocks=[],u.subs=[],u.id=u.title=u.caption=u.numeral=u.style=u.default_subs=u.source_location=m,s(r,"document")||s(r,"section")?(u.level=u.next_section_index=0,u.next_section_ordinal=1):a(x("AbstractBlock"),t)?u.level=t.$level():u.level=m}),-3),$(v,"$block?",l(!0)),$(v,"$inline?",l(!1)),$(v,"$file",(function(){var e;return u(e=this.source_location)?this.source_location.$file():e})),$(v,"$lineno",(function(){var e;return u(e=this.source_location)?this.source_location.$lineno():e})),$(v,"$convert",(function(){var e=this;return e.document.$playback_attributes(e.attributes),e.$converter().$convert(e)})),c(v,"render","convert"),$(v,"$content",(function(){return _(this.blocks,"map",[],(function(e){return null==e&&(e=m),e.$convert()})).$join(x("LF"))})),$(v,"$context=",(function(e){return this.node_name=(this.context=e).$to_s()})),$(v,"$<<",(function(e){var t=this;return s(e.$parent(),t)||e["$parent="](t),t.blocks["$<<"](e),t})),c(v,"append","<<"),$(v,"$blocks?",(function(){return!u(this.blocks["$empty?"]())})),$(v,"$sections?",l(!1)),$(v,"$number",(function(){var t=this;try{return t.$Integer(t.numeral)}catch(r){if(!e.rescue(r,[x("StandardError")]))throw r;try{return t.numeral}finally{e.pop_exception()}}})),$(v,"$number=",(function(e){return this.numeral=e.$to_s()})),$(v,"$find_by",(function t(r){var i=t.$$p||m,o=m;t.$$p=null,null==r&&(r=n([],{}));try{return _(this,"find_by_internal",[r,o=[]],i.$to_proc())}catch(t){if(!e.rescue(t,[g("StopIteration")]))throw t;try{return o}finally{e.pop_exception()}}}),-1),c(v,"query","find_by"),$(v,"$next_adjacent_block",(function(){var e=this,t=m,r=m;return s(e.context,"document")?m:s((t=e.parent).$context(),"dlist")&&s(e.context,"list_item")?u(r=t.$items()["$[]"](d(_(t.$items(),"find_index",[],(function e(t,r){var n,i=null==e.$$s?this:e.$$s;return null==t&&(t=m),null==r&&(r=m),u(n=t["$include?"](i))?n:r["$=="](i)}),{$$s:e}),1)))?r:t.$next_adjacent_block():u(r=t.$blocks()["$[]"](d(t.$blocks().$find_index(e),1)))?r:t.$next_adjacent_block()})),$(v,"$sections",(function(){return _(this.blocks,"select",[],(function(e){return null==e&&(e=m),e.$context()["$=="]("section")}))})),$(v,"$alt",(function(){var e=this,t=m;return u(t=e.attributes["$[]"]("alt"))?s(t,e.attributes["$[]"]("default-alt"))?e.$sub_specialchars(t):(t=e.$sub_specialchars(t),u(x("ReplaceableTextRx")["$match?"](t))?e.$sub_replacements(t):t):""})),$(v,"$caption",(function(){var e=this;return s(e.context,"admonition")?e.attributes["$[]"]("textlabel"):e.caption})),$(v,"$captioned_title",(function(){return""+this.caption+this.$title()})),$(v,"$list_marker_keyword",(function(e){var t;return null==e&&(e=m),x("ORDERED_LIST_KEYWORDS")["$[]"](u(t=e)?t:this.style)}),-1),$(v,"$title",(function(){var e,t=this,r=m;return t.converted_title=u(e=t.converted_title)?e:u(r=t.title)?t.$apply_title_subs(t.title):r})),$(v,"$title?",(function(){return!!u(this.title)})),$(v,"$title=",(function(e){return this.converted_title=m,this.title=e})),$(v,"$sub?",(function(e){return this.subs["$include?"](e)})),$(v,"$remove_sub",(function(e){return this.subs.$delete(e),m})),$(v,"$xreftext",(function(e){var t=this,r=m,n=m,i=m,o=m;if(null==e&&(e=m),u(r=t.$reftext())&&p(r["$empty?"]()))return r;if(!(u(e)&&u(t.title)&&p(t.caption["$nil_or_empty?"]())))return t.$title();switch(e){case"full":return n=t.$sub_placeholder(t.$sub_quotes(u(t.document.$compat_mode())?"``%s''":'"`%s`"'),t.$title()),u(t.numeral)&&u(o=x("CAPTION_ATTRIBUTE_NAMES")["$[]"](t.context))&&u(i=t.document.$attributes()["$[]"](o))?i+" "+t.numeral+", "+n:t.caption.$chomp(". ")+", "+n;case"short":return u(t.numeral)&&u(o=x("CAPTION_ATTRIBUTE_NAMES")["$[]"](t.context))&&u(i=t.document.$attributes()["$[]"](o))?i+" "+t.numeral:t.caption.$chomp(". ");default:return t.$title()}}),-1),$(v,"$assign_caption",(function(e,t){var r=this,n=m,i=m,o=m;return null==t&&(t=r.context),u(r.caption)||p(r.title)||u(r.caption=u(n=e)?n:r.document.$attributes()["$[]"]("caption"))?m:u(o=x("CAPTION_ATTRIBUTE_NAMES")["$[]"](t))&&u(i=r.document.$attributes()["$[]"](o))?(r.caption=i+" "+(r.numeral=r.document.$increment_and_store_counter(t+"-number",r))+". ",m):m}),-2),$(v,"$assign_numeral",(function(e){var t,r,n=this,i=m,o=m;return n.next_section_index=d((t=[n.next_section_index],_(e,"index=",t),t[t.length-1]),1),u(r=e.$numbered())&&(s(i=e.$sectname(),"appendix")?(e["$numeral="](n.document.$counter("appendix-number","A")),e["$caption="](u(o=n.document.$attributes()["$[]"]("appendix-caption"))?o+" "+e.$numeral()+": ":e.$numeral()+". ")):s(i,"chapter")||s(r,"chapter")?e["$numeral="](n.document.$counter("chapter-number",1).$to_s()):(e["$numeral="](s(i,"part")?x("Helpers").$int_to_roman(n.next_section_ordinal):n.next_section_ordinal.$to_s()),n.next_section_ordinal=d(n.next_section_ordinal,1))),m})),$(v,"$reindex_sections",(function(){var e=this;return e.next_section_index=0,e.next_section_ordinal=1,_(e.blocks,"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=m),s(t.$context(),"section")?(r.$assign_numeral(t),t.$reindex_sections()):m}),{$$s:e})})),v.$protected(),$(v,"$find_by_internal",(function t(r,i){var o,a,$=t.$$p||m,l=this,c=m,f=m,b=m,v=m;if(t.$$p=null,null==r&&(r=n([],{})),null==i&&(i=[]),(u(o=!u(a=r["$[]"]("context"))||m)||s(a,l.context))&&(p(b=r["$[]"]("style"))||s(b,l.style))&&(p(f=r["$[]"]("role"))||u(l["$has_role?"](f)))&&(p(c=r["$[]"]("id"))||s(c,l.id)))if($!==m)if(u(v=e.yield1($,l)))switch(v){case"prune":return i["$<<"](l),u(c)&&l.$raise(g("StopIteration")),i;case"reject":return u(c)&&l.$raise(g("StopIteration")),i;case"stop":l.$raise(g("StopIteration"));break;default:i["$<<"](l),u(c)&&l.$raise(g("StopIteration"))}else u(c)&&l.$raise(g("StopIteration"));else i["$<<"](l),u(c)&&l.$raise(g("StopIteration"));switch(l.context){case"document":s(a,"document")||(u(l["$header?"]())&&(u(o)||s(a,"section"))&&_(l.header,"find_by_internal",[r,i],$.$to_proc()),_(l.blocks,"each",[],(function(e){return null==e&&(e=m),s(a,"section")&&h(e.$context(),"section")?m:_(e,"find_by_internal",[r,i],$.$to_proc())})));break;case"dlist":(u(o)||h(a,"section"))&&_(l.blocks.$flatten(),"each",[],(function(e){return null==e&&(e=m),u(e)?_(e,"find_by_internal",[r,i],$.$to_proc()):m}));break;case"table":u(r["$[]"]("traverse_documents"))?(_(l.$rows().$head(),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[r,i],$.$to_proc())}))})),s(a,"inner_document")&&(r=r.$merge(n(["context"],{context:"document"}))),_(d(l.$rows().$body(),l.$rows().$foot()),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[r,i],$.$to_proc()),s(e.$style(),"asciidoc")?_(e.$inner_document(),"find_by_internal",[r,i],$.$to_proc()):m}))}))):_(d(d(l.$rows().$head(),l.$rows().$body()),l.$rows().$foot()),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[r,i],$.$to_proc())}))}));break;default:_(l.blocks,"each",[],(function(e){return null==e&&(e=m),s(a,"section")&&h(e.$context(),"section")?m:_(e,"find_by_internal",[r,i],$.$to_proc())}))}return i}),-1)}(v[0],y("AbstractNode"),v)}(f[0],f)},Opal.modules["asciidoctor/attribute_list"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.hash,o=e.regexp,s=e.hash2,a=e.def,$=e.truthy,l=e.rb_plus,u=e.send,c=e.defs,_=e.eqeqeq,d=e.eqeq,p=e.rb_times,h=[],f=e.nil,m=e.$$$;return e.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(h,g){var b=[t(h,"Asciidoctor")].concat(g);return function(t,h,g){var b=r(t,null,"AttributeList"),v=[b].concat(g),y=e.$r(v),x=b.$$prototype;return x.attributes=x.scanner=x.delimiter=x.block=x.delimiter_skip_pattern=x.delimiter_boundary_pattern=f,n(v[0],"APOS","'"),n(v[0],"BACKSLASH","\\"),n(v[0],"QUOT",'"'),n(v[0],"BoundaryRx",i(y("QUOT"),/.*?[^\\](?=")/,y("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),n(v[0],"EscapedQuotes",i(y("QUOT"),'\\"',y("APOS"),"\\'")),n(v[0],"NameRx",o([y("CG_WORD"),"[",y("CC_WORD"),"\\-.]*"])),n(v[0],"BlankRx",/[ \t]+/),n(v[0],"SkipRx",s([","],{",":/[ \t]*(,|$)/})),a(b,"$initialize",(function(e,t,r){var n=this;return null==t&&(t=f),null==r&&(r=","),n.scanner=m("StringScanner").$new(e),n.block=t,n.delimiter=r,n.delimiter_skip_pattern=y("SkipRx")["$[]"](r),n.delimiter_boundary_pattern=y("BoundaryRx")["$[]"](r),n.attributes=f}),-2),a(b,"$parse_into",(function(e,t){return null==t&&(t=[]),e.$update(this.$parse(t))}),-2),a(b,"$parse",(function(e){var t=this,r=f;if(null==e&&(e=[]),$(t.attributes))return t.attributes;for(t.attributes=s([],{}),r=0;$(t.$parse_attribute(r,e))&&!$(t.scanner["$eos?"]());)t.$skip_delimiter(),r=l(r,1);return t.attributes}),-1),a(b,"$rekey",(function(e){return y("AttributeList").$rekey(this.attributes,e)})),c(b,"$rekey",(function(e,t){return u(t,"each_with_index",[],(function(t,r){var n,i=f;return null==t&&(t=f),null==r&&(r=f),$(t)&&$(i=e["$[]"](l(r,1)))?(u(e,"[]=",n=[t,i]),n[n.length-1]):f})),e})),b.$private(),a(b,"$parse_attribute",(function(e,t){var r,n=this,i=f,o=f,s=f,a=f,c=f,h=f,m=f,g=f,b=f;if(i=!0,n.$skip_blank(),_(y("QUOT"),r=n.scanner.$peek(1)))o=n.$parse_attribute_value(n.scanner.$get_byte());else if(_(y("APOS"),r))o=n.$parse_attribute_value(n.scanner.$get_byte()),$(o["$start_with?"](y("APOS")))||(s=!0);else if(a=$(c=$(h=o=n.$scan_name())?n.$skip_blank():h)?c:0,$(n.scanner["$eos?"]())){if(!$(o)&&!$(n.scanner.$string().$rstrip()["$end_with?"](n.delimiter)))return f;i=f}else if(d(m=n.scanner.$get_byte(),n.delimiter))n.scanner.$unscan();else if($(o))if(d(m,"=")){if(n.$skip_blank(),_(y("QUOT"),c=m=n.scanner.$get_byte()))g=n.$parse_attribute_value(m);else if(_(y("APOS"),c))g=n.$parse_attribute_value(m),$(g["$start_with?"](y("APOS")))||(s=!0);else if(_(n.delimiter,c))g="",n.scanner.$unscan();else if(_(f,c))g="";else if(g=""+m+n.$scan_to_delimiter(),d(g,"None"))return!0}else o=""+o+p(" ",a)+m+n.$scan_to_delimiter();else o=""+m+n.$scan_to_delimiter();if($(g))switch(o){case"options":case"opts":$(g["$include?"](","))?($(g["$include?"](" "))&&(g=g.$delete(" ")),u(g.$split(","),"each",[],(function e(t){var r,n=null==e.$$s?this:e.$$s;return null==n.attributes&&(n.attributes=f),null==t&&(t=f),$(t["$empty?"]())?f:(r=[t+"-option",""],u(n.attributes,"[]=",r),r[r.length-1])}),{$$s:n})):$(g["$empty?"]())||n.attributes["$[]="](g+"-option","");break;default:if($(s)&&$(n.block))switch(o){case"title":case"reftext":n.attributes["$[]="](o,g);break;default:n.attributes["$[]="](o,n.block.$apply_subs(g))}else n.attributes["$[]="](o,g)}else $(s)&&$(n.block)&&(o=n.block.$apply_subs(o)),$(b=t["$[]"](e))&&$(o)&&n.attributes["$[]="](b,o),n.attributes["$[]="](l(e,1),o);return i})),a(b,"$parse_attribute_value",(function(e){var t=this,r=f;return d(t.scanner.$peek(1),e)?(t.scanner.$get_byte(),""):$(r=t.$scan_to_quote(e))?(t.scanner.$get_byte(),$(r["$include?"](y("BACKSLASH")))?r.$gsub(y("EscapedQuotes")["$[]"](e),e):r):""+e+t.$scan_to_delimiter()})),a(b,"$skip_blank",(function(){return this.scanner.$skip(y("BlankRx"))})),a(b,"$skip_delimiter",(function(){return this.scanner.$skip(this.delimiter_skip_pattern)})),a(b,"$scan_name",(function(){return this.scanner.$scan(y("NameRx"))})),a(b,"$scan_to_delimiter",(function(){return this.scanner.$scan(this.delimiter_boundary_pattern)})),a(b,"$scan_to_quote",(function(e){return this.scanner.$scan(y("BoundaryRx")["$[]"](e))}))}(b[0],0,b)}(h[0],h)},Opal.modules["asciidoctor/block"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.hash2,o=e.alias,s=e.send2,a=e.find_super,$=e.truthy,l=e.eqeqeq,u=e.def,c=e.rb_lt,_=e.eqeq,d=[],p=e.nil,h=e.$$$;return e.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(d,f){var m=[t(d,"Asciidoctor")].concat(f),g=e.$r(m);return function(t,d,f){var m=r(t,d,"Block"),g=[m].concat(f),b=e.$r(g),v=m.$$prototype;return v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=p,n(g[0],"DEFAULT_CONTENT_MODEL",i(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),o(m,"blockname","context"),m.$attr_accessor("lines"),u(m,"$initialize",(function e(t,r,n){var o=e.$$p||p,u=this,c=p,_=p,d=p;return e.$$p=null,null==n&&(n=i([],{})),s(u,a(u,"initialize",e,!1,!0),"initialize",[t,r,n],o),u.content_model=$(c=n["$[]"]("content_model"))?c:b("DEFAULT_CONTENT_MODEL")["$[]"](r),$(n["$key?"]("subs"))?$(_=n["$[]"]("subs"))?(l("default",c=_)?u.default_subs=n["$[]"]("default_subs"):l(h("Array"),c)?(u.default_subs=_.$drop(0),u.attributes.$delete("subs")):(u.default_subs=p,u.attributes["$[]="]("subs",_.$to_s())),u.$commit_subs()):(u.default_subs=[],u.attributes.$delete("subs")):u.default_subs=p,$((d=n["$[]"]("source"))["$nil_or_empty?"]())?u.lines=[]:l(h("String"),d)?u.lines=b("Helpers").$prepare_source_string(d):u.lines=d.$drop(0)}),-3),u(m,"$content",(function e(){var t=e.$$p||p,r=this,n=p,i=p,o=p,l=p;switch(e.$$p=null,r.content_model){case"compound":return s(r,a(r,"content",e,!1,!0),"content",[],t);case"simple":return r.$apply_subs(r.lines.$join(b("LF")),r.subs);case"verbatim":case"raw":if(n=r.$apply_subs(r.lines,r.subs),$(c(n.$size(),2)))return n["$[]"](0);for(;$($(i=o=n["$[]"](0))?o.$rstrip()["$empty?"]():i);)n.$shift();for(;$($(i=l=n["$[]"](-1))?l.$rstrip()["$empty?"]():i);)n.$pop();return n.$join(b("LF"));default:return _(r.content_model,"empty")||r.$logger().$warn("unknown content model '"+r.content_model+"' for block: "+r),p}})),u(m,"$source",(function(){return this.lines.$join(b("LF"))})),u(m,"$to_s",(function(){var e,t=this;return e=_(t.content_model,"compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"}))}(m[0],g("AbstractBlock"),m)}(d[0],d)},Opal.modules["asciidoctor/callouts"]=function(e){var t,r=e.module,n=e.klass,i=e.def,o=e.hash2,s=e.rb_plus,a=e.truthy,$=e.rb_le,l=e.rb_minus,u=e.send,c=e.eqeq,_=e.rb_lt,d=[],p=e.nil;return e.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),t=d,function(e,t){var r=n(e,null,"Callouts"),d=r.$$prototype;return d.co_index=d.lists=d.list_index=p,i(r,"$initialize",(function(){var e=this;return e.lists=[],e.list_index=0,e.$next_list()})),i(r,"$register",(function(e){var t,r=this;return r.$current_list()["$<<"](o(["ordinal","id"],{ordinal:e.$to_i(),id:t=r.$generate_next_callout_id()})),r.co_index=s(r.co_index,1),t})),i(r,"$read_next_id",(function(){var e=this,t=p,r=p;return t=p,r=e.$current_list(),a($(e.co_index,r.$size()))&&(t=r["$[]"](l(e.co_index,1))["$[]"]("id")),e.co_index=s(e.co_index,1),t})),i(r,"$callout_ids",(function(e){return u(this.$current_list(),"map",[],(function(t){return null==t&&(t=p),c(t["$[]"]("ordinal"),e)?t["$[]"]("id")+" ":""})).$join().$chop()})),i(r,"$current_list",(function(){return this.lists["$[]"](l(this.list_index,1))})),i(r,"$next_list",(function(){var e=this;return e.list_index=s(e.list_index,1),a(_(e.lists.$size(),e.list_index))&&e.lists["$<<"]([]),e.co_index=1,p})),i(r,"$rewind",(function(){return this.list_index=1,this.co_index=1,p})),r.$private(),i(r,"$generate_next_callout_id",(function(){var e=this;return e.$generate_callout_id(e.list_index,e.co_index)})),i(r,"$generate_callout_id",(function(e,t){return"CO"+e+"-"+t}))}([r(d[0],"Asciidoctor")].concat(t)[0])},Opal.modules["asciidoctor/converter/composite"]=function(e){var t=e.module,r=e.klass,n=e.slice,i=e.extract_kwargs,o=e.ensure_kwargs,s=e.send,a=e.truthy,$=e.def,l=e.thrower,u=[],c=e.nil,_=e.$$$;return e.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(u,d){var p=[t(u,"Asciidoctor")].concat(d),h=e.$r(p);return function(e,t){var u=r(e,t,"CompositeConverter"),d=u.$$prototype;return d.converter_cache=d.converters=c,u.$attr_reader("converters"),$(u,"$initialize",(function(e,t,r){var $,l,u,d,p=this;return $=n(arguments,1),l=i($),u=$,null==(d=(l=o(l)).$$smap.backend_traits_source)&&(d=c),p.backend=e,s(p.converters=u,"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=c),a(t["$respond_to?"]("composed"))?t.$composed(r):c}),{$$s:p}),a(d)&&p.$init_backend_traits(d.$backend_traits()),p.converter_cache=s(_("Hash"),"new",[],(function e(t,r){var n;return null==t&&(t=c),null==r&&(r=c),n=[r,(null==e.$$s?this:e.$$s).$find_converter(r)],s(t,"[]=",n),n[n.length-1]}),{$$s:p})}),-2),$(u,"$convert",(function(e,t,r){var n;return null==t&&(t=c),null==r&&(r=c),this.$converter_for(t=a(n=t)?n:e.$node_name()).$convert(e,t,r)}),-2),$(u,"$converter_for",(function(e){return this.converter_cache["$[]"](e)})),$(u,"$find_converter",(function(e){try{var t=l("return");return s(this.converters,"each",[],(function(r){if(null==r&&(r=c),!a(r["$handles?"](e)))return c;t.$throw(r)}),{$$ret:t}),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t)return e.$v;throw e}}))}(h("Converter"),_(h("Converter"),"Base"))}(u[0],u)},Opal.modules["asciidoctor/converter"]=function(e){var t=e.module,r=e.hash2,n=e.def,i=e.return_val,o=e.truthy,s=e.eqeq,a=e.defs,$=e.send,l=e.alias,u=e.slice,c=e.to_a,_=e.extract_kwargs,d=e.ensure_kwargs,p=e.eqeqeq,h=e.Class,f=e.klass,m=e.class_variable_set,g=e.class_variable_get,b=e.rb_plus,v=e.gvars,y=[],x=e.nil,k=e.$$$;return e.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(y,w){var A=[t(y,"Asciidoctor")].concat(w);return function(y,w){var A=t(y,"Converter"),E=[A].concat(w),S=e.$r(E);return A.$autoload("CompositeConverter","asciidoctor/converter/composite"),A.$attr_reader("backend"),n(A,"$initialize",(function(e,t){return null==t&&(t=r([],{})),this.backend=e}),-2),n(A,"$convert",(function(e,t,r){var n=this;return null==n.backend&&(n.backend=x),n.$raise(k("NotImplementedError"),n.$class()+" (backend: "+n.backend+") must implement the #convert method")}),-2),n(A,"$handles?",i(!0)),a(A,"$derive_backend_traits",(function(e,t){var n,i=x,a=x;return null==t&&(t=x),o(e)?(o(i=S("DEFAULT_EXTENSIONS")["$[]"](t=o(n=t)?n:e.$sub(S("TrailingDigitsRx"),"")))?a=i.$slice(1,i.$length()):i="."+(a=t),s(a,"html")?r(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:t,filetype:a,htmlsyntax:"html",outfilesuffix:i}):r(["basebackend","filetype","outfilesuffix"],{basebackend:t,filetype:a,outfilesuffix:i})):r([],{})}),-2),function(i,s){var u=t(i,"BackendTraits"),c=[u].concat(s),_=e.$r(c);n(u,"$basebackend",(function(e){var t;return null==e&&(e=x),o(e)?(t=["basebackend",e],$(this.$backend_traits(e),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("basebackend")}),-1),n(u,"$filetype",(function(e){var t;return null==e&&(e=x),o(e)?(t=["filetype",e],$(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("filetype")}),-1),n(u,"$htmlsyntax",(function(e){var t;return null==e&&(e=x),o(e)?(t=["htmlsyntax",e],$(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("htmlsyntax")}),-1),n(u,"$outfilesuffix",(function(e){var t;return null==e&&(e=x),o(e)?(t=["outfilesuffix",e],$(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("outfilesuffix")}),-1),n(u,"$supports_templates",(function(e){var t;return null==e&&(e=!0),t=["supports_templates",e],$(this.$backend_traits(),"[]=",t),t[t.length-1]}),-1),n(u,"$supports_templates?",(function(){return this.$backend_traits()["$[]"]("supports_templates")})),n(u,"$init_backend_traits",(function(e){var t;return null==e&&(e=x),this.backend_traits=o(t=e)?t:r([],{})}),-1),n(u,"$backend_traits",(function(e){var t,r=this;return null==r.backend_traits&&(r.backend_traits=x),null==r.backend&&(r.backend=x),null==e&&(e=x),r.backend_traits=o(t=r.backend_traits)?t:_("Converter").$derive_backend_traits(r.backend,e)}),-1),l(u,"backend_info","backend_traits"),a(u,"$derive_backend_traits",(function(e,t){return null==t&&(t=x),_("Converter").$derive_backend_traits(e,t)}),-2)}(E[0],E),function(r,i){var o=t(r,"Config"),s=[o].concat(i),a=e.$r(s);n(o,"$register_for",(function(e){var t,r=this;return t=u(arguments),$(a("Converter"),"register",[r].concat(c($(t,"map",[],(function(e){return null==e&&(e=x),e.$to_s()})))))}),-1)}(E[0],E),function(i,l){var c=t(i,"Factory"),f=[c].concat(l),m=e.$r(f);a(c,"$new",(function(e,t){var r,n,i,s;return r=u(arguments),n=_(r),n=d(n),r.length>0&&(i=r.shift()),null==i&&(i=x),null==(s=n.$$smap.proxy_default)&&(s=!0),o(s)?m("DefaultFactoryProxy").$new(i):m("CustomFactory").$new(i)}),-1),a(c,"$default",(function(e){return u(arguments),m("Converter")}),-1),a(c,"$create",(function(e,t){return null==t&&(t=r([],{})),this.$default().$create(e,t)}),-2),n(c,"$register",(function(e,t){var r;return r=u(arguments,1),$(r,"each",[],(function t(r){var n,i=null==t.$$s?this:t.$$s;return null==r&&(r=x),s(r,"*")?(n=[e],$(i.$registry(),"default=",n),n[n.length-1]):(n=[r,e],$(i.$registry(),"[]=",n),n[n.length-1])}),{$$s:this})}),-2),n(c,"$for",(function(e){return this.$registry()["$[]"](e)})),n(c,"$create",(function(e,t){var n=x,i=x,s=x;return null==t&&(t=r([],{})),o(n=this.$for(e))?(p(h,n)&&(n=n.$new(e,t)),o(i=t["$[]"]("template_dirs"))&&p(m("BackendTraits"),n)&&o(n["$supports_templates?"]())?m("CompositeConverter").$new(e,m("TemplateConverter").$new(e,i,t),n,r(["backend_traits_source"],{backend_traits_source:n})):n):o(i=t["$[]"]("template_dirs"))?o(s=t["$[]"]("delegate_backend"))&&o(n=this.$for(s))?(p(h,n)&&(n=n.$new(s,t)),m("CompositeConverter").$new(e,m("TemplateConverter").$new(e,i,t),n,r(["backend_traits_source"],{backend_traits_source:n}))):m("TemplateConverter").$new(e,i,t):x}),-2),n(c,"$converters",(function(){return this.$registry().$merge()})),c.$private(),n(c,"$registry",(function(){return this.$raise(k("NotImplementedError"),m("Factory")+" subclass "+this.$class()+" must implement the #registry method")}))}(E[0],E),function(t,i,s){var a=f(t,null,"CustomFactory"),l=[a].concat(s),u=e.$r(l);a.$include(u("Factory")),n(a,"$initialize",(function(e){return null==e&&(e=x),o(e)?(e["$default="](e.$delete("*")),this.registry=e):this.registry=r([],{})}),-1),n(a,"$unregister_all",(function(){var e;return e=[x],$(this.$registry().$clear(),"default=",e),e[e.length-1]})),a.$private(),a.$attr_reader("registry")}(E[0],0,E),function(i,o){var s=t(i,"DefaultFactory"),a=[s].concat(o),$=e.$r(a);s.$include($("Factory")),s.$private(),m(a[0],"@@registry",r([],{})),n(s,"$registry",(function(){return g(a[0],"@@registry",!1)}))}(E[0],E),function(t,r,n){var i=f(t,r,"DefaultFactoryProxy"),o=[i].concat(n),s=e.$r(o);i.$include(s("DefaultFactory"))}(E[0],S("CustomFactory"),E),a(A,"$included",(function(e){return e.$send("include",S("BackendTraits")),e.$extend(S("Config"))})),A.$private_class_method("included"),function(t,r,a){var $=f(t,null,"Base"),l=[$].concat(a),u=e.$r(l);$.$$prototype.backend=x,$.$include(u("Logging")),$.$include(u("Converter")),n($,"$convert",(function(t,r,n){var i=this,a=x;null==v["!"]&&(v["!"]=x),null==r&&(r=t.$node_name()),null==n&&(n=x);try{return o(n)?i.$send(b("convert_",r),t,n):i.$send(b("convert_",r),t)}catch(t){if(!e.rescue(t,[u("StandardError")]))throw t;try{return p(k("NoMethodError"),a=v["!"])&&s(a.$receiver(),i)&&s(a.$name().$to_s(),r)||i.$raise(),i.$logger().$warn("missing convert handler for "+a.$name()+" node in "+i.backend+" backend ("+i.$class()+")"),x}finally{e.pop_exception()}}}),-2),n($,"$handles?",(function(e){return this["$respond_to?"]("convert_"+e)})),n($,"$content_only",(function(e){return e.$content()})),n($,"$skip",i(x))}(E[0],0,E),A.$extend(S("DefaultFactory"))}(A[0],A)}(y[0],y)},Opal.modules["asciidoctor/document"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.send,o=e.alias,s=e.truthy,a=e.def,$=e.hash2,l=e.not,u=e.to_ary,c=e.return_ivar,_=e.send2,d=e.find_super,p=e.rb_minus,h=e.eqeq,f=e.eqeqeq,m=e.hash,g=e.rb_ge,b=e.rb_plus,v=e.neqeq,y=e.thrower,x=e.rb_gt,k=e.rb_lt,w=e.gvars,A=e.to_a,E=[],S=e.nil,C=e.$$$;return e.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(E,O){var R=[t(E,"Asciidoctor")].concat(O),I=e.$r(R);return function(t,E,O){var R=r(t,E,"Document"),I=[R].concat(O),T=e.$r(I),z=R.$$prototype;return z.attributes=z.safe=z.sourcemap=z.reader=z.base_dir=z.parsed=z.parent_document=z.extensions=z.options=z.counters=z.catalog=z.reftexts=z.next_section_index=z.header=z.blocks=z.header_attributes=z.attributes_modified=z.backend=z.attribute_overrides=z.timings=z.converter=z.outfilesuffix=z.docinfo_processor_extensions=z.document=z.max_attribute_value_size=z.id=z.doctype=S,n(I[0],"ImageReference",i(C("Struct"),"new",["target","imagesdir"],(function e(){return o(null==e.$$s?this:e.$$s,"to_s","target")}),{$$s:R})),n(I[0],"Footnote",C("Struct").$new("index","id","text")),function(e,t){var n=r(e,null,"AttributeEntry");n.$attr_reader("name","value","negate"),a(n,"$initialize",(function(e,t,r){var n=this;return null==r&&(r=S),n.name=e,n.value=t,n.negate=s(r["$nil?"]())?t["$nil?"]():r}),-3),a(n,"$save_to",(function(e){var t,r;return(s(r=e["$[]"]("attribute_entries"))?r:(t=["attribute_entries",[]],i(e,"[]=",t),t[t.length-1]))["$<<"](this),this}))}(I[0]),function(t,n,i){var _=r(t,null,"Title"),d=[_].concat(i),p=e.$r(d);_.$$prototype.subtitle=S,_.$attr_reader("main"),o(_,"title","main"),_.$attr_reader("subtitle"),_.$attr_reader("combined"),a(_,"$initialize",(function(e,t){var r,n,i,o=this,a=S;return null==t&&(t=$([],{})),s(o.sanitized=t["$[]"]("sanitize"))&&s(e["$include?"]("<"))&&(e=e.$gsub(p("XmlSanitizeRx"),"").$squeeze(" ").$strip()),s((a=s(i=t["$[]"]("separator"))?i:":")["$empty?"]())||l(e["$include?"](a+=" "))?(o.main=e,o.subtitle=S):(n=e.$rpartition(a),r=u(n),o.main=null==r[0]?S:r[0],null==r[1]||r[1],o.subtitle=null==r[2]?S:r[2]),o.combined=e}),-2),a(_,"$sanitized?",c("sanitized")),a(_,"$subtitle?",(function(){return!!s(this.subtitle)})),a(_,"$to_s",c("combined"))}(I[0],0,I),n(I[0],"Author",C("Struct").$new("name","firstname","middlename","lastname","initials","email")),R.$attr_reader("safe"),R.$attr_reader("compat_mode"),R.$attr_reader("backend"),R.$attr_reader("doctype"),R.$attr_accessor("sourcemap"),R.$attr_reader("catalog"),o(R,"references","catalog"),R.$attr_reader("counters"),R.$attr_reader("header"),R.$attr_reader("base_dir"),R.$attr_reader("options"),R.$attr_reader("outfilesuffix"),R.$attr_reader("parent_document"),R.$attr_reader("reader"),R.$attr_reader("path_resolver"),R.$attr_reader("converter"),R.$attr_reader("syntax_highlighter"),R.$attr_reader("extensions"),a(R,"$initialize",(function t(r,n){var o,a,u,c,v,y,x,k=this,w=S,A=S,E=S,O=S,R=S,I=S,z=S,F=S,N=S,L=S,D=S,q=S,B=S,M=S,j=S;return t.$$p=null,null==r&&(r=S),null==n&&(n=$([],{})),_(k,d(k,"initialize",t,!1,!0),"initialize",[k,"document"],null),s(w=n.$delete("parent"))?(k.parent_document=w,s(A=n["$[]"]("base_dir"))||n["$[]="]("base_dir",w.$base_dir()),s(w.$options()["$[]"]("catalog_assets"))&&n["$[]="]("catalog_assets",!0),s(w.$options()["$[]"]("to_dir"))&&n["$[]="]("to_dir",w.$options()["$[]"]("to_dir")),k.catalog=w.$catalog().$merge($(["footnotes"],{footnotes:[]})),k.attribute_overrides=E=w.$instance_variable_get("@attribute_overrides").$merge(w.$attributes()),E.$delete("compat-mode"),O=E.$delete("doctype"),E.$delete("notitle"),E.$delete("showtitle"),E.$delete("toc"),k.attributes["$[]="]("toc-placement",s(A=E.$delete("toc-placement"))?A:"auto"),E.$delete("toc-position"),k.safe=w.$safe(),s(k.compat_mode=w.$compat_mode())&&k.attributes["$[]="]("compat-mode",""),k.outfilesuffix=w.$outfilesuffix(),k.sourcemap=w.$sourcemap(),k.timings=S,k.path_resolver=w.$path_resolver(),k.converter=w.$converter(),R=S,k.extensions=w.$extensions(),k.syntax_highlighter=w.$syntax_highlighter()):(k.parent_document=S,k.catalog=$(["ids","refs","footnotes","links","images","callouts","includes"],{ids:$([],{}),refs:$([],{}),footnotes:[],links:[],images:[],callouts:T("Callouts").$new(),includes:$([],{})}),k.attribute_overrides=E=$([],{}),i(s(A=n["$[]"]("attributes"))?A:$([],{}),"each",[],(function(e,t){var r;return null==e&&(e=S),null==t&&(t=S),s(e["$end_with?"]("@"))?s(e["$start_with?"]("!"))?(r=[e.$slice(1,p(e.$length(),2)),!1],e=r[0],t=r[1]):s(e["$end_with?"]("!@"))?(r=[e.$slice(0,p(e.$length(),2)),!1],e=r[0],t=r[1]):(r=[e.$chop(),t+"@"],e=r[0],t=r[1]):s(e["$start_with?"]("!"))?(r=[e.$slice(1,e.$length()),!h(t,"@")&&S],e=r[0],t=r[1]):s(e["$end_with?"]("!"))&&(r=[e.$chop(),!h(t,"@")&&S],e=r[0],t=r[1]),r=[e.$downcase(),t],i(E,"[]=",r),r[r.length-1]})),f(C("String"),I=n["$[]"]("to_file"))&&E["$[]="]("outfilesuffix",T("Helpers").$extname(I)),l(z=n["$[]"]("safe"))?k.safe=C(T("SafeMode"),"SECURE"):f(C("Integer"),z)?k.safe=z:k.safe=function(){try{return T("SafeMode").$value_for_name(z)}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return C(T("SafeMode"),"SECURE")}finally{e.pop_exception()}}}(),F=n.$delete("input_mtime"),k.compat_mode=E["$key?"]("compat-mode"),k.sourcemap=n["$[]"]("sourcemap"),k.timings=n.$delete("timings"),k.path_resolver=T("PathResolver").$new(),R=s((o=C("::","Asciidoctor","skip_raise"))&&C(o,"Extensions","skip_raise")?"constant":S)||s(n["$key?"]("extensions"))?C(C("Asciidoctor"),"Extensions"):S,k.extensions=S,s(n["$key?"]("header_footer"))&&l(n["$key?"]("standalone"))&&n["$[]="]("standalone",n["$[]"]("header_footer"))),k.parsed=k.reftexts=k.header=k.header_attributes=S,k.counters=$([],{}),k.attributes_modified=C("Set").$new(),k.docinfo_processor_extensions=$([],{}),v=n["$[]"]("standalone"),(k.options=n).$freeze(),N=k.attributes,s(w)||(N["$[]="]("attribute-undefined",T("Compliance").$attribute_undefined()),N["$[]="]("attribute-missing",T("Compliance").$attribute_missing()),N.$update(T("DEFAULT_ATTRIBUTES"))),s(v)?(E["$[]="]("embedded",S),N["$[]="]("copycss",""),N["$[]="]("iconfont-remote",""),N["$[]="]("stylesheet",""),N["$[]="]("webfonts","")):(E["$[]="]("embedded",""),s(E["$key?"]("showtitle"))&&h(E.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?E["$[]="]("notitle",m(S,"",!1,"@","@",!1)["$[]"](E["$[]"]("showtitle"))):s(E["$key?"]("notitle"))?E["$[]="]("showtitle",m(S,"",!1,"@","@",!1)["$[]"](E["$[]"]("notitle"))):N["$[]="]("notitle","")),E["$[]="]("asciidoctor",""),E["$[]="]("asciidoctor-version",C(C("Asciidoctor"),"VERSION")),E["$[]="]("safe-mode-name",y=T("SafeMode").$name_for_value(k.safe)),E["$[]="]("safe-mode-"+y,""),E["$[]="]("safe-mode-level",k.safe),s(A=E["$[]"]("max-include-depth"))||E["$[]="]("max-include-depth",64),s(A=E["$[]"]("allow-uri-read"))||E["$[]="]("allow-uri-read",S),s(E["$key?"]("numbered"))&&E["$[]="]("sectnums",E.$delete("numbered")),s(E["$key?"]("hardbreaks"))&&E["$[]="]("hardbreaks-option",E.$delete("hardbreaks")),s(x=n["$[]"]("base_dir"))?k.base_dir=(a=["docdir",C("File").$expand_path(x)],i(E,"[]=",a),a[a.length-1]):s(E["$[]"]("docdir"))?k.base_dir=E["$[]"]("docdir"):k.base_dir=(a=["docdir",C("Dir").$pwd()],i(E,"[]=",a),a[a.length-1]),s(L=n["$[]"]("backend"))&&E["$[]="]("backend",L.$to_s()),s(D=n["$[]"]("doctype"))&&E["$[]="]("doctype",D.$to_s()),s(g(k.safe,C(T("SafeMode"),"SERVER")))?(s(A=E["$[]"]("copycss"))||E["$[]="]("copycss",S),s(A=E["$[]"]("source-highlighter"))||E["$[]="]("source-highlighter",S),s(A=E["$[]"]("backend"))||E["$[]="]("backend",T("DEFAULT_BACKEND")),l(w)&&s(E["$key?"]("docfile"))&&E["$[]="]("docfile",E["$[]"]("docfile")["$[]"](e.Range.$new(b(E["$[]"]("docdir").$length(),1),-1,!1))),E["$[]="]("docdir",""),s(A=E["$[]"]("user-home"))||E["$[]="]("user-home","."),s(g(k.safe,C(T("SafeMode"),"SECURE")))&&(s(E["$key?"]("max-attribute-value-size"))||E["$[]="]("max-attribute-value-size",4096),s(E["$key?"]("linkcss"))||E["$[]="]("linkcss",""),s(A=E["$[]"]("icons"))||E["$[]="]("icons",S))):s(A=E["$[]"]("user-home"))||E["$[]="]("user-home",T("USER_HOME")),k.max_attribute_value_size=s(q=s(A=E["$[]"]("max-attribute-value-size"))?A:(i(E,"[]=",a=["max-attribute-value-size",S]),a[a.length-1]))?q.$to_i().$abs():S,i(E,"delete_if",[],(function(e,t){var r,n=S;return null==e&&(e=S),null==t&&(t=S),s(t)?(f(C("String"),t)&&s(t["$end_with?"]("@"))&&(r=[t.$chop(),!0],t=r[0],n=r[1]),N["$[]="](e,t)):(N.$delete(e),n=t["$=="](!1)),n})),s(w)?(k.backend=N["$[]"]("backend"),h(k.doctype=(i(N,"[]=",a=["doctype",O]),a[a.length-1]),T("DEFAULT_DOCTYPE"))||k.$update_doctype_attributes(T("DEFAULT_DOCTYPE")),k.reader=T("Reader").$new(r,n["$[]"]("cursor")),s(k.sourcemap)&&(k.source_location=k.reader.$cursor()),T("Parser").$parse(k.reader,k),k.$restore_attributes(),k.parsed=!0):(k.backend=S,h(B=s(A=N["$[]"]("backend"))?A:T("DEFAULT_BACKEND"),"manpage")?k.doctype=(a=["doctype",(u=["doctype","manpage"],i(E,"[]=",u),u[u.length-1])],i(N,"[]=",a),a[a.length-1]):k.doctype=s(A=N["$[]"]("doctype"))?A:(a=["doctype",T("DEFAULT_DOCTYPE")],i(N,"[]=",a),a[a.length-1]),k.$update_backend_attributes(B,!0),s(A=N["$[]"]("stylesdir"))||N["$[]="]("stylesdir","."),s(A=N["$[]"]("iconsdir"))||N["$[]="]("iconsdir",N.$fetch("imagesdir","./images")+"/icons"),k.$fill_datetime_attributes(N,F),s(R)&&(s(M=n["$[]"]("extension_registry"))?(f(C(T("Extensions"),"Registry"),M)||s((c=C("::","AsciidoctorJ","skip_raise"))&&(u=C(c,"Extensions","skip_raise"))&&(a=C(u,"ExtensionRegistry","skip_raise"))?"constant":S)&&f(C(C(C("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),M))&&(k.extensions=M.$activate(k)):s((j=n["$[]"]("extensions"))["$nil?"]())?s(T("Extensions").$groups()["$empty?"]())||(k.extensions=C(T("Extensions"),"Registry").$new().$activate(k)):f(C("Proc"),j)&&(k.extensions=i(T("Extensions"),"create",[],j.$to_proc()).$activate(k))),k.reader=T("PreprocessorReader").$new(k,r,C(T("Reader"),"Cursor").$new(N["$[]"]("docfile"),k.base_dir),$(["normalize"],{normalize:!0})),s(k.sourcemap)?k.source_location=k.reader.$cursor():S)}),-1),a(R,"$parse",(function(e){var t=this,r=S,n=S;return null==e&&(e=S),s(t.parsed)?t:(r=t,s(e)&&(t.reader=T("PreprocessorReader").$new(r,e,C(T("Reader"),"Cursor").$new(t.attributes["$[]"]("docfile"),t.base_dir),$(["normalize"],{normalize:!0})),s(t.sourcemap)&&(t.source_location=t.reader.$cursor())),s(n=s(t.parent_document)?S:t.extensions)&&s(n["$preprocessors?"]())&&i(n.$preprocessors(),"each",[],(function e(t){var n,i=null==e.$$s?this:e.$$s;return null==i.reader&&(i.reader=S),null==t&&(t=S),i.reader=s(n=t.$process_method()["$[]"](r,i.reader))?n:i.reader}),{$$s:t}),T("Parser").$parse(t.reader,r,$(["header_only"],{header_only:t.options["$[]"]("parse_header_only")})),t.$restore_attributes(),s(n)&&s(n["$tree_processors?"]())&&i(n.$tree_processors(),"each",[],(function(e){var t;return null==e&&(e=S),s(t=e.$process_method()["$[]"](r))&&f(T("Document"),t)&&v(t,r)?r=t:S})),t.parsed=!0,r)}),-1),a(R,"$parsed?",c("parsed")),a(R,"$counter",(function(e,t){var r,n,o=this,a=S,$=S;return null==t&&(t=S),s(o.parent_document)?o.parent_document.$counter(e,t):(s(n=o["$attribute_locked?"](e))&&s(a=o.counters["$[]"](e))||l((a=o.attributes["$[]"](e))["$nil_or_empty?"]())?(r=[e,T("Helpers").$nextval(a)],i(o.counters,"[]=",r),$=r[r.length-1]):s(t)?(r=[e,h(t,t.$to_i().$to_s())?t.$to_i():t],i(o.counters,"[]=",r),$=r[r.length-1]):(r=[e,1],i(o.counters,"[]=",r),$=r[r.length-1]),s(n)||o.attributes["$[]="](e,$),$)}),-2),a(R,"$increment_and_store_counter",(function(e,t){return T("AttributeEntry").$new(e,this.$counter(e)).$save_to(t.$attributes()).$value()})),o(R,"counter_increment","increment_and_store_counter"),a(R,"$register",(function(e,t){var r=this,n=S,i=S,o=S;switch(e){case"ids":return r.$register("refs",[n=t["$[]"](0),T("Inline").$new(r,"anchor",t["$[]"](1),$(["type","id"],{type:"ref",id:n}))]);case"refs":return i=r.catalog["$[]"]("refs"),s(i["$[]"](t["$[]"](0)))||i["$[]="](t["$[]"](0),o=t["$[]"](1)),o;case"footnotes":return r.catalog["$[]"](e)["$<<"](t);default:return s(r.options["$[]"]("catalog_assets"))?r.catalog["$[]"](e)["$<<"](h(e,"images")?T("ImageReference").$new(t,r.attributes["$[]"]("imagesdir")):t):S}})),a(R,"$resolve_id",(function(e){var t=this,r=S,n=S;return s(t.reftexts)?t.reftexts["$[]"](e):s(t.parsed)?i(t.reftexts=$([],{}),"tap",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.catalog&&(r.catalog=S),null==t&&(t=S),i(r.catalog["$[]"]("refs"),"each",[],(function(e,r){var n,o;return null==e&&(e=S),null==r&&(r=S),s(o=t["$[]"](r.$xreftext()))?o:(n=[r.$xreftext(),e],i(t,"[]=",n),n[n.length-1])}))}),{$$s:t})["$[]"](e):(r=S,t.reftexts=n=$([],{}),function(){try{var o=y("break");i(t.catalog["$[]"]("refs"),"each",[],(function(t,a){var $,l,u;return null==t&&(t=S),null==a&&(a=S),h(l=a.$xreftext(),e)&&(r=t,o.$throw()),s(u=n["$[]"](l))?u:(i(n,"[]=",$=[l,t]),$[$.length-1])}))}catch(e){if(e===o)return e.$v;throw e}}(),t.reftexts=S,r)})),a(R,"$sections?",(function(){return x(this.next_section_index,0)})),a(R,"$footnotes?",(function(){return!s(this.catalog["$[]"]("footnotes")["$empty?"]())})),a(R,"$footnotes",(function(){return this.catalog["$[]"]("footnotes")})),a(R,"$callouts",(function(){return this.catalog["$[]"]("callouts")})),a(R,"$nested?",(function(){return!!s(this.parent_document)})),a(R,"$embedded?",(function(){return this.attributes["$key?"]("embedded")})),a(R,"$extensions?",(function(){return!!s(this.extensions)})),a(R,"$source",(function(){return s(this.reader)?this.reader.$source():S})),a(R,"$source_lines",(function(){return s(this.reader)?this.reader.$source_lines():S})),a(R,"$basebackend?",(function(e){return this.attributes["$[]"]("basebackend")["$=="](e)})),a(R,"$title",(function(){return this.$doctitle()})),a(R,"$title=",(function(e){var t,r=this,n=S;return s(n=r.header)||(n=r.header=T("Section").$new(r,0))["$sectname="]("header"),i(n,"title=",t=[e]),t[t.length-1]})),a(R,"$doctitle",(function(e){var t,r=this,n=S,i=S,o=S;if(null==e&&(e=$([],{})),!s(n=r.attributes["$[]"]("title")))if(s(i=r.$first_section()))n=i.$title();else if(l(s(o=e["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):o))return S;return s(t=e["$[]"]("partition"))?T("Title").$new(n,e.$merge($(["separator"],{separator:h(t,!0)?r.attributes["$[]"]("title-separator"):t}))):s(e["$[]"]("sanitize"))&&s(n["$include?"]("<"))?n.$gsub(T("XmlSanitizeRx"),"").$squeeze(" ").$strip():n}),-1),o(R,"name","doctitle"),a(R,"$xreftext",(function(e){var t=S;return s(t=this.$reftext())&&l(t["$empty?"]())?t:this.$title()}),-1),a(R,"$author",(function(){return this.attributes["$[]"]("author")})),a(R,"$authors",(function(){var e=S,t=S,r=S,n=S,i=S;if(s((e=this.attributes)["$key?"]("author"))){if(t=[T("Author").$new(e["$[]"]("author"),e["$[]"]("firstname"),e["$[]"]("middlename"),e["$[]"]("lastname"),e["$[]"]("authorinitials"),e["$[]"]("email"))],s(x(r=s(n=e["$[]"]("authorcount"))?n:0,1)))for(i=1;s(k(i,r));)i=b(i,1),t["$<<"](T("Author").$new(e["$[]"]("author_"+i),e["$[]"]("firstname_"+i),e["$[]"]("middlename_"+i),e["$[]"]("lastname_"+i),e["$[]"]("authorinitials_"+i),e["$[]"]("email_"+i)));return t}return[]})),a(R,"$revdate",(function(){return this.attributes["$[]"]("revdate")})),a(R,"$notitle",(function(){return this.attributes["$key?"]("notitle")})),a(R,"$noheader",(function(){return this.attributes["$key?"]("noheader")})),a(R,"$nofooter",(function(){return this.attributes["$key?"]("nofooter")})),a(R,"$first_section",(function(){var e;return s(e=this.header)?e:i(this.blocks,"find",[],(function(e){return null==e&&(e=S),e.$context()["$=="]("section")}))})),a(R,"$header?",(function(){return!!s(this.header)})),o(R,"has_header?","header?"),a(R,"$<<",(function e(t){var r=e.$$p||S,n=this;return e.$$p=null,h(t.$context(),"section")&&n.$assign_numeral(t),_(n,d(n,"<<",e,!1,!0),"<<",[t],r)})),a(R,"$finalize_header",(function(e,t){return null==t&&(t=!0),this.$clear_playback_attributes(e),this.$save_attributes(),s(t)||e["$[]="]("invalid-header",!0),e}),-2),a(R,"$playback_attributes",(function(e){return s(e["$key?"]("attribute_entries"))?i(e["$[]"]("attribute_entries"),"each",[],(function e(t){var r,n=null==e.$$s?this:e.$$s;return null==n.attributes&&(n.attributes=S),null==t&&(t=S),r=t.$name(),s(t.$negate())?(n.attributes.$delete(r),h(r,"compat-mode")?n.compat_mode=!1:S):(n.attributes["$[]="](r,t.$value()),h(r,"compat-mode")?n.compat_mode=!0:S)}),{$$s:this}):S})),a(R,"$restore_attributes",(function(){var e=this;return s(e.parent_document)||e.catalog["$[]"]("callouts").$rewind(),e.attributes.$replace(e.header_attributes)})),a(R,"$set_attribute",(function(e,t){var r=this,n=S;if(null==t&&(t=""),s(r["$attribute_locked?"](e)))return S;if(s(t["$empty?"]())||(t=r.$apply_attribute_value_subs(t)),s(r.header_attributes))r.attributes["$[]="](e,t);else{switch(e){case"backend":r.$update_backend_attributes(t,s(n=r.attributes_modified["$delete?"]("htmlsyntax"))?t["$=="](r.backend):n);break;case"doctype":r.$update_doctype_attributes(t);break;default:r.attributes["$[]="](e,t)}r.attributes_modified["$<<"](e)}return t}),-2),a(R,"$delete_attribute",(function(e){var t=this;return!s(t["$attribute_locked?"](e))&&(t.attributes.$delete(e),t.attributes_modified["$<<"](e),!0)})),a(R,"$attribute_locked?",(function(e){return this.attribute_overrides["$key?"](e)})),a(R,"$set_header_attribute",(function(e,t,r){var n,i=S;return null==t&&(t=""),null==r&&(r=!0),i=s(n=this.header_attributes)?n:this.attributes,(!h(r,!1)||!s(i["$key?"](e)))&&(i["$[]="](e,t),!0)}),-2),a(R,"$convert",(function(e){var t,r=this,n=S,o=S,a=S,l=S,u=S;return null==e&&(e=$([],{})),s(r.timings)&&r.timings.$start("convert"),s(r.parsed)||r.$parse(),s(g(r.safe,C(T("SafeMode"),"SERVER")))||s(e["$empty?"]())||(s((t=["outfile",e["$[]"]("outfile")],i(r.attributes,"[]=",t),t[t.length-1]))||r.attributes.$delete("outfile"),s((t=["outdir",e["$[]"]("outdir")],i(r.attributes,"[]=",t),t[t.length-1]))||r.attributes.$delete("outdir")),h(r.$doctype(),"inline")?s(n=s(o=r.blocks["$[]"](0))?o:r.header)&&(h(n.$content_model(),"compound")||h(n.$content_model(),"empty")?r.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):a=n.$content()):(l=s(e["$key?"]("standalone"))?s(e["$[]"]("standalone"))?"document":"embedded":s(e["$key?"]("header_footer"))?s(e["$[]"]("header_footer"))?"document":"embedded":s(r.options["$[]"]("standalone"))?"document":"embedded",a=r.converter.$convert(r,l)),s(r.parent_document)||s(u=r.extensions)&&s(u["$postprocessors?"]())&&i(u.$postprocessors(),"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),a=t.$process_method()["$[]"](r,a)}),{$$s:r}),s(r.timings)&&r.timings.$record("convert"),a}),-1),o(R,"render","convert"),a(R,"$write",(function(e,t){var r=this;return s(r.timings)&&r.timings.$start("write"),f(T("Writer"),r.converter)?r.converter.$write(e,t):(s(t["$respond_to?"]("write"))?s(e["$nil_or_empty?"]())||(t.$write(e.$chomp()),t.$write(T("LF"))):C("File").$write(t,e,$(["mode"],{mode:T("FILE_WRITE_MODE")})),h(r.backend,"manpage")&&f(C("String"),t)&&s(r.converter.$class()["$respond_to?"]("write_alternate_pages"))&&r.converter.$class().$write_alternate_pages(r.attributes["$[]"]("mannames"),r.attributes["$[]"]("manvolnum"),t)),s(r.timings)&&r.timings.$record("write"),S})),a(R,"$content",(function e(){var t=e.$$p||S,r=this;return e.$$p=null,r.attributes.$delete("title"),_(r,d(r,"content",e,!1,!0),"content",[],t)})),a(R,"$docinfo",(function(e,t){var r,n=this,o=S,a=S,l=S,u=S,c=S,_=S,d=S,p=S,f=S,m=S;return null==e&&(e="head"),null==t&&(t=S),s(k(n.$safe(),C(T("SafeMode"),"SECURE")))&&(h(e,"head")||(o="-"+e),t=s(a=t)?a:n.outfilesuffix,l=s((l=n.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?s(n.attributes["$key?"]("docinfo2"))?["private","shared"]:s(n.attributes["$key?"]("docinfo1"))?["shared"]:s(l)?["private"]:S:i(l.$split(","),"map",[],(function(e){return null==e&&(e=S),e.$strip()})),s(l)&&(u=[],c=(r=["docinfo"+o+t,n.attributes["$[]"]("docinfodir"),n.$resolve_docinfo_subs()])[0],_=r[1],d=r[2],s(l["$&"](["shared","shared-"+e])["$empty?"]())||(p=n.$normalize_system_path(c,_),s(f=n.$read_asset(p,$(["normalize"],{normalize:!0})))&&u["$<<"](n.$apply_subs(f,d))),s(n.attributes["$[]"]("docname")["$nil_or_empty?"]())||s(l["$&"](["private","private-"+e])["$empty?"]())||(p=n.$normalize_system_path(n.attributes["$[]"]("docname")+"-"+c,_),s(m=n.$read_asset(p,$(["normalize"],{normalize:!0})))&&u["$<<"](n.$apply_subs(m,d))))),s(n.extensions)&&s(n["$docinfo_processors?"](e))?(s(a=u)?a:[]).$concat(i(n.docinfo_processor_extensions["$[]"](e),"map",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),t.$process_method()["$[]"](r)}),{$$s:n}).$compact()).$join(T("LF")):s(u)?u.$join(T("LF")):""}),-1),a(R,"$docinfo_processors?",(function(e){var t,r=this;return null==e&&(e="head"),s(r.docinfo_processor_extensions["$key?"](e))?r.docinfo_processor_extensions["$[]"](e)["$!="](!1):s(r.extensions)&&s(r.document.$extensions()["$docinfo_processors?"](e))?(t=[e,r.document.$extensions().$docinfo_processors(e)],i(r.docinfo_processor_extensions,"[]=",t),t[t.length-1])["$!"]()["$!"]():(t=[e,!1],i(r.docinfo_processor_extensions,"[]=",t),t[t.length-1])}),-1),a(R,"$to_s",(function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(s(e=t.header)?t.header.$title():e).$inspect()+", blocks: "+t.blocks.$size()+"}>"})),R.$private(),a(R,"$apply_attribute_value_subs",(function(e){var t,r=this;return s(T("AttributeEntryPassMacroRx")["$=~"](e))?(e=(t=w["~"])===S?S:t["$[]"](2),s((t=w["~"])===S?S:t["$[]"](1))&&(e=r.$apply_subs(e,r.$resolve_pass_subs((t=w["~"])===S?S:t["$[]"](1))))):e=r.$apply_header_subs(e),s(r.max_attribute_value_size)?r.$limit_bytesize(e,r.max_attribute_value_size):e})),a(R,"$limit_bytesize",(function(e,t){if(s(x(e.$bytesize(),t)))for(;!s((e=e.$byteslice(0,t))["$valid_encoding?"]());)t=p(t,1);return e})),a(R,"$resolve_docinfo_subs",(function(){var e=this;return s(e.attributes["$key?"]("docinfosubs"))?e.$resolve_subs(e.attributes["$[]"]("docinfosubs"),"block",S,"docinfo"):["attributes"]})),a(R,"$create_converter",(function(e,t){var r,n,i,o=this,a=S,l=S;return a=$(["document","htmlsyntax"],{document:o,htmlsyntax:o.attributes["$[]"]("htmlsyntax")}),s(r=s(n=(l=o.options)["$[]"]("template_dirs"))?n:l["$[]"]("template_dir"))&&(a["$[]="]("template_dirs",[].concat(A(r))),a["$[]="]("template_cache",l.$fetch("template_cache",!0)),a["$[]="]("template_engine",l["$[]"]("template_engine")),a["$[]="]("template_engine_options",l["$[]"]("template_engine_options")),a["$[]="]("eruby",l["$[]"]("eruby")),a["$[]="]("safe",o.safe),s(t)&&a["$[]="]("delegate_backend",t)),s(i=l["$[]"]("converter"))?C(T("Converter"),"CustomFactory").$new(m(e,i)).$create(e,a):l.$fetch("converter_factory",T("Converter")).$create(e,a)})),a(R,"$clear_playback_attributes",(function(e){return e.$delete("attribute_entries")})),a(R,"$save_attributes",(function(){var e,t=this,r=S,n=S,o=S,a=S,u=S,c=S,_=S,d=S,p=S,f=S,m=S,g=S,b=S;if(s((n=t.attributes)["$key?"]("doctitle"))||l(r=t.$doctitle())||n["$[]="]("doctitle",r),t.id=s(o=t.id)?o:n["$[]"]("css-signature"),s(a=s(n.$delete("toc2"))?"left":n["$[]"]("toc"))&&(u=s(c=n.$fetch("toc-placement","macro"))&&v(c,"auto")?c:n["$[]"]("toc-position"),!s(a["$empty?"]())||!s(u["$nil_or_empty?"]()))){switch(_="left",d="toc2",p=s(u["$nil_or_empty?"]())?s(a["$empty?"]())?_:a:u,n["$[]="]("toc",""),n["$[]="]("toc-placement","auto"),p){case"left":case"<":case"&lt;":n["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":n["$[]="]("toc-position","right");break;case"top":case"^":n["$[]="]("toc-position","top");break;case"bottom":case"v":n["$[]="]("toc-position","bottom");break;case"preamble":case"macro":n["$[]="]("toc-position","content"),n["$[]="]("toc-placement",p),d=S;break;default:n.$delete("toc-position"),d=S}s(d)&&(s(o=n["$[]"]("toc-class"))||n["$[]="]("toc-class",d))}if(s(e=n["$[]"]("icons"))&&l(n["$key?"]("icontype")))switch(e){case"":case"font":break;default:n["$[]="]("icons",""),h(e,"image")||n["$[]="]("icontype",e)}return s(t.compat_mode=n["$key?"]("compat-mode"))&&s(n["$key?"]("language"))&&n["$[]="]("source-language",n["$[]"]("language")),s(t.parent_document)||(h(f=n["$[]"]("basebackend"),"html")?s(m=n["$[]"]("source-highlighter"))&&l(n["$[]"](m+"-unavailable"))&&(s(g=t.options["$[]"]("syntax_highlighter_factory"))?t.syntax_highlighter=g.$create(m,t.backend,$(["document"],{document:t})):s(b=t.options["$[]"]("syntax_highlighters"))?t.syntax_highlighter=C(T("SyntaxHighlighter"),"DefaultFactoryProxy").$new(b).$create(m,t.backend,$(["document"],{document:t})):t.syntax_highlighter=T("SyntaxHighlighter").$create(m,t.backend,$(["document"],{document:t}))):h(f,"docbook")&&(s(t["$attribute_locked?"]("toc"))||s(t.attributes_modified["$include?"]("toc"))||n["$[]="]("toc",""),s(t["$attribute_locked?"]("sectnums"))||s(t.attributes_modified["$include?"]("sectnums"))||n["$[]="]("sectnums","")),t.outfilesuffix=n["$[]"]("outfilesuffix"),i(T("FLEXIBLE_ATTRIBUTES"),"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.attribute_overrides&&(r.attribute_overrides=S),null==t&&(t=S),s(r.attribute_overrides["$key?"](t))&&s(r.attribute_overrides["$[]"](t))?r.attribute_overrides.$delete(t):S}),{$$s:t})),t.header_attributes=n.$merge()})),a(R,"$fill_datetime_attributes",(function(e,t){var r,n,o,a,$=S,l=S,u=S,c=S,_=S;return $=s(C("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?l=C("Time").$at(this.$Integer(C("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():C("Time").$now(),s(u=e["$[]"]("localdate"))?s(c=e["$[]"]("localyear"))||e["$[]="]("localyear",h(u.$index("-"),4)?u.$slice(0,4):S):(r=["localdate",$.$strftime("%F")],i(e,"[]=",r),u=r[r.length-1],s(c=e["$[]"]("localyear"))||e["$[]="]("localyear",$.$year().$to_s())),n=s(c=e["$[]"]("localtime"))?c:(r=["localtime",$.$strftime("%T "+(h($.$utc_offset(),0)?"UTC":"%z"))],i(e,"[]=",r),r[r.length-1]),s(c=e["$[]"]("localdatetime"))||e["$[]="]("localdatetime",u+" "+n),t=s(c=s(o=l)?o:t)?c:$,s(_=e["$[]"]("docdate"))?s(c=e["$[]"]("docyear"))||e["$[]="]("docyear",h(_.$index("-"),4)?_.$slice(0,4):S):(r=["docdate",t.$strftime("%F")],i(e,"[]=",r),_=r[r.length-1],s(c=e["$[]"]("docyear"))||e["$[]="]("docyear",t.$year().$to_s())),a=s(c=e["$[]"]("doctime"))?c:(r=["doctime",t.$strftime("%T "+(h(t.$utc_offset(),0)?"UTC":"%z"))],i(e,"[]=",r),r[r.length-1]),s(c=e["$[]"]("docdatetime"))||e["$[]="]("docdatetime",_+" "+a),S})),a(R,"$update_backend_attributes",(function(e,t){var r,n,o=this,a=S,$=S,l=S,c=S,_=S,d=S,p=S,h=S,m=S,g=S,b=S,y=S,x=S,k=S;return null==t&&(t=S),s(t)||v(e,o.backend)?(a=o.backend,$=(l=o.attributes)["$[]"]("basebackend"),c=o.doctype,s(e["$include?"](":"))&&(n=e.$partition(":"),_=null==(r=u(n))[0]?S:r[0],null==r[1]||r[1],e=null==r[2]?S:r[2]),s(e["$start_with?"]("xhtml"))?(l["$[]="]("htmlsyntax","xml"),e=e.$slice(1,e.$length())):s(e["$start_with?"]("html"))&&(s(d=l["$[]"]("htmlsyntax"))||l["$[]="]("htmlsyntax","html")),e=s(d=T("BACKEND_ALIASES")["$[]"](e))?d:e,s(_)&&(e=(r=[_,e])[0],p=r[1]),s(c)?(s(a)&&(l.$delete("backend-"+a),l.$delete("backend-"+a+"-doctype-"+c)),l["$[]="]("backend-"+e+"-doctype-"+c,""),l["$[]="]("doctype-"+c,"")):s(a)&&l.$delete("backend-"+a),l["$[]="]("backend-"+e,""),o.backend=(i(l,"[]=",r=["backend",e]),r[r.length-1]),f(C(T("Converter"),"BackendTraits"),h=o.$create_converter(e,p))?(m=h.$basebackend(),g=h.$filetype(),s(b=h.$htmlsyntax())&&l["$[]="]("htmlsyntax",b),s(t)?s(d=l["$[]"]("outfilesuffix"))||l["$[]="]("outfilesuffix",h.$outfilesuffix()):s(o["$attribute_locked?"]("outfilesuffix"))||l["$[]="]("outfilesuffix",h.$outfilesuffix())):s(h)?(m=(y=T("Converter").$derive_backend_traits(e))["$[]"]("basebackend"),g=y["$[]"]("filetype"),s(t)?s(d=l["$[]"]("outfilesuffix"))||l["$[]="]("outfilesuffix",y["$[]"]("outfilesuffix")):s(o["$attribute_locked?"]("outfilesuffix"))||l["$[]="]("outfilesuffix",y["$[]"]("outfilesuffix"))):o.$raise(C("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+e+"'. Processing aborted."),o.converter=h,s(x=l["$[]"]("filetype"))&&l.$delete("filetype-"+x),l["$[]="]("filetype",g),l["$[]="]("filetype-"+g,""),s(k=T("DEFAULT_PAGE_WIDTHS")["$[]"](m))?l["$[]="]("pagewidth",k):l.$delete("pagewidth"),v(m,$)&&(s(c)?(s($)&&(l.$delete("basebackend-"+$),l.$delete("basebackend-"+$+"-doctype-"+c)),l["$[]="]("basebackend-"+m+"-doctype-"+c,"")):s($)&&l.$delete("basebackend-"+$),l["$[]="]("basebackend-"+m,""),l["$[]="]("basebackend",m)),e):S}),-2),a(R,"$update_doctype_attributes",(function(e){var t,r=this,n=S,o=S,a=S,$=S;return s(e)&&v(e,r.doctype)?(o=(t=[r.backend,(n=r.attributes)["$[]"]("basebackend"),r.doctype])[0],a=t[1],$=t[2],s($)?(n.$delete("doctype-"+$),s(o)&&(n.$delete("backend-"+o+"-doctype-"+$),n["$[]="]("backend-"+o+"-doctype-"+e,"")),s(a)&&(n.$delete("basebackend-"+a+"-doctype-"+$),n["$[]="]("basebackend-"+a+"-doctype-"+e,""))):(s(o)&&n["$[]="]("backend-"+o+"-doctype-"+e,""),s(a)&&n["$[]="]("basebackend-"+a+"-doctype-"+e,"")),n["$[]="]("doctype-"+e,""),r.doctype=(i(n,"[]=",t=["doctype",e]),t[t.length-1])):S}))}(R[0],I("AbstractBlock"),R)}(E[0],E)},Opal.modules["asciidoctor/inline"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.send2,o=e.find_super,s=e.def,a=e.return_val,$=e.alias,l=e.truthy,u=[],c=e.nil;return e.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(u,_){var d=[t(u,"Asciidoctor")].concat(_),p=e.$r(d);return function(e,t){var u=r(e,t,"Inline"),_=u.$$prototype;return _.text=_.type=c,u.$attr_accessor("text"),u.$attr_reader("type"),u.$attr_accessor("target"),s(u,"$initialize",(function e(t,r,s,a){var $=this;return e.$$p=null,null==s&&(s=c),null==a&&(a=n([],{})),i($,o($,"initialize",e,!1,!0),"initialize",[t,r,a],null),$.node_name="inline_"+r,$.text=s,$.id=a["$[]"]("id"),$.type=a["$[]"]("type"),$.target=a["$[]"]("target")}),-3),s(u,"$block?",a(!1)),s(u,"$inline?",a(!0)),s(u,"$convert",(function(){return this.$converter().$convert(this)})),$(u,"render","convert"),s(u,"$alt",(function(){var e;return l(e=this.$attr("alt"))?e:""})),s(u,"$reftext?",(function(){var e,t=this,r=c;return l(e=t.text)?l(r=t.type["$=="]("ref"))?r:t.type["$=="]("bibref"):e})),s(u,"$reftext",(function(){var e;return l(e=this.text)?this.$apply_reftext_subs(e):c})),s(u,"$xreftext",(function(e){return this.$reftext()}),-1)}(d[0],p("AbstractNode"))}(u[0],u)},Opal.modules["asciidoctor/list"]=function(e){var t=e.module,r=e.klass,n=e.alias,i=e.hash2,o=e.send2,s=e.find_super,a=e.def,$=e.truthy,l=e.eqeq,u=[],c=e.nil;return e.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(u,_){var d=[t(u,"Asciidoctor")].concat(_),p=e.$r(d);return function(e,t){var u=r(e,t,"List"),_=u.$$prototype;_.context=_.document=_.style=c,n(u,"items","blocks"),n(u,"content","blocks"),n(u,"items?","blocks?"),a(u,"$initialize",(function e(t,r,n){var a=e.$$p||c;return e.$$p=null,null==n&&(n=i([],{})),o(this,s(this,"initialize",e,!1,!0),"initialize",[t,r,n],a)}),-3),a(u,"$outline?",(function(){var e;return $(e=this.context["$=="]("ulist"))?e:this.context["$=="]("olist")})),a(u,"$convert",(function e(){var t=e.$$p||c,r=this,n=c;return e.$$p=null,l(r.context,"colist")?(n=o(r,s(r,"convert",e,!1,!0),"convert",[],t),r.document.$callouts().$next_list(),n):o(r,s(r,"convert",e,!1,!0),"convert",[],t)})),n(u,"render","convert"),a(u,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", style: "+e.style.$inspect()+", items: "+e.$items().$size()+"}>"}))}(d[0],p("AbstractBlock")),function(t,i,l){var u=r(t,i,"ListItem"),_=[u].concat(l),d=e.$r(_),p=u.$$prototype;return p.text=p.subs=p.blocks=c,n(u,"list","parent"),u.$attr_accessor("marker"),a(u,"$initialize",(function e(t,r){var n=this;return e.$$p=null,null==r&&(r=c),o(n,s(n,"initialize",e,!1,!0),"initialize",[t,"list_item"],null),n.text=r,n.level=t.$level(),n.subs=d("NORMAL_SUBS").$drop(0)}),-2),a(u,"$text?",(function(){return!$(this.text["$nil_or_empty?"]())})),a(u,"$text",(function(){var e,t=this;return $(e=t.text)?t.$apply_subs(t.text,t.subs):e})),u.$attr_writer("text"),a(u,"$simple?",(function(){var e,t=this,r=c,n=c,i=c;return $(e=t.blocks["$empty?"]())?e:$(r=$(n=t.blocks.$size()["$=="](1))?d("List")["$==="](i=t.blocks["$[]"](0)):n)?i["$outline?"]():r})),a(u,"$compound?",(function(){return this["$simple?"]()["$!"]()})),a(u,"$fold_first",(function(){var e=this;return e.text=$(e.text["$nil_or_empty?"]())?e.blocks.$shift().$source():""+e.text+d("LF")+e.blocks.$shift().$source(),c})),a(u,"$to_s",(function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {list_context: "+t.$parent().$context().$inspect()+", text: "+t.text.$inspect()+", blocks: "+($(e=t.blocks)?e:[]).$size()+"}>"}))}(d[0],p("AbstractBlock"),d)}(u[0],u)},Opal.modules["asciidoctor/parser"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.send,o=e.truthy,s=e.hash2,a=e.to_ary,$=e.defs,l=e.eqeq,u=e.not,c=e.gvars,_=e.neqeq,d=e.rb_plus,p=e.rb_lt,h=e.rb_gt,f=e.to_a,m=e.eqeqeq,g=e.rb_minus,b=e.rb_times,v=e.thrower,y=[],x=e.nil,k=e.$$$;return e.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,context=,style=,parent=,size,content_model,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,lines,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(y,w){var A=[t(y,"Asciidoctor")].concat(w);return function(t,y,w){var A=r(t,null,"Parser"),E=[A].concat(w),S=e.$r(E);return A.$include(S("Logging")),n(E[0],"BlockMatchData",S("Struct").$new("context","masq","tip","terminator")),n(E[0],"TAB","\t"),n(E[0],"TabIndentRx",/^\t+/),n(E[0],"StartOfBlockProc",i(A,"proc",[],(function e(t){var r,n,i=null==e.$$s?this:e.$$s;return null==t&&(t=x),o(r=o(n=t["$start_with?"]("["))?S("BlockAttributeLineRx")["$match?"](t):n)?r:i["$is_delimited_block?"](t)}),{$$s:A})),n(E[0],"StartOfListProc",i(A,"proc",[],(function(e){return null==e&&(e=x),S("AnyListRx")["$match?"](e)}))),n(E[0],"StartOfBlockOrListProc",i(A,"proc",[],(function e(t){var r,n,i=x;return null==t&&(t=x),o(r=o(n=(null==e.$$s?this:e.$$s)["$is_delimited_block?"](t))?n:o(i=t["$start_with?"]("["))?S("BlockAttributeLineRx")["$match?"](t):i)?r:S("AnyListRx")["$match?"](t)}),{$$s:A})),n(E[0],"NoOp",x),n(E[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),n(E[0],"TableCellHorzAlignments",s(["<",">","^"],{"<":"left",">":"right","^":"center"})),n(E[0],"TableCellVertAlignments",s(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),n(E[0],"TableCellStyles",s(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),A.$private_class_method("new"),$(A,"$parse",(function(e,t,r){var n,i,$,l=x,u=x;if(null==r&&(r=s([],{})),l=this.$parse_document_header(e,t,$=r["$[]"]("header_only")),!o($))for(;o(e["$has_more_lines?"]());)i=this.$next_section(e,t,l),u=null==(n=a(i))[0]?x:n[0],l=null==n[1]?x:n[1],o(u)&&(t.$assign_numeral(u),t.$blocks()["$<<"](u));return t}),-3),$(A,"$parse_document_header",(function(e,t,r){var n,$,c,_,d=this,p=x,h=x,f=x,m=x,g=x,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x,O=x;return null==r&&(r=!1),p=o(e.$skip_blank_lines())?d.$parse_block_metadata_lines(e,t):s([],{}),h=t.$attributes(),o(_=d["$is_next_line_doctitle?"](e,p,h["$[]"]("leveloffset")))&&o(p["$[]"]("title"))?(h["$[]="]("authorcount",0),t.$finalize_header(p,!1)):(o((f=h["$[]"]("doctitle"))["$nil_or_empty?"]())||t["$title="](m=f),o(_)?(o(t.$sourcemap())&&(g=e.$cursor()),$=d.$parse_section_title(e,t),c=[null==(n=a($))[0]?x:n[0]],i(t,"id=",c),null==n[1]||n[1],b=null==n[2]?x:n[2],null==n[3]||n[3],v=null==n[4]?x:n[4],o(m)?b=x:(t["$title="](b),o((n=["doctitle",m=t.$sub_specialchars(b)],i(h,"[]=",n),n[n.length-1])["$include?"](S("ATTR_REF_HEAD")))&&h["$[]="]("doctitle",m=t.$sub_attributes(m,s(["attribute_missing"],{attribute_missing:"skip"})))),o(g)&&t.$header()["$source_location="](g),o(v)||o(t["$attribute_locked?"]("compat-mode"))||h["$[]="]("compat-mode",""),o(y=p["$[]"]("separator"))&&(o(t["$attribute_locked?"]("title-separator"))||h["$[]="]("title-separator",y)),o(k=p["$[]"]("id"))?t["$id="](k):k=t.$id(),o(w=p["$[]"]("role"))&&h["$[]="]("role",w),o(A=p["$[]"]("reftext"))&&h["$[]="]("reftext",A),p.$clear(),(E=t.$instance_variable_get("@attributes_modified")).$delete("doctitle"),d.$parse_header_metadata(e,t,x),o(E["$include?"]("doctitle"))?o((f=h["$[]"]("doctitle"))["$nil_or_empty?"]())||l(f,m)?h["$[]="]("doctitle",m):t["$title="](f):u(b)&&E["$<<"]("doctitle"),o(k)&&t.$register("refs",[k,t])):o(C=h["$[]"]("author"))?(O=d.$process_authors(C,!0,!1),o(h["$[]"]("authorinitials"))&&O.$delete("authorinitials"),h.$update(O)):o(C=h["$[]"]("authors"))?(O=d.$process_authors(C,!0),h.$update(O)):h["$[]="]("authorcount",0),l(t.$doctype(),"manpage")&&d.$parse_manpage_header(e,t,p,r),t.$finalize_header(p))}),-3),$(A,"$parse_manpage_header",(function(e,t,r,n){var a,$=this,u=x,_=x,d=x,p=x,h=x,f=x,m=x,g=x,b=x,v=x,y=x,k=x;return null==n&&(n=!1),o(S("ManpageTitleVolnumRx")["$=~"]((u=t.$attributes())["$[]"]("doctitle")))?(u["$[]="]("manvolnum",_=(a=c["~"])===x?x:a["$[]"](2)),u["$[]="]("mantitle",(o((d=(a=c["~"])===x?x:a["$[]"](1))["$include?"](S("ATTR_REF_HEAD")))?t.$sub_attributes(d):d).$downcase())):($.$logger().$error($.$message_with_context("non-conforming manpage title",s(["source_location"],{source_location:e.$cursor_at_line(1)}))),u["$[]="]("mantitle",o(p=o(h=u["$[]"]("doctitle"))?h:u["$[]"]("docname"))?p:"command"),u["$[]="]("manvolnum",_="1")),o(f=u["$[]"]("manname"))&&o(u["$[]"]("manpurpose"))?(o(p=u["$[]"]("manname-title"))||u["$[]="]("manname-title","Name"),u["$[]="]("mannames",[f]),l(t.$backend(),"manpage")&&(u["$[]="]("docname",f),u["$[]="]("outfilesuffix","."+_))):o(n)||(e.$skip_blank_lines(),e.$save(),r.$update($.$parse_block_metadata_lines(e,t)),o(m=$["$is_next_line_section?"](e,s([],{})))?l(m,1)?(g=$.$initialize_section(e,t,s([],{})),b=i(e.$read_lines_until(s(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(function(e){return null==e&&(e=x),e.$lstrip()})).$join(" "),o(S("ManpageNamePurposeRx")["$=~"](b))?(o((f=(a=c["~"])===x?x:a["$[]"](1))["$include?"](S("ATTR_REF_HEAD")))&&(f=t.$sub_attributes(f)),o(f["$include?"](","))?f=(v=i(f.$split(","),"map",[],(function(e){return null==e&&(e=x),e.$lstrip()})))["$[]"](0):v=[f],o((y=(a=c["~"])===x?x:a["$[]"](2))["$include?"](S("ATTR_REF_HEAD")))&&(y=t.$sub_attributes(y)),o(p=u["$[]"]("manname-title"))||u["$[]="]("manname-title",g.$title()),o(g.$id())&&u["$[]="]("manname-id",g.$id()),u["$[]="]("manname",f),u["$[]="]("mannames",v),u["$[]="]("manpurpose",y),l(t.$backend(),"manpage")&&(u["$[]="]("docname",f),u["$[]="]("outfilesuffix","."+_))):k="non-conforming name section body"):k="name section must be at level 1":k="name section expected",o(k)?(e.$restore_save(),$.$logger().$error($.$message_with_context(k,s(["source_location"],{source_location:e.$cursor()}))),u["$[]="]("manname",f=o(p=u["$[]"]("docname"))?p:"command"),u["$[]="]("mannames",[f]),l(t.$backend(),"manpage")&&(u["$[]="]("docname",f),u["$[]="]("outfilesuffix","."+_))):e.$discard_save()),x}),-4),$(A,"$next_section",(function(e,t,r){var n,i,$=this,c=x,f=x,m=x,g=x,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x,z=x,F=x,N=x,L=x;for(null==r&&(r=s([],{})),c=f=m=!1,l(t.$context(),"document")&&o(t.$blocks()["$empty?"]())&&(o(g=t["$header?"]())||o(r.$delete("invalid-header"))||u($["$is_next_line_section?"](e,r)))?(b=(v=t).$doctype()["$=="]("book"),(o(g)||o(b)&&_(r["$[]"](1),"abstract"))&&(c=f=S("Block").$new(t,"preamble",s(["content_model"],{content_model:"compound"})),o(b)&&o(t["$attr?"]("preface-title"))&&c["$title="](t.$attr("preface-title")),t.$blocks()["$<<"](c)),y=t,k=0,o(t.$attributes()["$key?"]("fragment"))?w=-1:o(b)?(w=(n=[1,0])[0],A=n[1]):w=1):(b=(v=t.$document()).$doctype()["$=="]("book"),y=$.$initialize_section(e,t,r),r=o(E=r["$[]"]("title"))?s(["title"],{title:E}):s([],{}),w=d(k=y.$level(),1),l(k,0)?m=b:l(k,1)&&o(y.$special())&&(l(C=y.$sectname(),"appendix")||l(C,"preface")||l(C,"abstract")||(w=x))),e.$skip_blank_lines();o(e["$has_more_lines?"]());){if($.$parse_block_metadata_lines(e,v,r),o(O=$["$is_next_line_section?"](e,r)))if(o(v["$attr?"]("leveloffset"))&&(O=d(O,v.$attr("leveloffset").$to_i()),o(p(O,0))&&(O=0)),o(h(O,k)))o(w)?l(O,w)||o(A)&&l(O,A)||o(p(w,0))||(R=o(A)?"expected levels "+A+" or "+w:"expected level "+w,$.$logger().$warn($.$message_with_context("section title out of sequence: "+R+", got level "+O,s(["source_location"],{source_location:e.$cursor()})))):$.$logger().$error($.$message_with_context(C+" sections do not support nested sections",s(["source_location"],{source_location:e.$cursor()}))),i=$.$next_section(e,y,r),I=null==(n=a(i))[0]?x:n[0],r=null==n[1]?x:n[1],y.$assign_numeral(I),y.$blocks()["$<<"](I);else{if(!l(O,0)||!l(y,v))break;o(b)||$.$logger().$error($.$message_with_context("level 0 sections can only be used when doctype is book",s(["source_location"],{source_location:e.$cursor()}))),i=$.$next_section(e,y,r),I=null==(n=a(i))[0]?x:n[0],r=null==n[1]?x:n[1],y.$assign_numeral(I),y.$blocks()["$<<"](I)}else T=e.$cursor(),o(z=$.$next_block(e,o(F=f)?F:y,r,s(["parse_metadata"],{parse_metadata:!1})))&&(o(m)&&(u(y["$blocks?"]())?_(z.$style(),"partintro")&&(l(z.$context(),"paragraph")?(z["$context="]("open"),z["$style="]("partintro")):(z["$parent="](f=S("Block").$new(y,"open",s(["content_model"],{content_model:"compound"}))),f["$style="]("partintro"),y.$blocks()["$<<"](f))):l(y.$blocks().$size(),1)&&(N=y.$blocks()["$[]"](0),u(f)&&l(N.$content_model(),"compound")?$.$logger().$error($.$message_with_context("illegal block content outside of partintro block",s(["source_location"],{source_location:T}))):_(N.$content_model(),"compound")&&(z["$parent="](f=S("Block").$new(y,"open",s(["content_model"],{content_model:"compound"}))),f["$style="]("partintro"),y.$blocks().$shift(),l(N.$style(),"partintro")&&(N["$context="]("paragraph"),N["$style="](x)),f["$<<"](N),y.$blocks()["$<<"](f)))),(o(F=f)?F:y).$blocks()["$<<"](z),r.$clear());if(!o(F=e.$skip_blank_lines()))break}if(o(m))o(y["$blocks?"]())&&l(y.$blocks()["$[]"](-1).$context(),"section")||$.$logger().$error($.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",s(["source_location"],{source_location:e.$cursor()})));else if(o(c))if(o(c["$blocks?"]()))if(o(b)||o(v.$blocks()["$[]"](1))||u(S("Compliance").$unwrap_standalone_preamble()))o(v.$sourcemap())&&c["$source_location="](c.$blocks()["$[]"](0).$source_location());else for(v.$blocks().$shift();o(L=c.$blocks().$shift());)v["$<<"](L);else v.$blocks().$shift();return[l(y,t)?x:y,r.$merge()]}),-3),$(A,"$next_block",(function(e,t,r,n){var $,b,v,y=this,k=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x,z=x,F=x,N=x,L=x,D=x,q=x,B=x,M=x,j=x,P=x,U=x,H=x,Y=x,G=x,W=x,K=x,X=x,V=x,J=x,Z=x,Q=x,ee=x,te=x,re=x,ne=x,ie=x,oe=x,se=x,ae=x,$e=x,le=x,ue=x,ce=x,_e=x,de=x,pe=x,he=x,fe=x,me=x;if(null==c["~"]&&(c["~"]=x),null==r&&(r=s([],{})),null==n&&(n=s([],{})),!o(k=e.$skip_blank_lines()))return x;if(o(w=n["$[]"]("text_only"))&&o(h(k,0))&&(n.$delete("text_only"),w=x),A=t.$document(),o(n.$fetch("parse_metadata",!0)))for(;o(y.$parse_block_metadata_line(e,A,r,n));)if(e.$shift(),!o(E=e.$skip_blank_lines()))return x;if(o(C=A.$extensions())&&(O=($=[C["$blocks?"](),C["$block_macros?"]()])[0],R=$[1]),e.$mark(),I=($=[e.$read_line(),A.$attributes(),r["$[]"](1)])[0],T=$[1],z=$[2],F=N=L=D=x,o(q=y["$is_delimited_block?"](I,!0))&&(N=L=q.$context(),D=q.$terminator(),o(z)?l(z,N.$to_s())||(o(q.$masq()["$include?"](z))?N=z.$to_sym():o(q.$masq()["$include?"]("admonition"))&&o(S("ADMONITION_STYLES")["$include?"](z))?N="admonition":o(O)&&o(C["$registered_for_block?"](z,N))?N=z.$to_sym():(o(y.$logger()["$debug?"]())&&y.$logger().$debug(y.$message_with_context("unknown style for "+N+" block: "+z,s(["source_location"],{source_location:e.$cursor_at_mark()}))),z=N.$to_s())):($=["style",N.$to_s()],i(r,"[]=",$),z=$[$.length-1])),!o(q))for(;o(!0);){if(o(z)&&o(S("Compliance").$strict_verbatim_paragraphs())&&o(S("VERBATIM_STYLES")["$include?"](z))){N=z.$to_sym(),e.$unshift_line(I);break}if(o(w))B=I["$start_with?"](" ",S("TAB"));else if(M=S("Compliance").$markdown_syntax(),o(I["$start_with?"](" "))){if(B=($=[!0," "])[0],j=$[1],o(M)&&o(i(I.$lstrip(),"start_with?",f(S("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&o(S("MarkdownThematicBreakRx")["$match?"](I))){F=S("Block").$new(t,"thematic_break",s(["content_model"],{content_model:"empty"}));break}}else if(o(I["$start_with?"](S("TAB"))))B=($=[!0,S("TAB")])[0],j=$[1];else{if(B=($=[!1,I.$chr()])[0],j=$[1],P=o(M)?S("HYBRID_LAYOUT_BREAK_CHARS"):S("LAYOUT_BREAK_CHARS"),o(P["$key?"](j))&&o(o(M)?S("ExtLayoutBreakRx")["$match?"](I):o(E=y["$uniform?"](I,j,U=I.$length()))?h(U,2):E)){F=S("Block").$new(t,P["$[]"](j),s(["content_model"],{content_model:"empty"}));break}if(o(I["$end_with?"]("]"))&&o(I["$include?"]("::"))){if((l(j,"i")||o(I["$start_with?"]("video:","audio:")))&&o(S("BlockMediaMacroRx")["$=~"](I))){if(H=($=[((b=c["~"])===x?x:b["$[]"](1)).$to_sym(),(b=c["~"])===x?x:b["$[]"](2),(b=c["~"])===x?x:b["$[]"](3)])[0],Y=$[1],G=$[2],F=S("Block").$new(t,H,s(["content_model"],{content_model:"empty"})),o(G)){switch(H){case"video":W=["poster","width","height"];break;case"audio":W=[];break;default:W=["alt","width","height"]}F.$parse_attributes(G,W,s(["sub_input","into"],{sub_input:!0,into:r}))}if(o(r["$key?"]("style"))&&r.$delete("style"),o(Y["$include?"](S("ATTR_REF_HEAD")))){if(o((K=F.$sub_attributes(Y))["$empty?"]())&&l(o(E=T["$[]"]("attribute-missing"))?E:S("Compliance").$attribute_missing(),"drop-line")&&o(F.$sub_attributes(d(Y," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return r.$clear(),x;Y=K}l(H,"image")&&(A.$register("images",Y),r["$[]="]("imagesdir",T["$[]"]("imagesdir")),o(E=r["$[]"]("alt"))||r["$[]="]("alt",o(X=z)?X:($=["default-alt",S("Helpers").$basename(Y,!0).$tr("_-"," ")],i(r,"[]=",$),$[$.length-1])),o((V=r.$delete("scaledwidth"))["$nil_or_empty?"]())||r["$[]="]("scaledwidth",o(S("TrailingDigitsRx")["$match?"](V))?V+"%":V),o(r["$[]"]("title"))&&(F["$title="](J=r.$delete("title")),F.$assign_caption(r.$delete("caption"),"figure"))),r["$[]="]("target",Y);break}if(l(j,"t")&&o(I["$start_with?"]("toc:"))&&o(S("BlockTocMacroRx")["$=~"](I))){F=S("Block").$new(t,"toc",s(["content_model"],{content_model:"empty"})),o(($=c["~"])===x?x:$["$[]"](1))&&F.$parse_attributes(($=c["~"])===x?x:$["$[]"](1),[],s(["into"],{into:r}));break}if(o(o(R)?o(E=o(X=S("CustomBlockMacroRx")["$=~"](I))?Z=C["$registered_for_block_macro?"](($=c["~"])===x?x:$["$[]"](1)):X)?E:Q=y.$logger()["$debug?"]():o(E=y.$logger()["$debug?"]())?Q=S("CustomBlockMacroRx")["$=~"](I):E)){if(!o(Q)){if(ee=($=c["~"])===x?x:$["$[]"](3),o((Y=($=c["~"])===x?x:$["$[]"](2))["$include?"](S("ATTR_REF_HEAD")))){if(o((K=t.$sub_attributes(Y))["$empty?"]())&&l(o(E=T["$[]"]("attribute-missing"))?E:S("Compliance").$attribute_missing(),"drop-line")&&o(t.$sub_attributes(d(Y," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return r.$clear(),x;Y=K}if(l((te=Z.$config())["$[]"]("content_model"),"attributes")?o(ee)&&A.$parse_attributes(ee,o(E=o(X=te["$[]"]("positional_attrs"))?X:te["$[]"]("pos_attrs"))?E:[],s(["sub_input","into"],{sub_input:!0,into:r})):r["$[]="]("text",o(E=ee)?E:""),o(re=te["$[]"]("default_attrs"))&&i(r,"update",[re],(function(e,t){return null==t&&(t=x),t})),o(F=Z.$process_method()["$[]"](t,Y,r))&&_(F,t)){r.$replace(F.$attributes());break}return r.$clear(),x}y.$logger().$debug(y.$message_with_context("unknown name for block macro: "+(($=c["~"])===x?x:$["$[]"](1)),s(["source_location"],{source_location:e.$cursor_at_mark()})))}}}if(u(B)&&l(j=o(E=j)?E:I.$chr(),"<")&&o(S("CalloutListRx")["$=~"](I))){e.$unshift_line(I),F=y.$parse_callout_list(e,c["~"],t,A.$callouts()),r["$[]="]("style","arabic");break}if(o(S("UnorderedListRx")["$match?"](I))){e.$unshift_line(I),u(z)&&m(S("Section"),t)&&l(t.$sectname(),"bibliography")&&r["$[]="]("style",z="bibliography"),F=y.$parse_list(e,"ulist",t,z);break}if(o(S("OrderedListRx")["$match?"](I))){e.$unshift_line(I),F=y.$parse_list(e,"olist",t,z),o(F.$style())&&r["$[]="]("style",F.$style());break}if((o(I["$include?"]("::"))||o(I["$include?"](";;")))&&o(S("DescriptionListRx")["$=~"](I))){e.$unshift_line(I),F=y.$parse_description_list(e,c["~"],t);break}if((l(z,"float")||l(z,"discrete"))&&o(o(S("Compliance").$underline_style_section_titles())?y["$is_section_title?"](I,e.$peek_line()):o(E=B["$!"]())?y["$atx_section_title?"](I):E)){e.$unshift_line(I),b=y.$parse_section_title(e,A,r["$[]"]("id")),ne=null==($=a(b))[0]?x:$[0],ie=null==$[1]?x:$[1],J=null==$[2]?x:$[2],oe=null==$[3]?x:$[3],o(ie)&&r["$[]="]("reftext",ie),(F=S("Block").$new(t,"floating_title",s(["content_model"],{content_model:"empty"})))["$title="](J),r.$delete("title"),F["$id="](o(E=ne)?E:o(T["$key?"]("sectids"))?S("Section").$generate_id(F.$title(),A):x),F["$level="](oe);break}if(o(z)&&_(z,"normal")){if(o(S("PARAGRAPH_STYLES")["$include?"](z))){N=z.$to_sym(),L="paragraph",e.$unshift_line(I);break}if(o(S("ADMONITION_STYLES")["$include?"](z))){N="admonition",L="paragraph",e.$unshift_line(I);break}if(o(O)&&o(C["$registered_for_block?"](z,"paragraph"))){N=z.$to_sym(),L="paragraph",e.$unshift_line(I);break}o(y.$logger()["$debug?"]())&&y.$logger().$debug(y.$message_with_context("unknown style for paragraph: "+z,s(["source_location"],{source_location:e.$cursor_at_mark()}))),z=x}if(e.$unshift_line(I),o(B)&&u(z))se=y.$read_paragraph_lines(e,ae=l(k,0)?n["$[]"]("list_type"):x,s(["skip_line_comments"],{skip_line_comments:w})),y["$adjust_indentation!"](se),F=o(w)||l(ae,"dlist")?S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:r})):S("Block").$new(t,"literal",s(["content_model","source","attributes"],{content_model:"verbatim",source:se,attributes:r}));else{if(se=y.$read_paragraph_lines(e,o(E=k["$=="](0))?n["$[]"]("list_type"):E,s(["skip_line_comments"],{skip_line_comments:!0})),o(w))o(B)&&l(z,"normal")&&y["$adjust_indentation!"](se),F=S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:r}));else if(o(S("ADMONITION_STYLE_HEADS")["$include?"](j))&&o(I["$include?"](":"))&&o(S("AdmonitionParagraphRx")["$=~"](I)))se["$[]="](0,($=c["~"])===x?x:$.$post_match()),r["$[]="]("name",$e=($=["style",(b=c["~"])===x?x:b["$[]"](1)],i(r,"[]=",$),$[$.length-1]).$downcase()),r["$[]="]("textlabel",o(E=r.$delete("caption"))?E:T["$[]"]($e+"-caption")),F=S("Block").$new(t,"admonition",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:r}));else if(o(M)&&l(j,">")&&o(I["$start_with?"]("> "))){if(i(se,"map!",[],(function(e){return null==e&&(e=x),l(e,">")?e.$slice(1,e.$length()):o(e["$start_with?"]("> "))?e.$slice(2,e.$length()):e})),o(se["$[]"](-1)["$start_with?"]("-- "))&&(le=(le=se.$pop()).$slice(3,le.$length()),!o(se["$empty?"]())))for(;o(se["$[]"](-1)["$empty?"]());)se.$pop();r["$[]="]("style","quote"),F=y.$build_block("quote","compound",!1,t,S("Reader").$new(se),r),o(le)&&(b=F.$apply_subs(le).$split(", ",2),ue=null==($=a(b))[0]?x:$[0],ce=null==$[1]?x:$[1],o(ue)&&r["$[]="]("attribution",ue),o(ce)&&r["$[]="]("citetitle",ce))}else if(l(j,'"')&&o(h(se.$size(),1))&&o(se["$[]"](-1)["$start_with?"]("-- "))&&o(se["$[]"](-2)["$end_with?"]('"'))){for(se["$[]="](0,I.$slice(1,I.$length())),le=(le=se.$pop()).$slice(3,le.$length());o(se["$[]"](-1)["$empty?"]());)se.$pop();se["$<<"](se.$pop().$chop()),r["$[]="]("style","quote"),b=(F=S("Block").$new(t,"quote",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:r}))).$apply_subs(le).$split(", ",2),ue=null==($=a(b))[0]?x:$[0],ce=null==$[1]?x:$[1],o(ue)&&r["$[]="]("attribution",ue),o(ce)&&r["$[]="]("citetitle",ce)}else o(B)&&l(z,"normal")&&y["$adjust_indentation!"](se),F=S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:r}));y.$catalog_inline_anchors(se.$join(S("LF")),F,A,e)}break}if(!o(F))switch(N){case"listing":case"source":(l(N,"source")||u(r["$[]"](1))&&o(_e=o(X=r["$[]"](2))?X:T["$[]"]("source-language")))&&(o(_e)?(r["$[]="]("style","source"),r["$[]="]("language",_e),S("AttributeList").$rekey(r,[x,x,"linenums"])):(S("AttributeList").$rekey(r,[x,"language","linenums"]),o(r["$key?"]("language"))||o(T["$key?"]("source-language"))&&r["$[]="]("language",T["$[]"]("source-language"))),o(r["$key?"]("linenums"))||(o(r["$[]"]("linenums-option"))||o(T["$[]"]("source-linenums-option")))&&r["$[]="]("linenums",""),o(r["$key?"]("indent"))||o(T["$key?"]("source-indent"))&&r["$[]="]("indent",T["$[]"]("source-indent"))),F=y.$build_block("listing","verbatim",D,t,e,r);break;case"fenced_code":r["$[]="]("style","source"),o(h(U=I.$length(),3))&&(o(de=(_e=I.$slice(3,U)).$index(","))?o(h(de,0))?(_e=_e.$slice(0,de).$strip(),o(p(de,g(U,4)))&&r["$[]="]("linenums","")):o(h(U,4))&&r["$[]="]("linenums",""):_e=_e.$lstrip()),o(_e["$nil_or_empty?"]())?o(T["$key?"]("source-language"))&&r["$[]="]("language",T["$[]"]("source-language")):r["$[]="]("language",_e),o(r["$key?"]("linenums"))||(o(r["$[]"]("linenums-option"))||o(T["$[]"]("source-linenums-option")))&&r["$[]="]("linenums",""),o(r["$key?"]("indent"))||o(T["$key?"]("source-indent"))&&r["$[]="]("indent",T["$[]"]("source-indent")),D=D.$slice(0,3),F=y.$build_block("listing","verbatim",D,t,e,r);break;case"table":pe=e.$cursor(),he=S("Reader").$new(e.$read_lines_until(s(["terminator","skip_line_comments","context","cursor"],{terminator:D,skip_line_comments:!0,context:"table",cursor:"at_mark"})),pe),o(D["$start_with?"]("|","!"))||o(X=r["$[]"]("format"))||r["$[]="]("format",o(D["$start_with?"](","))?"csv":"dsv"),F=y.$parse_table(he,t,r);break;case"sidebar":F=y.$build_block(N,"compound",D,t,e,r);break;case"admonition":r["$[]="]("name",$e=z.$downcase()),r["$[]="]("textlabel",o(X=r.$delete("caption"))?X:T["$[]"]($e+"-caption")),F=y.$build_block(N,"compound",D,t,e,r);break;case"open":case"abstract":case"partintro":F=y.$build_block("open","compound",D,t,e,r);break;case"literal":F=y.$build_block(N,"verbatim",D,t,e,r);break;case"example":o(r["$[]"]("collapsible-option"))&&r["$[]="]("caption",""),F=y.$build_block(N,"compound",D,t,e,r);break;case"quote":case"verse":S("AttributeList").$rekey(r,[x,"attribution","citetitle"]),F=y.$build_block(N,l(N,"verse")?"verbatim":"compound",D,t,e,r);break;case"stem":case"latexmath":case"asciimath":l(N,"stem")&&r["$[]="]("style",S("STEM_TYPE_ALIASES")["$[]"](o(X=r["$[]"](2))?X:T["$[]"]("stem"))),F=y.$build_block("stem","raw",D,t,e,r);break;case"pass":F=y.$build_block(N,"raw",D,t,e,r);break;case"comment":return y.$build_block(N,"skip",D,t,e,r),r.$clear(),x;default:if(o(O)&&o(Z=C["$registered_for_block?"](N,L))){if(l(fe=(te=Z.$config())["$[]"]("content_model"),"skip")||(o((me=o(X=te["$[]"]("positional_attrs"))?X:te["$[]"]("pos_attrs"))["$nil_or_empty?"]())||S("AttributeList").$rekey(r,d([x],me)),o(re=te["$[]"]("default_attrs"))&&i(re,"each",[],(function(e,t){var n;return null==e&&(e=x),null==t&&(t=x),o(X=r["$[]"](e))?X:(i(r,"[]=",n=[e,t]),n[n.length-1])})),r["$[]="]("cloaked-context",L)),!o(F=y.$build_block(N,fe,D,t,e,r,s(["extension"],{extension:Z}))))return r.$clear(),x}else y.$raise("Unsupported block type "+N+" at "+e.$cursor())}return o(A.$sourcemap())&&F["$source_location="](e.$cursor_at_mark()),o(r["$[]"]("title"))&&(F["$title="](J=r.$delete("title")),o(S("CAPTION_ATTRIBUTE_NAMES")["$[]"](F.$context()))&&F.$assign_caption(r.$delete("caption"))),F["$style="](r["$[]"]("style")),o(v=o(E=F.$id())?E:($=[r["$[]"]("id")],i(F,"id=",$),$[$.length-1]))&&(o(o(J)?J["$include?"](S("ATTR_REF_HEAD")):F["$title?"]())&&F.$title(),o(A.$register("refs",[v,F]))||y.$logger().$warn(y.$message_with_context("id assigned to block already in use: "+v,s(["source_location"],{source_location:e.$cursor_at_mark()})))),o(r["$empty?"]())||F.$update_attributes(r),F.$commit_subs(),o(F["$sub?"]("callouts"))&&(o(y.$catalog_callouts(F.$source(),A))||F.$remove_sub("callouts")),F}),-3),$(A,"$read_paragraph_lines",(function(e,t,r){var n=x;return null==r&&(r=s([],{})),r["$[]="]("break_on_blank_lines",!0),r["$[]="]("break_on_list_continuation",!0),r["$[]="]("preserve_last_line",!0),n=o(t)?o(S("Compliance").$block_terminates_paragraph())?S("StartOfBlockOrListProc"):S("StartOfListProc"):o(S("Compliance").$block_terminates_paragraph())?S("StartOfBlockProc"):S("NoOp"),i(e,"read_lines_until",[r],n.$to_proc())}),-3),$(A,"$is_delimited_block?",(function(e,t){var r,n,i,s,$=x,u=x,c=x;if(null==t&&(t=x),!o(h($=e.$length(),1))||!o(S("DELIMITED_BLOCK_HEADS")["$[]"](e.$slice(0,2))))return x;if(l($,2))u=e,c=2;else if(o(p($,5))?(u=e,c=$):u=e.$slice(0,c=4),o(S("Compliance").$markdown_syntax())&&o(u["$start_with?"]("`"))){if(l(c,4)){if(l(u,"````")||_(u=u.$chop(),"```"))return x;e=u,$=c=3}else if(_(u,"```"))return x}else if(l(c,3))return x;return n=S("DELIMITED_BLOCKS")["$[]"](u),i=null==(r=a(n))[0]?x:r[0],s=null==r[1]?x:r[1],o(i)&&(l($,c)||o(this["$uniform?"](e.$slice(1,$),S("DELIMITED_BLOCK_TAILS")["$[]"](u),g($,1))))?!o(t)||S("BlockMatchData").$new(i,s,u,e):x}),-2),$(A,"$build_block",(function(e,t,r,n,i,a,$){var c,d=this,p=x,f=x,g=x,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x;switch(null==$&&($=s([],{})),t){case"skip":p=(c=[!0,"simple"])[0],f=c[1];break;case"raw":p=(c=[!1,"simple"])[0],f=c[1];break;default:p=(c=[!1,t])[0],f=c[1]}switch(o(r["$nil?"]())?(l(f,"verbatim")?g=i.$read_lines_until(s(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(l(t,"compound")&&(t="simple"),g=d.$read_paragraph_lines(i,!1,s(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:p}))),b=x):_(f,"compound")?(g=i.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:p,context:e,cursor:"at_mark"})),b=x):l(r,!1)?(g=x,b=i):(g=x,v=i.$cursor(),b=S("Reader").$new(i.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:p,context:e,cursor:"at_mark"})),v)),t){case"verbatim":y=(o(k=a["$[]"]("tabsize"))?k:n.$document().$attributes()["$[]"]("tabsize")).$to_i(),o(w=a["$[]"]("indent"))?d["$adjust_indentation!"](g,w.$to_i(),y):o(h(y,0))&&d["$adjust_indentation!"](g,-1,y);break;case"skip":return x}if(o(A=$["$[]"]("extension"))){if(a.$delete("style"),!o(E=A.$process_method()["$[]"](n,o(C=b)?C:S("Reader").$new(g),a.$merge()))||!_(E,n))return x;a.$replace(E.$attributes()),l(E.$content_model(),"compound")&&m(S("Block"),E)&&u((g=E.$lines())["$empty?"]())&&(t="compound",b=S("Reader").$new(g))}else E=S("Block").$new(n,e,s(["content_model","source","attributes"],{content_model:t,source:g,attributes:a}));return l(t,"compound")&&d.$parse_blocks(b,E),E}),-7),$(A,"$parse_blocks",(function(e,t,r){var n=x,i=x,s=x;if(null==r&&(r=x),o(r))for(;o(o(n=o(i=s=this.$next_block(e,t,r.$merge()))?t.$blocks()["$<<"](s):i)?n:e["$has_more_lines?"]()););else for(;o(o(n=o(i=s=this.$next_block(e,t))?t.$blocks()["$<<"](s):i)?n:e["$has_more_lines?"]()););return x}),-3),$(A,"$parse_list",(function(e,t,r,n){var i,s=x,a=x,$=x,l=x;for(null==c["~"]&&(c["~"]=x),s=S("List").$new(r,t),a=S("ListRxMap")["$[]"](t);o(o($=e["$has_more_lines?"]())?a["$=~"](e.$peek_line()):$)&&(o(l=this.$parse_list_item(e,s,c["~"],(i=c["~"])===x?x:i["$[]"](1),n))&&s.$items()["$<<"](l),o($=e.$skip_blank_lines())););return s})),$(A,"$catalog_callouts",(function(e,t){var r=x,n=x;return r=!1,n=0,o(e["$include?"]("<"))&&i(e,"scan",[S("CalloutScanRx")],(function(){var e;return o(((e=c["~"])===x?x:e["$[]"](0))["$start_with?"]("\\"))||t.$callouts().$register(l((e=c["~"])===x?x:e["$[]"](2),".")?(n=d(n,1)).$to_s():(e=c["~"])===x?x:e["$[]"](2)),r=!0})),r})),$(A,"$catalog_inline_anchor",(function(e,t,r,n,i){return null==i&&(i=r.$document()),o(t)&&o(t["$include?"](S("ATTR_REF_HEAD")))&&(t=i.$sub_attributes(t)),o(i.$register("refs",[e,S("Inline").$new(r,"anchor",t,s(["type","id"],{type:"ref",id:e}))]))||(m(S("Reader"),n)&&(n=n.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+e,s(["source_location"],{source_location:n})))),x}),-5),$(A,"$catalog_inline_anchors",(function(e,t,r,n){return(o(e["$include?"]("[["))||o(e["$include?"]("or:")))&&i(e,"scan",[S("InlineAnchorScanRx")],(function e(){var i,a=null==e.$$s?this:e.$$s,$=x,l=x,u=x,_=x;if(o($=(i=c["~"])===x?x:i["$[]"](1))){if(o(l=(i=c["~"])===x?x:i["$[]"](2))&&o(l["$include?"](S("ATTR_REF_HEAD")))&&o((l=r.$sub_attributes(l))["$empty?"]()))return x}else if($=(i=c["~"])===x?x:i["$[]"](3),o(l=(i=c["~"])===x?x:i["$[]"](4)))if(o(l["$include?"]("]")))l=l.$gsub("\\]","]"),o(l["$include?"](S("ATTR_REF_HEAD")))&&(l=r.$sub_attributes(l));else if(o(l["$include?"](S("ATTR_REF_HEAD")))&&o((l=r.$sub_attributes(l))["$empty?"]()))return x;return o(r.$register("refs",[$,S("Inline").$new(t,"anchor",l,s(["type","id"],{type:"ref",id:$}))]))?x:(u=n.$cursor_at_mark(),o(h(_=d(((i=c["~"])===x?x:i.$pre_match()).$count(S("LF")),o(((i=c["~"])===x?x:i["$[]"](0))["$start_with?"](S("LF")))?1:0),0))&&(u=u.$dup()).$advance(_),a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+$,s(["source_location"],{source_location:u}))))}),{$$s:this}),x})),$(A,"$catalog_inline_biblio_anchor",(function(e,t,r,n){var i;return o(r.$document().$register("refs",[e,S("Inline").$new(r,"anchor",o(i=t)?"["+t+"]":i,s(["type","id"],{type:"bibref",id:e}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+e,s(["source_location"],{source_location:n.$cursor()}))),x})),$(A,"$parse_description_list",(function(e,t,r){var n=x,i=x,s=x,a=x,$=x;for(null==c["~"]&&(c["~"]=x),n=S("List").$new(r,"dlist"),i=S("DescriptionListSiblingRx")["$[]"](t["$[]"](2)),n.$items()["$<<"](s=this.$parse_list_item(e,n,t,i));o(o(a=e["$has_more_lines?"]())?i["$=~"](e.$peek_line()):a);)$=this.$parse_list_item(e,n,c["~"],i),o(s["$[]"](1))?n.$items()["$<<"](s=$):(s["$[]"](0)["$<<"]($["$[]"](0)["$[]"](0)),s["$[]="](1,$["$[]"](1)));return n})),$(A,"$parse_callout_list",(function(e,t,r,n){var i=this,a=x,$=x,u=x,c=x,_=x,p=x,h=x,f=x;for(a=S("List").$new(r,"colist"),$=1,u=0;o(o(c=t)?c:o(_=t=S("CalloutListRx").$match(e.$peek_line()))?e.$mark():_);)l(p=t["$[]"](1),".")&&(p=(u=d(u,1)).$to_s()),l(p,$.$to_s())||i.$logger().$warn(i.$message_with_context("callout list item index: expected "+$+", got "+p,s(["source_location"],{source_location:e.$cursor_at_mark()}))),o(h=i.$parse_list_item(e,a,t,"<1>"))&&(a.$items()["$<<"](h),o((f=n.$callout_ids(a.$items().$size()))["$empty?"]())?i.$logger().$warn(i.$message_with_context("no callout found for <"+a.$items().$size()+">",s(["source_location"],{source_location:e.$cursor_at_mark()}))):h.$attributes()["$[]="]("coids",f)),$=d($,1),t=x;return n.$next_list(),a})),$(A,"$parse_list_item",(function(e,t,r,n,i){var $,_,d,p,h=this,f=x,m=x,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x,z=x,F=x,N=x,L=x;if(null==i&&(i=x),l(d=t.$context(),"dlist"))f=!0,m=S("ListItem").$new(t,b=r["$[]"](1)),o(b["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](b))&&h.$catalog_inline_anchor(($=c["~"])===x?x:$["$[]"](1),o(v=($=c["~"])===x?x:$["$[]"](2))?v:(($=c["~"])===x?x:$.$post_match()).$lstrip(),m,e),o(y=r["$[]"](3))&&(k=!0),w=S("ListItem").$new(t,y),o(t.$document().$sourcemap())&&(m["$source_location="](e.$cursor()),o(k)?w["$source_location="](m.$source_location()):A=!0);else switch(k=!0,w=S("ListItem").$new(t,y=r["$[]"](2)),o(t.$document().$sourcemap())&&w["$source_location="](e.$cursor()),d){case"ulist":w["$marker="](n),o(y["$start_with?"]("["))&&(o(i)&&l(i,"bibliography")?o(S("InlineBiblioAnchorRx")["$=~"](y))&&h.$catalog_inline_biblio_anchor(($=c["~"])===x?x:$["$[]"](1),($=c["~"])===x?x:$["$[]"](2),w,e):o(y["$start_with?"]("[["))?o(S("LeadingInlineAnchorRx")["$=~"](y))&&h.$catalog_inline_anchor(($=c["~"])===x?x:$["$[]"](1),($=c["~"])===x?x:$["$[]"](2),w,e):o(y["$start_with?"]("[ ] ","[x] ","[*] "))&&(t.$set_option("checklist"),w.$attributes()["$[]="]("checkbox",""),o(y["$start_with?"]("[ "))||w.$attributes()["$[]="]("checked",""),w["$text="](y.$slice(4,y.$length()))));break;case"olist":_=h.$resolve_ordered_list_marker(n,E=t.$items().$size(),!0,e),n=null==($=a(_))[0]?x:$[0],C=null==$[1]?x:$[1],w["$marker="](n),l(E,0)&&u(i)&&t["$style="](o(O=C)?O:(o(R=S("ORDERED_LIST_STYLES")["$[]"](g(n.$length(),1)))?R:"arabic").$to_s()),o(y["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](y))&&h.$catalog_inline_anchor(($=c["~"])===x?x:$["$[]"](1),($=c["~"])===x?x:$["$[]"](2),w,e);break;default:w["$marker="](n),o(y["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](y))&&h.$catalog_inline_anchor(($=c["~"])===x?x:$["$[]"](1),($=c["~"])===x?x:$["$[]"](2),w,e)}if(e.$shift(),p=e.$cursor(),I=S("Reader").$new(h.$read_lines_for_list_item(e,d,n,k),p),o(I["$has_more_lines?"]())){for(o(A)&&w["$source_location="](p),T=I.$skip_line_comments(),o(z=I.$peek_line())&&(o(T["$empty?"]())||I.$unshift_lines(T),o(z["$empty?"]())||(F=!0,o(f)||(k=x))),o(N=h.$next_block(I,w,s([],{}),s(["text_only","list_type"],{text_only:!o(k)||x,list_type:d})))&&w.$blocks()["$<<"](N);o(I["$has_more_lines?"]());)o(N=h.$next_block(I,w,s([],{}),s(["list_type"],{list_type:d})))&&w.$blocks()["$<<"](N);o(F)&&o(L=w.$blocks()["$[]"](0))&&l(L.$context(),"paragraph")&&w.$fold_first()}return o(f)?[[m],o(w["$text?"]())||o(w["$blocks?"]())?w:x]:w}),-5),$(A,"$read_lines_for_list_item",(function(e,t,r,n){var a,$,d=this,p=x,h=x,f=x,m=x,g=x,b=x,v=x,y=x,k=x,w=x;for(null==r&&(r=x),null==n&&(n=!0),p=[],h="inactive",f=!1,m=x,$=t["$=="]("dlist");o(e["$has_more_lines?"]())&&(g=e.$read_line(),!o(d["$is_sibling_list_item?"](g,t,r)));)if(b=o(p["$empty?"]())?x:p["$[]"](-1),l(b,S("LIST_CONTINUATION"))&&(l(h,"inactive")&&(h="active",n=!0,o(f)||p["$[]="](-1,"")),l(g,S("LIST_CONTINUATION"))))_(h,"frozen")&&(h="frozen",p["$<<"](g)),g=x;else{if(o(v=d["$is_delimited_block?"](g,!0))){if(!l(h,"active"))break;p["$<<"](g),p.$concat(e.$read_lines_until(s(["terminator","read_last_line","context"],{terminator:v.$terminator(),read_last_line:!0,context:x}))),h="inactive"}else{if(o($)&&_(h,"active")&&o(S("BlockAttributeLineRx")["$match?"](g)))break;if(l(h,"active")&&u(g["$empty?"]()))o(S("LiteralParagraphRx")["$match?"](g))?(e.$unshift_line(g),o($)?p.$concat(i(e,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(function e(n){return null==n&&(n=x),(null==e.$$s?this:e.$$s)["$is_sibling_list_item?"](n,t,r)}),{$$s:d})):p.$concat(e.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),h="inactive"):o(S("BlockTitleRx")["$match?"](g))||o(S("BlockAttributeLineRx")["$match?"](g))||o(S("AttributeEntryRx")["$match?"](g))?p["$<<"](g):(o(y=i(o(f)?["dlist"]:S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=x),S("ListRxMap")["$[]"](e)["$match?"](g)})))&&(f=!0,l(y,"dlist")&&o(((a=c["~"])===x?x:a["$[]"](3))["$nil_or_empty?"]())&&(n=!1)),p["$<<"](g),h="inactive");else if(o(b)&&o(b["$empty?"]())){if(o(g["$empty?"]())){if(!o(g=o(k=e.$skip_blank_lines())?e.$read_line():k))break;if(o(d["$is_sibling_list_item?"](g,t,r)))break}if(l(g,S("LIST_CONTINUATION")))m=p.$size(),p["$<<"](g);else if(o(n)){if(o(d["$is_sibling_list_item?"](g,t,r)))break;if(o(y=i(S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=x),S("ListRxMap")["$[]"](e)["$=~"](g)}))))p["$<<"](g),f=!0,l(y,"dlist")&&o(((a=c["~"])===x?x:a["$[]"](3))["$nil_or_empty?"]())&&(n=!1);else{if(!o(S("LiteralParagraphRx")["$match?"](g)))break;e.$unshift_line(g),o($)?p.$concat(i(e,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(function e(n){return null==n&&(n=x),(null==e.$$s?this:e.$$s)["$is_sibling_list_item?"](n,t,r)}),{$$s:d})):p.$concat(e.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else o(f)||p.$pop(),p["$<<"](g),n=!0}else o(g["$empty?"]())||(n=!0),o(y=i(o(f)?["dlist"]:S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=x),S("ListRxMap")["$[]"](e)["$=~"](g)})))&&(f=!0,l(y,"dlist")&&o(((a=c["~"])===x?x:a["$[]"](3))["$nil_or_empty?"]())&&(n=!1)),p["$<<"](g)}g=x}for(o(g)&&e.$unshift_line(g),o(m)&&p["$[]="](m,"");!o(p["$empty?"]());){if(!o((w=p["$[]"](-1))["$empty?"]())){l(w,S("LIST_CONTINUATION"))&&p.$pop();break}p.$pop()}return p}),-3),$(A,"$initialize_section",(function(e,t,r){var n,$,c,_,d,p,f,m=this,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x;return null==r&&(r=s([],{})),c=(v=(b=t.$document()).$doctype())["$=="]("book"),o(b.$sourcemap())&&(y=e.$cursor()),k=r["$[]"](1),$=m.$parse_section_title(e,b,r["$[]"]("id")),_=null==(n=a($))[0]?x:n[0],d=null==n[1]?x:n[1],w=null==n[2]?x:n[2],A=null==n[3]?x:n[3],p=null==n[4]?x:n[4],o(k)?o(c)&&l(k,"abstract")?(E=(n=["chapter",1])[0],A=n[1]):o(k["$start_with?"]("sect"))&&o(S("SectionLevelStyleRx")["$match?"](k))?E="section":(E=(n=[k,!0])[0],C=n[1],l(A,0)&&(A=1),O=E["$=="]("appendix")):o(c)?E=l(A,0)?"part":o(h(A,1))?"section":"chapter":l(v,"manpage")&&l(w.$casecmp("synopsis"),0)?(E=(n=["synopsis",!0])[0],C=n[1]):E="section",o(d)&&r["$[]="]("reftext",d),R=S("Section").$new(t,A),$=[(n=[_,w,E,y])[0]],i(R,"id=",$),$[$.length-1],$=[n[1]],i(R,"title=",$),$[$.length-1],$=[n[2]],i(R,"sectname=",$),$[$.length-1],$=[n[3]],i(R,"source_location=",$),$[$.length-1],o(C)?(R["$special="](!0),o(O)?R["$numbered="](!0):l(b.$attributes()["$[]"]("sectnums"),"all")&&R["$numbered="](!o(c)||!l(A,1)||"chapter")):o(b.$attributes()["$[]"]("sectnums"))&&o(h(A,0))?R["$numbered="](!o(R.$special())||(o(I=t.$numbered())||I)):o(c)&&l(A,0)&&o(b.$attributes()["$[]"]("partnums"))&&R["$numbered="](!0),o(f=o(I=R.$id())?I:(n=[o(b.$attributes()["$key?"]("sectids"))?T=S("Section").$generate_id(R.$title(),b):x],i(R,"id=",n),n[n.length-1]))&&(o(T)||u(w["$include?"](S("ATTR_REF_HEAD")))||R.$title(),o(b.$register("refs",[f,R]))||m.$logger().$warn(m.$message_with_context("id assigned to section already in use: "+f,s(["source_location"],{source_location:e.$cursor_at_line(g(e.$lineno(),o(p)?1:2))})))),R.$update_attributes(r),e.$skip_blank_lines(),R}),-3),$(A,"$is_next_line_section?",(function(e,t){var r=x,n=x,i=x;return o(r=t["$[]"](1))&&(l(r,"discrete")||l(r,"float"))?x:o(S("Compliance").$underline_style_section_titles())?(n=e.$peek_lines(2,o(i=r)?r["$=="]("comment"):i),this["$is_section_title?"](o(i=n["$[]"](0))?i:"",n["$[]"](1))):this["$atx_section_title?"](o(i=e.$peek_line())?i:"")})),$(A,"$is_next_line_doctitle?",(function(e,t,r){var n=x,i=x;return o(r)?o(n=i=this["$is_next_line_section?"](e,t))?d(i,r.$to_i())["$=="](0):n:this["$is_next_line_section?"](e,t)["$=="](0)})),$(A,"$is_section_title?",(function(e,t){var r;return null==t&&(t=x),o(r=this["$atx_section_title?"](e))?r:o(t["$nil_or_empty?"]())?x:this["$setext_section_title?"](e,t)}),-2),$(A,"$atx_section_title?",(function(e){var t,r=x;return o(o(S("Compliance").$markdown_syntax())?o(r=e["$start_with?"]("=","#"))?S("ExtAtxSectionTitleRx")["$=~"](e):r:o(r=e["$start_with?"]("="))?S("AtxSectionTitleRx")["$=~"](e):r)?g(((t=c["~"])===x?x:t["$[]"](1)).$length(),1):x})),$(A,"$setext_section_title?",(function(e,t){var r,n,i=x;return o(r=S("SETEXT_SECTION_LEVELS")["$[]"](n=t.$chr()))&&o(this["$uniform?"](t,n,i=t.$length()))&&o(S("SetextSectionTitleRx")["$match?"](e))&&o(p(g(e.$length(),i).$abs(),2))?r:x})),$(A,"$parse_section_title",(function(e,t,r){var n,i,s=x,a=x,$=x,l=x,_=x,h=x,f=x,m=x,b=x;return null==r&&(r=x),s=x,a=e.$read_line(),o(o(S("Compliance").$markdown_syntax())?o($=a["$start_with?"]("=","#"))?S("ExtAtxSectionTitleRx")["$=~"](a):$:o($=a["$start_with?"]("="))?S("AtxSectionTitleRx")["$=~"](a):$)?(l=(n=[g(((i=c["~"])===x?x:i["$[]"](1)).$length(),1),(i=c["~"])===x?x:i["$[]"](2),!0])[0],_=n[1],h=n[2],o(r)||o(_["$end_with?"]("]]"))&&o(S("InlineSectionAnchorRx")["$=~"](_))&&u((n=c["~"])===x?x:n["$[]"](1))&&(n=[_.$slice(0,g(_.$length(),((i=c["~"])===x?x:i["$[]"](0)).$length())),(i=c["~"])===x?x:i["$[]"](2),(i=c["~"])===x?x:i["$[]"](3)],_=n[0],r=n[1],s=n[2])):o(S("Compliance").$underline_style_section_titles())&&o(b=e.$peek_line(!0))&&o(l=S("SETEXT_SECTION_LEVELS")["$[]"](m=b.$chr()))&&o(this["$uniform?"](b,m,f=b.$length()))&&o(_=o($=S("SetextSectionTitleRx")["$=~"](a))?(n=c["~"])===x?x:n["$[]"](1):$)&&o(p(g(a.$length(),f).$abs(),2))?(h=!1,o(r)||o(_["$end_with?"]("]]"))&&o(S("InlineSectionAnchorRx")["$=~"](_))&&u((n=c["~"])===x?x:n["$[]"](1))&&(n=[_.$slice(0,g(_.$length(),((i=c["~"])===x?x:i["$[]"](0)).$length())),(i=c["~"])===x?x:i["$[]"](2),(i=c["~"])===x?x:i["$[]"](3)],_=n[0],r=n[1],s=n[2]),e.$shift()):this.$raise("Unrecognized section at "+e.$cursor_at_prev_line()),o(t["$attr?"]("leveloffset"))&&(l=d(l,t.$attr("leveloffset").$to_i()),o(p(l,0))&&(l=0)),[r,s,_,l,h]}),-3),$(A,"$parse_header_metadata",(function(e,t,r){var n,a,$=this,c=x,p=x,f=x,m=x,g=x,b=x,v=x,y=x,k=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x,z=x;if(null==t&&(t=x),null==r&&(r=!0),c=o(a=t)?t.$attributes():a,$.$process_attribute_entries(e,t),o(e["$has_more_lines?"]())&&u(e["$next_line_empty?"]())?(p=(f=$.$process_authors(e.$read_line())).$delete("authorcount"),o(t)&&o(h((i(c,"[]=",n=["authorcount",p]),n[n.length-1]),0))&&(i(f,"each",[],(function(e,r){var n;return null==e&&(e=x),null==r&&(r=x),o(c["$key?"](e))?x:(n=[e,t.$apply_header_subs(r)],i(c,"[]=",n),n[n.length-1])})),m=c["$[]"]("author"),g=c["$[]"]("authorinitials"),b=c["$[]"]("authors")),f["$[]="]("authorcount",p),$.$process_attribute_entries(e,t),o(e["$has_more_lines?"]())&&u(e["$next_line_empty?"]())&&(v=e.$read_line(),o(y=S("RevisionInfoLineRx").$match(v))?(k=s([],{}),o(y["$[]"](1))&&k["$[]="]("revnumber",y["$[]"](1).$rstrip()),o((w=y["$[]"](2).$strip())["$empty?"]())||(u(y["$[]"](1))&&o(w["$start_with?"]("v"))?k["$[]="]("revnumber",w.$slice(1,w.$length())):k["$[]="]("revdate",w)),o(y["$[]"](3))&&k["$[]="]("revremark",y["$[]"](3).$rstrip()),o(t)&&u(k["$empty?"]())&&i(k,"each",[],(function(e,r){var n;return null==e&&(e=x),null==r&&(r=x),o(c["$key?"](e))?x:(n=[e,t.$apply_header_subs(r)],i(c,"[]=",n),n[n.length-1])}))):e.$unshift_line(v)),$.$process_attribute_entries(e,t),e.$skip_blank_lines()):f=s([],{}),o(t)){if(o(c["$key?"]("author"))&&_(A=c["$[]"]("author"),m))E=$.$process_authors(A,!0,!1),_(c["$[]"]("authorinitials"),g)&&E.$delete("authorinitials");else if(o(c["$key?"]("authors"))&&_(A=c["$[]"]("authors"),b))E=$.$process_authors(A,!0);else{for(C=(n=[[],1,"author_1",!1,!1])[0],O=n[1],R=n[2],I=n[3],T=n[4];o(c["$key?"](R));)l(z=c["$[]"](R),f["$[]"](R))?(C["$<<"](x),T=!0):(C["$<<"](z),I=!0),R="author_"+(O=d(O,1));o(I)?(o(T)&&i(C,"each_with_index",[],(function(e,t){var r,n;return null==e&&(e=x),null==t&&(t=x),o(e)?x:(r=[t,i([f["$[]"]("firstname_"+(n=d(t,1))),f["$[]"]("middlename_"+n),f["$[]"]("lastname_"+n)].$compact(),"map",[],(function(e){return null==e&&(e=x),e.$tr(" ","_")})).$join(" ")],i(C,"[]=",r),r[r.length-1])})),E=$.$process_authors(C,!0,!1)):E=s(["authorcount"],{authorcount:0})}l(E["$[]"]("authorcount"),0)?o(p)?E=x:c["$[]="]("authorcount",0):(c.$update(E),u(c["$key?"]("email"))&&o(c["$key?"]("email_1"))&&c["$[]="]("email",c["$[]"]("email_1")))}return o(r)?f.$merge(k.$to_h(),E.$to_h()):x}),-2),$(A,"$process_authors",(function(e,t,r){var n=x,a=x;return null==t&&(t=!1),null==r&&(r=!0),n=s([],{}),a=0,i(o(r)&&o(e["$include?"](";"))?e.$split(S("AuthorDelimiterRx")):[].concat(f(e)),"each",[],(function(e){var r,$=x,c=x,_=x,p=x,h=x,f=x,m=x;return null==e&&(e=x),o(e["$empty?"]())?x:($=s([],{}),l(a=d(a,1),1)?i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=x),t=[e.$to_sym(),e],i($,"[]=",t),t[t.length-1]})):i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=x),t=[e.$to_sym(),e+"_"+a],i($,"[]=",t),t[t.length-1]})),o(t)?(o(e["$include?"]("<"))&&(n["$[]="]($["$[]"]("author"),e.$tr("_"," ")),e=e.$gsub(S("XmlSanitizeRx"),"")),l((c=e.$split(x,3)).$size(),3)&&c["$<<"](c.$pop().$squeeze(" "))):o(_=S("AuthorInfoLineRx").$match(e))&&(c=_.$to_a()).$shift(),o(c)?(r=[$["$[]"]("firstname"),h=c["$[]"](0).$tr("_"," ")],i(n,"[]=",r),p=r[r.length-1],n["$[]="]($["$[]"]("authorinitials"),h.$chr()),o(c["$[]"](1))&&(o(c["$[]"](2))?(n["$[]="]($["$[]"]("middlename"),f=c["$[]"](1).$tr("_"," ")),n["$[]="]($["$[]"]("lastname"),m=c["$[]"](2).$tr("_"," ")),p=d(d(d(d(h," "),f)," "),m),n["$[]="]($["$[]"]("authorinitials"),""+h.$chr()+f.$chr()+m.$chr())):(n["$[]="]($["$[]"]("lastname"),m=c["$[]"](1).$tr("_"," ")),p=d(d(h," "),m),n["$[]="]($["$[]"]("authorinitials"),""+h.$chr()+m.$chr()))),o(n["$[]"]($["$[]"]("author")))||n["$[]="]($["$[]"]("author"),p),o(t)||u(c["$[]"](3))||n["$[]="]($["$[]"]("email"),c["$[]"](3))):(n["$[]="]($["$[]"]("author"),(r=[$["$[]"]("firstname"),h=e.$squeeze(" ").$strip()],i(n,"[]=",r),r[r.length-1])),n["$[]="]($["$[]"]("authorinitials"),h.$chr())),l(a,1)?(r=["authors",n["$[]"]($["$[]"]("author"))],i(n,"[]=",r),r[r.length-1]):(l(a,2)&&i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=x),o(n["$key?"](e))?(t=[e+"_1",n["$[]"](e)],i(n,"[]=",t),t[t.length-1]):x})),r=["authors",n["$[]"]("authors")+", "+n["$[]"]($["$[]"]("author"))],i(n,"[]=",r),r[r.length-1]))})),n["$[]="]("authorcount",a),n}),-2),$(A,"$parse_block_metadata_lines",(function(e,t,r,n){for(null==r&&(r=s([],{})),null==n&&(n=s([],{}));o(this.$parse_block_metadata_line(e,t,r,n))&&(e.$shift(),o(e.$skip_blank_lines())););return r}),-3),$(A,"$parse_block_metadata_line",(function(e,t,r,n){var i,a=this,$=x,_=x,d=x,p=x,h=x,f=x;if(null==c["~"]&&(c["~"]=x),null==n&&(n=s([],{})),o(_=e.$peek_line())&&o(o(n["$[]"]("text_only"))?_["$start_with?"]("[","/"):$=_["$start_with?"]("[",".","/",":")))if(o(_["$start_with?"]("["))){if(o(_["$start_with?"]("[["))){if(o(_["$end_with?"]("]]"))&&o(S("BlockAnchorRx")["$=~"](_)))return r["$[]="]("id",(i=c["~"])===x?x:i["$[]"](1)),o(d=(i=c["~"])===x?x:i["$[]"](2))&&r["$[]="]("reftext",o(d["$include?"](S("ATTR_REF_HEAD")))?t.$sub_attributes(d):d),!0}else if(o(_["$end_with?"]("]"))&&o(S("BlockAttributeListRx")["$=~"](_)))return p=r["$[]"](1),o(t.$parse_attributes((i=c["~"])===x?x:i["$[]"](1),[],s(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:r}))["$[]"](1))&&r["$[]="](1,o(h=a.$parse_style_attribute(r,e))?h:p),!0}else if(o($)&&o(_["$start_with?"]("."))){if(o(S("BlockTitleRx")["$=~"](_)))return r["$[]="]("title",(i=c["~"])===x?x:i["$[]"](1)),!0}else if(u($)||o(_["$start_with?"]("/"))){if(o(_["$start_with?"]("//"))){if(l(_,"//"))return!0;if(o($)&&o(a["$uniform?"](_,"/",f=_.$length()))){if(!l(f,3))return e.$read_lines_until(s(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:_,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!o(_["$start_with?"]("///")))return!0}}else if(o($)&&o(_["$start_with?"](":"))&&o(S("AttributeEntryRx")["$=~"](_)))return a.$process_attribute_entry(e,t,r,c["~"]),!0;return x}),-4),$(A,"$process_attribute_entries",(function(e,t,r){for(null==r&&(r=x),e.$skip_comment_lines();o(this.$process_attribute_entry(e,t,r));)e.$shift(),e.$skip_comment_lines()}),-3),$(A,"$process_attribute_entry",(function(e,t,r,n){var i,s=x,a=x,$=x,l=x,u=x,c=x;if(null==r&&(r=x),null==n&&(n=x),o(n)||o(n=o(e["$has_more_lines?"]())?S("AttributeEntryRx").$match(e.$peek_line()):x)){if(o((s=n["$[]"](2))["$nil_or_empty?"]()))s="";else if(o(s["$end_with?"](S("LINE_CONTINUATION"),S("LINE_CONTINUATION_LEGACY"))))for(a=(i=[s.$slice(g(s.$length(),2),2),s.$slice(0,g(s.$length(),2)).$rstrip()])[0],s=i[1];o(o($=e.$advance())?(l=o(u=e.$peek_line())?u:"")["$empty?"]()["$!"]():$)&&(l=l.$lstrip(),o(c=l["$end_with?"](a))&&(l=l.$slice(0,g(l.$length(),2)).$rstrip()),s=""+s+(o(s["$end_with?"](S("HARD_LINE_BREAK")))?S("LF"):" ")+l,o(c)););return this.$store_attribute(n["$[]"](1),s,t,r),!0}return x}),-3),$(A,"$store_attribute",(function(e,t,r,n){var i=x;return null==r&&(r=x),null==n&&(n=x),o(e["$end_with?"]("!"))?(e=e.$chop(),t=x):o(e["$start_with?"]("!"))&&(e=e.$slice(1,e.$length()),t=x),l(e=this.$sanitize_attribute_name(e),"numbered")?e="sectnums":l(e,"hardbreaks")?e="hardbreaks-option":l(e,"showtitle")&&this.$store_attribute("notitle",o(t)?x:"",r,n),o(r)?o(t)?(l(e,"leveloffset")&&(o(t["$start_with?"]("+"))?t=d(r.$attr("leveloffset",0).$to_i(),t.$slice(1,t.$length()).$to_i()).$to_s():o(t["$start_with?"]("-"))&&(t=g(r.$attr("leveloffset",0).$to_i(),t.$slice(1,t.$length()).$to_i()).$to_s())),o(i=r.$set_attribute(e,t))&&(t=i,o(n)&&k(S("Document"),"AttributeEntry").$new(e,t).$save_to(n))):o(r.$delete_attribute(e))&&o(n)&&k(S("Document"),"AttributeEntry").$new(e,t).$save_to(n):o(n)&&k(S("Document"),"AttributeEntry").$new(e,t).$save_to(n),[e,t]}),-3),$(A,"$resolve_list_marker",(function(e,t,r,n,i){switch(null==r&&(r=0),null==n&&(n=!1),null==i&&(i=x),e){case"ulist":return t;case"olist":return this.$resolve_ordered_list_marker(t,r,n,i)["$[]"](0);default:return"<1>"}}),-3),$(A,"$resolve_ordered_list_marker",(function(e,t,r,n){var a,$=x,l=x;if(null==t&&(t=0),null==r&&(r=!1),null==n&&(n=x),o(e["$start_with?"](".")))return[e];switch(a=i(S("ORDERED_LIST_STYLES"),"find",[],(function(t){return null==t&&(t=x),S("OrderedListMarkerRxMap")["$[]"](t)["$match?"](e)}))){case"arabic":o(r)&&($=d(t,1),l=e.$to_i()),e="1.";break;case"loweralpha":o(r)&&($=d("a"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="a.";break;case"upperalpha":o(r)&&($=d("A"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="A.";break;case"lowerroman":o(r)&&($=S("Helpers").$int_to_roman(d(t,1)).$downcase(),l=e.$chop()),e="i)";break;case"upperroman":o(r)&&($=S("Helpers").$int_to_roman(d(t,1)),l=e.$chop()),e="I)"}return o(r)&&_($,l)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+$+", got "+l,s(["source_location"],{source_location:n.$cursor()}))),[e,a]}),-2),$(A,"$is_sibling_list_item?",(function(e,t,r){var n,i=x;return m(k("Regexp"),r)?r["$match?"](e):o(i=S("ListRxMap")["$[]"](t)["$=~"](e))?r["$=="](this.$resolve_list_marker(t,(n=c["~"])===x?x:n["$[]"](1))):i})),$(A,"$parse_table",(function(e,t,r){var n,s,$,c,_,p=this,f=x,g=x,b=x,v=x,y=x,w=x,A=x,E=x,C=x,O=x,R=x,I=x,T=x,z=x,F=x,N=x;for(f=S("Table").$new(t,r),o(r["$key?"]("cols"))&&u((g=p.$parse_colspecs(r["$[]"]("cols")))["$empty?"]())&&(f.$create_columns(g),b=!0),c=o(v=e.$skip_blank_lines())?v:0,o(r["$[]"]("header-option"))?f["$has_header_option="](!0):l(c,0)&&u(r["$[]"]("noheader-option"))&&(f["$has_header_option="]("implicit"),y=!0),_=(n=[(w=k(S("Table"),"ParserContext").$new(e,f,r)).$format(),-1,x])[0],A=n[1],E=n[2];o(C=e.$read_line());){for(o(O=h(A=d(A,1),0))&&o(C["$empty?"]())?(C=x,o(E)&&(E=d(E,1))):l(_,"psv")&&(o(w["$starts_with_delimiter?"](C))?(C=C.$slice(1,C.$length()),w.$close_open_cell(),o(E)&&(E=x)):(s=p.$parse_cellspec(C,"start",w.$delimiter()),R=null==(n=a(s))[0]?x:n[0],C=null==n[1]?x:n[1],o(R)?(w.$close_open_cell(R),o(E)&&(E=x)):o(E)&&l(E,A)&&f["$has_header_option="](y=E=x))),o(O)||(e.$mark(),o(y)&&(o(e["$has_more_lines?"]())&&o(e.$peek_line()["$empty?"]())?E=1:f["$has_header_option="](y=x))),n=!1;n||o(!0);){if(n=!1,!o(C)||!o(I=w.$match_delimiter(C))){switch(w["$buffer="](""+w.$buffer()+C+S("LF")),_){case"csv":o(w["$buffer_has_unclosed_quotes?"]())?(o(E)&&l(A,0)&&f["$has_header_option="](y=E=x),w.$keep_cell_open()):w.$close_cell(!0);break;case"dsv":w.$close_cell(!0);break;default:w.$keep_cell_open()}break}if(T=(s=[I.$pre_match(),I.$post_match()])[0],z=s[1],m("csv",v=_)){if(o(w["$buffer_has_unclosed_quotes?"](T))){if(w.$skip_past_delimiter(T),o((C=z)["$empty?"]()))break;n=!0;continue}w["$buffer="](""+w.$buffer()+T)}else if(m("dsv",v)){if(o(T["$end_with?"]("\\"))){if(w.$skip_past_escaped_delimiter(T),o((C=z)["$empty?"]())){w["$buffer="](""+w.$buffer()+S("LF")),w.$keep_cell_open();break}n=!0;continue}w["$buffer="](""+w.$buffer()+T)}else{if(o(T["$end_with?"]("\\"))){if(w.$skip_past_escaped_delimiter(T),o((C=z)["$empty?"]())){w["$buffer="](""+w.$buffer()+S("LF")),w.$keep_cell_open();break}n=!0;continue}$=p.$parse_cellspec(T),R=null==(s=a($))[0]?x:s[0],F=null==s[1]?x:s[1],w.$push_cellspec(R),w["$buffer="](""+w.$buffer()+F)}o((C=z)["$empty?"]())&&(C=x),w.$close_cell()}if(o(w["$cell_open?"]()))o(e["$has_more_lines?"]())||w.$close_cell(!0);else if(!o(v=e.$skip_blank_lines()))break}return l((N=f.$attributes(),o(v=N["$[]"]("colcount"))?v:(n=["colcount",f.$columns().$size()],i(N,"[]=",n),n[n.length-1])),0)||o(b)||f.$assign_column_widths(),o(y)&&f["$has_header_option="](!0),f.$partition_header_footer(r),f})),$(A,"$parse_colspecs",(function(e){var t=x;return o(e["$include?"](" "))&&(e=e.$delete(" ")),l(e,e.$to_i().$to_s())?i(k("Array"),"new",[e.$to_i()],(function(){return s(["width"],{width:1})})):(t=[],i(o(e["$include?"](","))?e.$split(",",-1):e.$split(";",-1),"each",[],(function(e){var r,n,$=x,c=x,_=x,d=x,p=x;return null==e&&(e=x),o(e["$empty?"]())?t["$<<"](s(["width"],{width:1})):o($=S("ColumnSpecRx").$match(e))?(c=s([],{}),o($["$[]"](2))&&(n=$["$[]"](2).$split("."),_=null==(r=a(n))[0]?x:r[0],d=null==r[1]?x:r[1],u(_["$nil_or_empty?"]())&&o(S("TableCellHorzAlignments")["$key?"](_))&&c["$[]="]("halign",S("TableCellHorzAlignments")["$[]"](_)),u(d["$nil_or_empty?"]())&&o(S("TableCellVertAlignments")["$key?"](d))&&c["$[]="]("valign",S("TableCellVertAlignments")["$[]"](d))),o(p=$["$[]"](3))?c["$[]="]("width",l(p,"~")?-1:p.$to_i()):c["$[]="]("width",1),o($["$[]"](4))&&o(S("TableCellStyles")["$key?"]($["$[]"](4)))&&c["$[]="]("style",S("TableCellStyles")["$[]"]($["$[]"](4))),o($["$[]"](1))?i(1,"upto",[$["$[]"](1).$to_i()],(function(){return t["$<<"](c.$merge())})):t["$<<"](c)):x})),t)})),$(A,"$parse_cellspec",(function(e,t,r){var n,i,$=x,c=x,_=x,d=x,p=x,h=x;if(null==t&&(t="end"),null==r&&(r=x),$=(n=[x,""])[0],c=n[1],l(t,"start")){if(!o(e["$include?"](r)))return[x,e];if(i=e.$partition(r),_=null==(n=a(i))[0]?x:n[0],null==n[1]||n[1],c=null==n[2]?x:n[2],!o($=S("CellSpecStartRx").$match(_)))return[x,e];if(o($["$[]"](0)["$empty?"]()))return[s([],{}),c]}else{if(!o($=S("CellSpecEndRx").$match(e)))return[s([],{}),e];if(o($["$[]"](0).$lstrip()["$empty?"]()))return[s([],{}),e.$rstrip()];c=$.$pre_match()}if(d=s([],{}),o($["$[]"](1)))switch(i=$["$[]"](1).$split("."),p=null==(n=a(i))[0]?x:n[0],h=null==n[1]?x:n[1],p=o(p["$nil_or_empty?"]())?1:p.$to_i(),h=o(h["$nil_or_empty?"]())?1:h.$to_i(),$["$[]"](2)){case"+":l(p,1)||d["$[]="]("colspan",p),l(h,1)||d["$[]="]("rowspan",h);break;case"*":l(p,1)||d["$[]="]("repeatcol",p)}return o($["$[]"](3))&&(i=$["$[]"](3).$split("."),p=null==(n=a(i))[0]?x:n[0],h=null==n[1]?x:n[1],u(p["$nil_or_empty?"]())&&o(S("TableCellHorzAlignments")["$key?"](p))&&d["$[]="]("halign",S("TableCellHorzAlignments")["$[]"](p)),u(h["$nil_or_empty?"]())&&o(S("TableCellVertAlignments")["$key?"](h))&&d["$[]="]("valign",S("TableCellVertAlignments")["$[]"](h))),o($["$[]"](4))&&o(S("TableCellStyles")["$key?"]($["$[]"](4)))&&d["$[]="]("style",S("TableCellStyles")["$[]"]($["$[]"](4))),[d,c]}),-2),$(A,"$parse_style_attribute",(function(e,t){var r,n=x,a=x,$=x,l=x,c=x,_=x;return null==t&&(t=x),o(n=e["$[]"](1))&&u(n["$include?"](" "))&&o(S("Compliance").$shorthand_property_syntax())?(a=x,$="",l=s([],{}),i(n,"each_char",[],(function e(r){var n=null==e.$$s?this:e.$$s;switch(null==r&&(r=x),r){case".":return n.$yield_buffered_attribute(l,a,$,t),$="",a="role";case"#":return n.$yield_buffered_attribute(l,a,$,t),$="",a="id";case"%":return n.$yield_buffered_attribute(l,a,$,t),$="",a="option";default:return $=d($,r)}}),{$$s:this}),o(a)?(this.$yield_buffered_attribute(l,a,$,t),o(c=l["$[]"]("style"))&&e["$[]="]("style",c),o(l["$key?"]("id"))&&e["$[]="]("id",l["$[]"]("id")),o(l["$key?"]("role"))&&e["$[]="]("role",o((_=e["$[]"]("role"))["$nil_or_empty?"]())?l["$[]"]("role").$join(" "):_+" "+l["$[]"]("role").$join(" ")),o(l["$key?"]("option"))&&i(l["$[]"]("option"),"each",[],(function(t){var r;return null==t&&(t=x),i(e,"[]=",r=[t+"-option",""]),r[r.length-1]})),c):(i(e,"[]=",r=["style",n]),r[r.length-1])):(i(e,"[]=",r=["style",n]),r[r.length-1])}),-2),$(A,"$yield_buffered_attribute",(function(e,t,r,n){var a,$=this,u=x;return o(t)?o(r["$empty?"]())?o(n)?$.$logger().$warn($.$message_with_context("invalid empty "+t+" detected in style attribute",s(["source_location"],{source_location:n.$cursor_at_prev_line()}))):$.$logger().$warn("invalid empty "+t+" detected in style attribute"):l(t,"id")?(o(e["$key?"]("id"))&&(o(n)?$.$logger().$warn($.$message_with_context("multiple ids detected in style attribute",s(["source_location"],{source_location:n.$cursor_at_prev_line()}))):$.$logger().$warn("multiple ids detected in style attribute")),e["$[]="](t,r)):(o(u=e["$[]"](t))?u:(a=[t,[]],i(e,"[]=",a),a[a.length-1]))["$<<"](r):o(r["$empty?"]())||e["$[]="]("style",r),x})),$(A,"$adjust_indentation!",(function(e,t,r){var n=x,s=x,a=x;return null==t&&(t=0),null==r&&(r=0),o(e["$empty?"]())?x:(o(h(r,0))&&o(i(e,"any?",[],(function(e){return null==e&&(e=x),e["$include?"](S("TAB"))})))&&(n=b(" ",r),i(e,"map!",[],(function(e){var t=x,s=x,a=x,$=x,u=x;return null==e&&(e=x),o(e["$empty?"]())||o((t=e.$index(S("TAB")))["$nil?"]())||l(t,0)&&(s=0,function(){try{var t=v("break");i(e,"each_byte",[],(function(e){return null==e&&(e=x),l(e,9)||t.$throw(),s=d(s,1)}))}catch(e){if(e===t)return e.$v;throw e}}(),e=""+b(n,s)+e.$slice(s,e.$length()),!o(e["$include?"](S("TAB"))))?e:(a=0,$=0,u="",i(e,"each_char",[],(function(e){var t=x,i=x;return null==e&&(e=x),l(e,S("TAB"))?l((t=d($,a))["$%"](r),0)?(a=d(a,g(r,1)),u=d(u,n)):(l(i=g(r,t["$%"](r)),1)||(a=d(a,g(i,1))),u=d(u,b(" ",i))):u=d(u,e),$=d($,1)})),u)}))),o(p(t,0))||(s=x,function(){try{var t=v("break");i(e,"each",[],(function(e){var r;return null==e&&(e=x),o(e["$empty?"]())?x:(l(r=g(e.$length(),e.$lstrip().$length()),0)&&(s=x,t.$throw()),o(s)&&o(p(s,r))?x:s=r)}))}catch(e){if(e===t)return e.$v;throw e}}(),l(t,0)?o(s)&&i(e,"map!",[],(function(e){return null==e&&(e=x),o(e["$empty?"]())?e:e.$slice(s,e.$length())})):(a=b(" ",t),o(s)?i(e,"map!",[],(function(e){return null==e&&(e=x),o(e["$empty?"]())?e:d(a,e.$slice(s,e.$length()))})):i(e,"map!",[],(function(e){return null==e&&(e=x),o(e["$empty?"]())?e:d(a,e)})))),x)}),-2),$(A,"$uniform?",(function(e,t,r){return e.$count(t)["$=="](r)})),$(A,"$sanitize_attribute_name",(function(e){return e.$gsub(S("InvalidAttributeNameCharsRx"),"").$downcase()}))}(A[0],0,A)}(y[0],y)},Opal.modules["asciidoctor/path_resolver"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.truthy,o=e.hash2,s=e.def,a=e.eqeq,$=e.alias,l=e.rb_plus,u=e.to_ary,c=e.send,_=e.not,d=e.neqeq,p=e.rb_gt,h=e.gvars,f=[],m=e.nil,g=e.$$$;return e.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(f,b){var v=[t(f,"Asciidoctor")].concat(b);return function(t,f,b){var v=r(t,null,"PathResolver"),y=[v].concat(b),x=e.$r(y),k=v.$$prototype;return k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=m,v.$include(x("Logging")),n(y[0],"DOT","."),n(y[0],"DOT_DOT",".."),n(y[0],"DOT_SLASH","./"),n(y[0],"SLASH","/"),n(y[0],"BACKSLASH","\\"),n(y[0],"DOUBLE_SLASH","//"),n(y[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),v.$attr_accessor("file_separator"),v.$attr_accessor("working_dir"),s(v,"$initialize",(function(e,t){var r,n,s=this;return null==e&&(e=m),null==t&&(t=m),s.file_separator=i(r=i(n=e)?n:g(g("File"),"ALT_SEPARATOR"))?r:g(g("File"),"SEPARATOR"),s.working_dir=i(t)?i(s["$root?"](t))?s.$posixify(t):g("File").$expand_path(t):g("Dir").$pwd(),s._partition_path_sys=o([],{}),s._partition_path_web=o([],{})}),-1),s(v,"$absolute_path?",(function(e){var t,r=m;return i(t=e["$start_with?"](x("SLASH")))?t:i(r=this.file_separator["$=="](x("BACKSLASH")))?x("WindowsRootRx")["$match?"](e):r})),a(x("RUBY_ENGINE"),"opal")&&a(g("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?s(v,"$root?",(function(e){var t;return i(t=this["$absolute_path?"](e))?t:e["$start_with?"]("file://","http://","https://")})):$(v,"root?","absolute_path?"),s(v,"$unc?",(function(e){return e["$start_with?"](x("DOUBLE_SLASH"))})),s(v,"$web_root?",(function(e){return e["$start_with?"](x("SLASH"))})),s(v,"$descends_from?",(function(e,t){var r=m;return a(t,e)?0:a(t,x("SLASH"))?i(r=e["$start_with?"](x("SLASH")))?1:r:i(r=e["$start_with?"](l(t,x("SLASH"))))?l(t.$length(),1):r})),s(v,"$relative_path",(function(t,r){var n=m;if(!i(this["$root?"](t)))return t;if(i(n=this["$descends_from?"](t,r)))return t.$slice(n,t.$length());try{return x("Pathname").$new(t).$relative_path_from(x("Pathname").$new(r)).$to_s()}catch(r){if(!e.rescue(r,[x("StandardError")]))throw r;try{return t}finally{e.pop_exception()}}})),s(v,"$posixify",(function(e){return i(e)?a(this.file_separator,x("BACKSLASH"))&&i(e["$include?"](x("BACKSLASH")))?e.$tr(x("BACKSLASH"),x("SLASH")):e:""})),$(v,"posixfy","posixify"),s(v,"$expand_path",(function(e){var t,r,n,o,s=this,$=m;return r=s.$partition_path(e),n=null==(t=u(r))[0]?m:t[0],o=null==t[1]?m:t[1],i(e["$include?"](x("DOT_DOT")))?($=[],c(n,"each",[],(function(e){return null==e&&(e=m),a(e,x("DOT_DOT"))?$.$pop():$["$<<"](e)})),s.$join_path($,o)):s.$join_path(n,o)})),s(v,"$partition_path",(function(e,t){var r,n,o=this,s=m,a=m,$=m,u=m;return null==t&&(t=m),i(n=(s=i(t)?o._partition_path_web:o._partition_path_sys)["$[]"](e))?n:(a=o.$posixify(e),i(t)?i(o["$web_root?"](a))?$=x("SLASH"):i(a["$start_with?"](x("DOT_SLASH")))&&($=x("DOT_SLASH")):i(o["$root?"](a))?$=i(o["$unc?"](a))?x("DOUBLE_SLASH"):i(a["$start_with?"](x("SLASH")))?x("SLASH"):a.$slice(0,l(a.$index(x("SLASH")),1)):i(a["$start_with?"](x("DOT_SLASH")))&&($=x("DOT_SLASH")),(u=(i($)?a.$slice($.$length(),a.$length()):a).$split(x("SLASH"))).$delete(x("DOT")),c(s,"[]=",r=[e,[u,$]]),r[r.length-1])}),-2),s(v,"$join_path",(function(e,t){return null==t&&(t=m),i(t)?""+t+e.$join(x("SLASH")):e.$join(x("SLASH"))}),-2),s(v,"$system_path",(function(e,t,r,n){var s,$,h=this,f=m,b=m,v=m,y=m,k=m,w=m,A=m,E=m,S=m,C=m,O=m;if(null==t&&(t=m),null==r&&(r=m),null==n&&(n=o([],{})),i(r)&&(i(h["$root?"](r))||h.$raise(g("SecurityError"),"Jail is not an absolute path: "+r),r=h.$posixify(r)),i(e)){if(i(h["$root?"](e))){if(f=h.$expand_path(e),i(r)&&_(h["$descends_from?"](f,r))){if(i(n.$fetch("recover",!0)))return h.$logger().$warn((i(b=n["$[]"]("target_name"))?b:"path")+" is outside of jail; recovering automatically"),$=h.$partition_path(f),v=null==(s=u($))[0]?m:s[0],$=h.$partition_path(r),s=u($),y=null==s[0]?m:s[0],k=null==s[1]?m:s[1],h.$join_path(l(y,v),k);h.$raise(g("SecurityError"),(i(b=n["$[]"]("target_name"))?b:"path")+" "+e+" is outside of jail: "+r+" (disallowed in safe mode)")}return f}$=h.$partition_path(e),v=null==(s=u($))[0]?m:s[0]}else v=[];if(i(v["$empty?"]())){if(i(t["$nil_or_empty?"]()))return i(b=r)?b:h.working_dir;if(i(h["$root?"](t))){if(!i(r))return h.$expand_path(t);t=h.$posixify(t)}else $=h.$partition_path(t),v=null==(s=u($))[0]?m:s[0],t=i(b=r)?b:h.working_dir}else i(t["$nil_or_empty?"]())?t=i(b=r)?b:h.working_dir:i(h["$root?"](t))?i(r)&&(t=h.$posixify(t)):t=(i(b=r)?b:h.working_dir).$chomp("/")+"/"+t;return i(r)&&i(w=h["$descends_from?"](t,r)["$!"]())&&a(h.file_separator,x("BACKSLASH"))?($=h.$partition_path(t),A=null==(s=u($))[0]?m:s[0],E=null==s[1]?m:s[1],$=h.$partition_path(r),s=u($),y=null==s[0]?m:s[0],k=null==s[1]?m:s[1],d(E,k)&&(i(n.$fetch("recover",!0))?(h.$logger().$warn("start path for "+(i(b=n["$[]"]("target_name"))?b:"path")+" is outside of jail root; recovering automatically"),A=y,w=!1):h.$raise(g("SecurityError"),"start path for "+(i(b=n["$[]"]("target_name"))?b:"path")+" "+t+" refers to location outside jail root: "+r+" (disallowed in safe mode)"))):($=h.$partition_path(t),A=null==(s=u($))[0]?m:s[0],k=null==s[1]?m:s[1]),i((S=l(A,v))["$include?"](x("DOT_DOT")))&&(C=(s=[S,[]])[0],S=s[1],i(r)?(i(y)||($=h.$partition_path(r),s=u($),y=null==s[0]?m:s[0]),O=!1,c(C,"each",[],(function t(o){var s=null==t.$$s?this:t.$$s;return null==o&&(o=m),a(o,x("DOT_DOT"))?i(p(S.$size(),y.$size()))?S.$pop():i(n.$fetch("recover",!0))?i(O)?m:(s.$logger().$warn((i(b=n["$[]"]("target_name"))?b:"path")+" has illegal reference to ancestor of jail; recovering automatically"),O=!0):s.$raise(g("SecurityError"),(i(b=n["$[]"]("target_name"))?b:"path")+" "+e+" refers to location outside jail: "+r+" (disallowed in safe mode)"):S["$<<"](o)}),{$$s:h})):c(C,"each",[],(function(e){return null==e&&(e=m),a(e,x("DOT_DOT"))?S.$pop():S["$<<"](e)}))),i(w)?(f=h.$join_path(S,k),i(h["$descends_from?"](f,r))?f:i(n.$fetch("recover",!0))?(h.$logger().$warn((i(b=n["$[]"]("target_name"))?b:"path")+" is outside of jail; recovering automatically"),i(y)||($=h.$partition_path(r),s=u($),y=null==s[0]?m:s[0]),h.$join_path(l(y,v),k)):h.$raise(g("SecurityError"),(i(b=n["$[]"]("target_name"))?b:"path")+" "+e+" is outside of jail: "+r+" (disallowed in safe mode)")):h.$join_path(S,k)}),-2),s(v,"$web_path",(function(e,t){var r,n,o,s,$=this,l=m,_=m,p=m;return null==t&&(t=m),e=$.$posixify(e),t=$.$posixify(t),i(t["$nil_or_empty?"]())||i($["$web_root?"](e))||(n=$.$extract_uri_prefix(""+t+(i(t["$end_with?"](x("SLASH")))?"":x("SLASH"))+e),e=null==(r=u(n))[0]?m:r[0],l=null==r[1]?m:r[1]),n=$.$partition_path(e,!0),o=null==(r=u(n))[0]?m:r[0],s=null==r[1]?m:r[1],_=[],c(o,"each",[],(function(e){return null==e&&(e=m),a(e,x("DOT_DOT"))?i(_["$empty?"]())?i(s)&&d(s,x("DOT_SLASH"))?m:_["$<<"](e):a(_["$[]"](-1),x("DOT_DOT"))?_["$<<"](e):_.$pop():_["$<<"](e)})),i((p=$.$join_path(_,s))["$include?"](" "))&&(p=p.$gsub(" ","%20")),i(l)?""+l+p:p}),-2),v.$private(),s(v,"$extract_uri_prefix",(function(e){var t;return i(e["$include?"](":"))&&i(x("UriSniffRx")["$=~"](e))?[e.$slice(((t=h["~"])===m?m:t["$[]"](0)).$length(),e.$length()),(t=h["~"])===m?m:t["$[]"](0)]:e}))}(v[0],0,v)}(f[0],f)},Opal.modules["asciidoctor/reader"]=function(e){var t=e.module,r=e.klass,n=e.def,i=e.rb_plus,o=e.alias,s=e.hash2,a=e.not,$=e.eqeqeq,l=e.to_ary,u=e.truthy,c=e.rb_gt,_=e.send,d=e.rb_minus,p=e.thrower,h=e.eqeq,f=e.rb_times,m=e.neqeq,g=e.to_a,b=e.assign_ivar_val,v=e.send2,y=e.find_super,x=e.rb_ge,k=e.gvars,w=e.rb_lt,A=e.hash,E=[],S=e.nil,C=e.$$$;return e.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,>,slice,[],length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(E,O){var R=[t(E,"Asciidoctor")].concat(O),I=e.$r(R);return function(t,v,y){var x=r(t,null,"Reader"),k=[x].concat(y),w=e.$r(k),A=x.$$prototype;A.file=A.lines=A.look_ahead=A.unescape_next_line=A.lineno=A.process_lines=A.dir=A.path=A.mark=A.source_lines=A.saved=S,x.$include(w("Logging")),function(e,t){var s=r(e,null,"Cursor"),a=s.$$prototype;a.lineno=a.path=S,s.$attr_reader("file","dir","path","lineno"),n(s,"$initialize",(function(e,t,r,n){var i,o=this;return null==t&&(t=S),null==r&&(r=S),null==n&&(n=1),i=[e,t,r,n],o.file=i[0],o.dir=i[1],o.path=i[2],o.lineno=i[3],i}),-2),n(s,"$advance",(function(e){return this.lineno=i(this.lineno,e)})),n(s,"$line_info",(function(){return this.path+": line "+this.lineno})),o(s,"to_s","line_info")}(k[0]),x.$attr_reader("file"),x.$attr_reader("dir"),x.$attr_reader("path"),x.$attr_reader("lineno"),x.$attr_reader("source_lines"),x.$attr_accessor("process_lines"),x.$attr_accessor("unterminated"),n(x,"$initialize",(function(e,t,r){var n,i,o=this,c=S;return null==e&&(e=S),null==t&&(t=S),null==r&&(r=s([],{})),a(t)?(o.file=S,o.dir=".",o.path="<stdin>",o.lineno=1):$(C("String"),t)?(o.file=t,i=C("File").$split(o.file),n=l(i),o.dir=null==n[0]?S:n[0],o.path=null==n[1]?S:n[1],o.lineno=1):(u(o.file=t.$file())?(o.dir=u(c=t.$dir())?c:C("File").$dirname(o.file),o.path=u(c=t.$path())?c:C("File").$basename(o.file)):(o.dir=u(c=t.$dir())?c:".",o.path=u(c=t.$path())?c:"<stdin>"),o.lineno=u(c=t.$lineno())?c:1),o.lines=(o.source_lines=o.$prepare_lines(e,r)).$reverse(),o.mark=S,o.look_ahead=0,o.process_lines=!0,o.unescape_next_line=!1,o.unterminated=S,o.saved=S}),-1),n(x,"$has_more_lines?",(function(){return!u(this.lines["$empty?"]())||(this.look_ahead=0,!1)})),n(x,"$empty?",(function(){return!!u(this.lines["$empty?"]())&&(this.look_ahead=0,!0)})),o(x,"eof?","empty?"),n(x,"$next_line_empty?",(function(){return this.$peek_line()["$nil_or_empty?"]()})),n(x,"$peek_line",(function(e){var t=this,r=S,n=S;return null==e&&(e=!1),u(e)||u(c(t.look_ahead,0))?u(t.unescape_next_line)?(r=t.lines["$[]"](-1)).$slice(1,r.$length()):t.lines["$[]"](-1):u(t.lines["$empty?"]())?(t.look_ahead=0,S):u(n=t.$process_line(t.lines["$[]"](-1)))?n:t.$peek_line()}),-1),n(x,"$peek_lines",(function(e,t){var r,n=this,i=S,o=S;return null==e&&(e=S),null==t&&(t=!1),r=n.look_ahead,i=[],function(){try{var r=p("break");_(u(o=e)?o:w("MAX_INT"),"times",[],(function e(){var n,o=null==e.$$s?this:e.$$s;if(null==o.lineno&&(o.lineno=S),u(n=u(t)?o.$shift():o.$read_line()))return i["$<<"](n);u(t)&&(o.lineno=d(o.lineno,1)),r.$throw()}),{$$s:n})}catch(e){if(e===r)return e.$v;throw e}}(),u(i["$empty?"]())||(n.$unshift_all(i),u(t)&&(n.look_ahead=r)),i}),-1),n(x,"$read_line",(function(){var e=this;return u(c(e.look_ahead,0))||u(e["$has_more_lines?"]())?e.$shift():S})),n(x,"$read_lines",(function(){var e=S;for(e=[];u(this["$has_more_lines?"]());)e["$<<"](this.$shift());return e})),o(x,"readlines","read_lines"),n(x,"$read",(function(){return this.$read_lines().$join(w("LF"))})),n(x,"$advance",(function(){return!!u(this.$shift())})),n(x,"$unshift_line",(function(e){return this.$unshift(e),S})),o(x,"restore_line","unshift_line"),n(x,"$unshift_lines",(function(e){return this.$unshift_all(e)})),o(x,"restore_lines","unshift_lines"),n(x,"$replace_next_line",(function(e){return this.$shift(),this.$unshift(e),!0})),o(x,"replace_line","replace_next_line"),n(x,"$skip_blank_lines",(function(){var e=this,t=S,r=S;if(u(e["$empty?"]()))return S;for(t=0;u(r=e.$peek_line());){if(!u(r["$empty?"]()))return t;e.$shift(),t=i(t,1)}})),n(x,"$skip_comment_lines",(function(){var e=this,t=S,r=S,n=S;if(u(e["$empty?"]()))return S;for(;u(u(t=r=e.$peek_line())?r["$empty?"]()["$!"]():t)&&u(r["$start_with?"]("//"));)if(u(r["$start_with?"]("///"))){if(!u(c(n=r.$length(),3))||!h(r,f("/",n)))break;e.$read_lines_until(s(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:r,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else e.$shift();return S})),n(x,"$skip_line_comments",(function(){var e=this,t=S,r=S,n=S;if(u(e["$empty?"]()))return[];for(t=[];u(u(r=n=e.$peek_line())?n["$empty?"]()["$!"]():r)&&u(n["$start_with?"]("//"));)t["$<<"](e.$shift());return t})),n(x,"$terminate",(function(){var e=this;return e.lineno=i(e.lineno,e.lines.$size()),e.lines.$clear(),e.look_ahead=0,S})),n(x,"$read_lines_until",(function t(r){var n,i,o,$=t.$$p||S,l=this,c=S,p=S,f=S,g=S,b=S,v=S,y=S,x=S,k=S,A=S,E=S,C=S,O=S,R=S;for(t.$$p=null,null==r&&(r=s([],{})),c=[],u(l.process_lines)&&u(r["$[]"]("skip_processing"))&&(l.process_lines=!1,p=!0),u(i=r["$[]"]("terminator"))?(f=u(g=r["$[]"]("cursor"))?g:l.$cursor(),b=!1,v=!1):(b=r["$[]"]("break_on_blank_lines"),v=r["$[]"]("break_on_list_continuation")),o=r["$[]"]("skip_line_comments"),y=x=S,u(r["$[]"]("skip_first_line"))&&l.$shift();u(k=l.$read_line());){if(u(u(i)?k["$=="](i):u(g=u(A=u(E=b)?k["$empty?"]():E)?A:u(E=u(C=u(O=v)?y:O)?k["$=="](w("LIST_CONTINUATION")):C)?(_(r,"[]=",n=["preserve_last_line",!0]),n[n.length-1]):E)?g:u(A=$!==S)?e.yield1($,k):A)){u(r["$[]"]("read_last_line"))&&c["$<<"](k),u(r["$[]"]("preserve_last_line"))&&(l.$unshift(k),x=!0);break}u(o)&&u(k["$start_with?"]("//"))&&a(k["$start_with?"]("///"))||(c["$<<"](k),y=!0)}return u(p)&&(l.process_lines=!0,u(x)&&a(i)&&(l.look_ahead=d(l.look_ahead,1))),u(i)&&m(i,k)&&u(R=r.$fetch("context",i))&&(h(f,"at_mark")&&(f=l.$cursor_at_mark()),l.$logger().$warn(l.$message_with_context("unterminated "+R+" block",s(["source_location"],{source_location:f}))),l.unterminated=!0),c}),-1),n(x,"$shift",(function(){var e=this;return e.lineno=i(e.lineno,1),h(e.look_ahead,0)||(e.look_ahead=d(e.look_ahead,1)),e.lines.$pop()})),n(x,"$unshift",(function(e){var t=this;return t.lineno=d(t.lineno,1),t.look_ahead=i(t.look_ahead,1),t.lines.$push(e),S})),h(C("RUBY_ENGINE"),"jruby")?n(x,"$unshift_all",(function(e){var t=this;return t.lineno=d(t.lineno,e.$size()),t.look_ahead=i(t.look_ahead,e.$size()),u(e["$respond_to?"]("reverse"))?_(t.lines,"push",g(e.$reverse())):_(e,"reverse_each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.lines&&(r.lines=S),null==t&&(t=S),r.lines.$push(t)}),{$$s:t}),S})):n(x,"$unshift_all",(function(e){var t=this;return t.lineno=d(t.lineno,e.$size()),t.look_ahead=i(t.look_ahead,e.$size()),_(t.lines,"push",g(e.$reverse())),S})),n(x,"$cursor",(function(){var e=this;return w("Cursor").$new(e.file,e.dir,e.path,e.lineno)})),n(x,"$cursor_at_line",(function(e){var t=this;return w("Cursor").$new(t.file,t.dir,t.path,e)})),n(x,"$cursor_at_mark",(function(){var e=this;return u(e.mark)?_(w("Cursor"),"new",g(e.mark)):e.$cursor()})),n(x,"$cursor_before_mark",(function(){var e,t,r=this,n=S,i=S,o=S,s=S;return u(r.mark)?(t=r.mark,n=null==(e=l(t))[0]?S:e[0],i=null==e[1]?S:e[1],o=null==e[2]?S:e[2],s=null==e[3]?S:e[3],w("Cursor").$new(n,i,o,d(s,1))):w("Cursor").$new(r.file,r.dir,r.path,d(r.lineno,1))})),n(x,"$cursor_at_prev_line",(function(){var e=this;return w("Cursor").$new(e.file,e.dir,e.path,d(e.lineno,1))})),n(x,"$mark",(function(){var e=this;return e.mark=[e.file,e.dir,e.path,e.lineno]})),n(x,"$line_info",(function(){return this.path+": line "+this.lineno})),n(x,"$lines",(function(){return this.lines.$reverse()})),n(x,"$string",(function(){return this.lines.$reverse().$join(w("LF"))})),n(x,"$source",(function(){return this.source_lines.$join(w("LF"))})),n(x,"$save",(function(){return this.saved=_(s([],{}),"tap",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),_(r.$instance_variables(),"each",[],(function e(r){var n,i=null==e.$$s?this:e.$$s,o=S;return null==r&&(r=S),h(r,"@saved")||h(r,"@source_lines")?S:(n=[r,$(C("Array"),o=i.$instance_variable_get(r))?o.$drop(0):o],_(t,"[]=",n),n[n.length-1])}),{$$s:r})}),{$$s:this}),S})),n(x,"$restore_save",(function(){var e=this;return u(e.saved)?(_(e.saved,"each",[],(function e(t,r){return null==t&&(t=S),null==r&&(r=S),(null==e.$$s?this:e.$$s).$instance_variable_set(t,r)}),{$$s:e}),e.saved=S):S})),n(x,"$discard_save",b("saved",S)),n(x,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line: "+e.lineno+"}>"})),x.$private(),n(x,"$prepare_lines",(function(t,r){var n=S;null==r&&(r=s([],{}));try{return u(n=r["$[]"]("normalize"))?$(C("Array"),t)?w("Helpers").$prepare_source_array(t,n["$!="]("chomp")):w("Helpers").$prepare_source_string(t,n["$!="]("chomp")):$(C("Array"),t)?t.$drop(0):u(t)?t.$chomp().$split(w("LF"),-1):[]}catch(r){if(!e.rescue(r,[w("StandardError")]))throw r;try{return u(($(C("Array"),t)?t.$join():t.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(C("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}}}),-2),n(x,"$process_line",(function(e){var t=this;return u(t.process_lines)&&(t.look_ahead=i(t.look_ahead,1)),e}))}(R[0],0,R),function(t,f,b){var E=r(t,f,"PreprocessorReader"),O=[E].concat(b),R=e.$r(O),I=E.$$prototype;return I.include_stack=I.lines=I.file=I.dir=I.path=I.lineno=I.maxdepth=I.process_lines=I.includes=I.document=I.unescape_next_line=I.include_processor_extensions=I.look_ahead=I.skipping=I.conditional_stack=S,E.$attr_reader("include_stack"),n(E,"$initialize",(function e(t,r,n,i){var o,a,$=this;return e.$$p=null,null==r&&(r=S),null==n&&(n=S),null==i&&(i=s([],{})),$.document=t,v($,y($,"initialize",e,!1,!0),"initialize",[r,n,i],null),u(c(o=(u(a=t.$attributes()["$[]"]("max-include-depth"))?a:64).$to_i(),0))?$.maxdepth=s(["abs","curr","rel"],{abs:o,curr:o,rel:o}):$.maxdepth=S,$.include_stack=[],$.includes=t.$catalog()["$[]"]("includes"),$.skipping=!1,$.conditional_stack=[],$.include_processor_extensions=S}),-2),n(E,"$has_more_lines?",(function(){return!!u(this.$peek_line())})),n(E,"$empty?",(function(){return!u(this.$peek_line())})),o(E,"eof?","empty?"),n(E,"$peek_line",(function e(t){var r,n=e.$$p||S,i=this;return e.$$p=null,null==t&&(t=!1),u(r=v(i,y(i,"peek_line",e,!1,!0),"peek_line",[t],n))?r:u(i.include_stack["$empty?"]())?S:(i.$pop_include(),i.$peek_line(t))}),-1),n(E,"$push_include",(function(e,t,r,n,o){var a=this,l=S,p=S,f=S,m=S,b=S,v=S;return null==t&&(t=S),null==r&&(r=S),null==n&&(n=1),null==o&&(o=s([],{})),a.include_stack["$<<"]([a.lines,a.file,a.dir,a.path,a.lineno,a.maxdepth,a.process_lines]),u(a.file=t)?($(C("String"),t)?a.dir=C("File").$dirname(t):u(R("RUBY_ENGINE_OPAL"))?a.dir=C("URI").$parse(C("File").$dirname(t=t.$to_s())):((a.dir=t.$dup())["$path="](h(l=C("File").$dirname(t.$path()),"/")?"":l),t=t.$to_s()),a.path=r=u(p=r)?p:C("File").$basename(t),u(a.process_lines=_(t,"end_with?",g(R("ASCIIDOC_EXTENSIONS").$keys())))&&(u(p=a.includes["$[]"](r.$slice(0,r.$rindex("."))))||a.includes["$[]="](r.$slice(0,r.$rindex(".")),!u(o["$[]"]("partial-option"))||S))):(a.dir=".",a.process_lines=!0,u(a.path=r)?u(p=a.includes["$[]"](R("Helpers").$rootname(r)))||a.includes["$[]="](R("Helpers").$rootname(r),!u(o["$[]"]("partial-option"))||S):a.path="<stdin>"),a.lineno=n,u(a.maxdepth)&&u(o["$key?"]("depth"))&&(u(c(f=o["$[]"]("depth").$to_i(),0))?(u(c(m=i(a.include_stack.$size(),f),b=a.maxdepth["$[]"]("abs")))&&(m=f=b),a.maxdepth=s(["abs","curr","rel"],{abs:b,curr:m,rel:f})):a.maxdepth=s(["abs","curr","rel"],{abs:a.maxdepth["$[]"]("abs"),curr:a.include_stack.$size(),rel:0})),u((a.lines=a.$prepare_lines(e,s(["normalize","condense","indent"],{normalize:u(p=a.process_lines)?p:"chomp",condense:!1,indent:o["$[]"]("indent")})))["$empty?"]())?a.$pop_include():(u(o["$key?"]("leveloffset"))?(a.lines=i(i([u(v=a.document.$attr("leveloffset"))?":leveloffset: "+v:":leveloffset!:",""],a.lines.$reverse()),["",":leveloffset: "+o["$[]"]("leveloffset")]),a.lineno=d(a.lineno,2)):a.lines["$reverse!"](),a.look_ahead=0),a}),-2),n(E,"$include_depth",(function(){return this.include_stack.$size()})),n(E,"$exceeds_max_depth?",(function(){var e,t,r=this;return u(e=u(t=r.maxdepth)?x(r.include_stack.$size(),r.maxdepth["$[]"]("curr")):t)?r.maxdepth["$[]"]("rel"):e})),o(E,"exceeded_max_depth?","exceeds_max_depth?"),n(E,"$shift",(function e(){var t=e.$$p||S,r=this,n=S;return e.$$p=null,u(r.unescape_next_line)?(r.unescape_next_line=!1,(n=v(r,y(r,"shift",e,!1,!0),"shift",[],t)).$slice(1,n.$length())):v(r,y(r,"shift",e,!1,!0),"shift",[],t)})),n(E,"$include_processors?",(function(){var e=this;return u(e.include_processor_extensions["$nil?"]())?u(e.document["$extensions?"]())&&u(e.document.$extensions()["$include_processors?"]())?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)})),n(E,"$create_include_cursor",(function(e,t,r){var n=S;return $(C("String"),e)?n=C("File").$dirname(e):u(R("RUBY_ENGINE_OPAL"))?n=C("File").$dirname(e=e.$to_s()):(n=h(n=C("File").$dirname(e.$path()),"")?"/":n,e=e.$to_s()),R("Cursor").$new(e,n,t,r)})),n(E,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+_(e.include_stack,"map",[],(function(e){return null==e&&(e=S),e.$to_s()})).$join(", ")+"]}>"})),E.$private(),n(E,"$prepare_lines",(function e(t,r){var n=e.$$p||S,i=this,o=S,a=S,$=S,l=S;if(e.$$p=null,null==r&&(r=s([],{})),o=v(i,y(i,"prepare_lines",e,!1,!0),"prepare_lines",[t,r],n),u(i.document)&&u(i.document.$attributes()["$[]"]("skip-front-matter"))&&u(a=i["$skip_front_matter!"](o))&&i.document.$attributes()["$[]="]("front-matter",a.$join(R("LF"))),u(r.$fetch("condense",!0)))for(;u(u($=l=o["$[]"](-1))?l["$empty?"]():$);)o.$pop();return u(r["$[]"]("indent"))&&R("Parser")["$adjust_indentation!"](o,r["$[]"]("indent").$to_i(),i.document.$attr("tabsize").$to_i()),o}),-2),n(E,"$process_line",(function(e){var t,r=this;return u(r.process_lines)?u(e["$empty?"]())?(r.look_ahead=i(r.look_ahead,1),e):u(e["$end_with?"]("]"))&&a(e["$start_with?"]("["))&&u(e["$include?"]("::"))?u(e["$include?"]("if"))&&u(R("ConditionalDirectiveRx")["$=~"](e))?h((t=k["~"])===S?S:t["$[]"](1),"\\")?(r.unescape_next_line=!0,r.look_ahead=i(r.look_ahead,1),e.$slice(1,e.$length())):u(r.$preprocess_conditional_directive((t=k["~"])===S?S:t["$[]"](2),(t=k["~"])===S?S:t["$[]"](3),(t=k["~"])===S?S:t["$[]"](4),(t=k["~"])===S?S:t["$[]"](5)))?(r.$shift(),S):(r.look_ahead=i(r.look_ahead,1),e):u(r.skipping)?(r.$shift(),S):u(e["$start_with?"]("inc","\\inc"))&&u(R("IncludeDirectiveRx")["$=~"](e))?h((t=k["~"])===S?S:t["$[]"](1),"\\")?(r.unescape_next_line=!0,r.look_ahead=i(r.look_ahead,1),e.$slice(1,e.$length())):u(r.$preprocess_include_directive((t=k["~"])===S?S:t["$[]"](2),(t=k["~"])===S?S:t["$[]"](3)))?S:(r.look_ahead=i(r.look_ahead,1),e):(r.look_ahead=i(r.look_ahead,1),e):u(r.skipping)?(r.$shift(),S):(r.look_ahead=i(r.look_ahead,1),e):e})),n(E,"$preprocess_conditional_directive",(function(t,r,n,i){var o,$,l=this,c=S,p=S,f=S,m=S,g=S;if(u($=r["$empty?"]())||(r=r.$downcase()),h(t,"endif"))return u(i)?l.$logger().$error(l.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+r+"["+i+"]",s(["source_location"],{source_location:l.$cursor()}))):u(l.conditional_stack["$empty?"]())?l.$logger().$error(l.$message_with_context("unmatched preprocessor directive: endif::"+r+"[]",s(["source_location"],{source_location:l.$cursor()}))):u($)||h(r,(c=l.conditional_stack["$[]"](-1))["$[]"]("target"))?(l.conditional_stack.$pop(),l.skipping=!u(l.conditional_stack["$empty?"]())&&l.conditional_stack["$[]"](-1)["$[]"]("skipping")):l.$logger().$error(l.$message_with_context("mismatched preprocessor directive: endif::"+r+"[], expected endif::"+c["$[]"]("target")+"[]",s(["source_location"],{source_location:l.$cursor()}))),!0;if(u(l.skipping))p=!1;else switch(t){case"ifdef":if(u($))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+i+"]",s(["source_location"],{source_location:l.$cursor()}))),!0;switch(n){case",":p=_(r.$split(",",-1),"none?",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.document&&(r.document=S),null==t&&(t=S),r.document.$attributes()["$key?"](t)}),{$$s:l});break;case"+":p=_(r.$split("+",-1),"any?",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.document&&(r.document=S),null==t&&(t=S),r.document.$attributes()["$key?"](t)["$!"]()}),{$$s:l});break;default:p=l.document.$attributes()["$key?"](r)["$!"]()}break;case"ifndef":if(u($))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+i+"]",s(["source_location"],{source_location:l.$cursor()}))),!0;switch(n){case",":p=_(r.$split(",",-1),"any?",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.document&&(r.document=S),null==t&&(t=S),r.document.$attributes()["$key?"](t)}),{$$s:l});break;case"+":p=_(r.$split("+",-1),"all?",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.document&&(r.document=S),null==t&&(t=S),r.document.$attributes()["$key?"](t)}),{$$s:l});break;default:p=l.document.$attributes()["$key?"](r)}break;case"ifeval":if(!u($))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+r+"["+i+"]",s(["source_location"],{source_location:l.$cursor()}))),!0;if(!u(i)||!u(R("EvalExpressionRx")["$=~"](i.$strip())))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - "+(u(i)?"invalid expression":"missing expression")+": ifeval::["+i+"]",s(["source_location"],{source_location:l.$cursor()}))),!0;f=(o=k["~"])===S?S:o["$[]"](1),m=(o=k["~"])===S?S:o["$[]"](2),g=(o=k["~"])===S?S:o["$[]"](3),p=function(){try{return!u(l.$resolve_expr_val(f).$send(m,l.$resolve_expr_val(g)))}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return!0}finally{e.pop_exception()}}}()}return h(t,"ifeval")||a(i)?(u(p)&&(l.skipping=!0),l.conditional_stack["$<<"](s(["target","skip","skipping"],{target:r,skip:p,skipping:l.skipping}))):u(l.skipping)||u(p)||(l.$replace_next_line(i.$rstrip()),l.$unshift(""),u(i["$start_with?"]("include::"))&&(l.look_ahead=d(l.look_ahead,1))),!0})),n(E,"$preprocess_include_directive",(function(t,r){var n,o,f=this,g=S,b=S,v=S,y=S,E=S,O=S,I=S,T=S,z=S,F=S,N=S,L=S,D=S,q=S,B=S,M=S,j=S,P=S,U=S,H=S,Y=S,G=S,W=S,K=S,X=S,V=S,J=S;if(g=f.document,u((b=t)["$include?"](R("ATTR_REF_HEAD")))&&u((b=g.$sub_attributes(t,s(["attribute_missing"],{attribute_missing:h(v=u(y=g.$attributes()["$[]"]("attribute-missing"))?y:R("Compliance").$attribute_missing(),"warn")?"drop-line":v})))["$empty?"]()))return h(v,"drop-line")&&u(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(_(f.$logger(),"info",[],(function e(){var n=null==e.$$s?this:e.$$s;return n.$message_with_context("include dropped due to missing attribute: include::"+t+"["+r+"]",s(["source_location"],{source_location:n.$cursor()}))}),{$$s:f}),f.$shift(),!0):u(g.$parse_attributes(r,[],s(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(_(f.$logger(),"info",[],(function e(){var n=null==e.$$s?this:e.$$s;return n.$message_with_context("optional include dropped "+(h(v,"warn")&&u(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+t+"["+r+"]",s(["source_location"],{source_location:n.$cursor()}))}),{$$s:f}),f.$shift(),!0):(f.$logger().$warn(f.$message_with_context("include dropped "+(h(v,"warn")&&u(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+t+"["+r+"]",s(["source_location"],{source_location:f.$cursor()}))),f.$replace_next_line("Unresolved directive in "+f.path+" - include::"+t+"["+r+"]"));if(u(f["$include_processors?"]())&&u(E=_(f.include_processor_extensions,"find",[],(function(e){return null==e&&(e=S),e.$instance()["$handles?"](b)}))))return f.$shift(),E.$process_method()["$[]"](g,f,b,g.$parse_attributes(r,[],s(["sub_input"],{sub_input:!0}))),!0;if(u(x(g.$safe(),C(R("SafeMode"),"SECURE"))))return f.$replace_next_line("link:"+b+"[role=include]");if(u(f.maxdepth)){if(u(x(f.include_stack.$size(),f.maxdepth["$[]"]("curr"))))return f.$logger().$error(f.$message_with_context("maximum include depth of "+f.maxdepth["$[]"]("rel")+" exceeded",s(["source_location"],{source_location:f.$cursor()}))),S;switch(O=g.$parse_attributes(r,[],s(["sub_input"],{sub_input:!0})),o=f.$resolve_include_path(b,r,O),n=l(o),I=null==n[0]?S:n[0],T=null==n[1]?S:n[1],z=null==n[2]?S:n[2],T){case"file":F=C("File").$method("open"),N=R("FILE_READ_MODE");break;case"uri":F=C("OpenURI").$method("open_uri"),N=R("URI_READ_MODE");break;default:return I}if(u(R("RUBY_ENGINE_OPAL"))||u(L=O["$[]"]("encoding"))&&u(function(){try{return C("Encoding").$find(L)}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return S}finally{e.pop_exception()}}}())&&((D=N.$split(":"))["$[]="](1,L),N=D.$join(":")),q=B=S,u(r)&&(u(O["$key?"]("lines"))?(q=[],_(f.$split_delimited_value(O["$[]"]("lines")),"each",[],(function(t){var r,n,o=S,s=S;return null==t&&(t=S),u(t["$include?"](".."))?(n=t.$partition(".."),o=null==(r=l(n))[0]?S:r[0],null==r[1]||r[1],s=null==r[2]?S:r[2],q=i(q,u(s["$empty?"]())||u(w(s=s.$to_i(),0))?[o.$to_i(),C(C("Float"),"INFINITY")]:e.Range.$new(o.$to_i(),s,!1).$to_a())):q["$<<"](t.$to_i())})),q=u(q["$empty?"]())?S:q.$sort().$uniq()):u(O["$key?"]("tag"))?u((M=O["$[]"]("tag"))["$empty?"]())||h(M,"!")||(B=u(M["$start_with?"]("!"))?A(M.$slice(1,M.$length()),!1):A(M,!0)):u(O["$key?"]("tags"))&&(B=s([],{}),_(f.$split_delimited_value(O["$[]"]("tags")),"each",[],(function(e){var t;return null==e&&(e=S),u(e["$empty?"]())||h(e,"!")?S:u(e["$start_with?"]("!"))?(t=[e.$slice(1,e.$length()),!1],_(B,"[]=",t),t[t.length-1]):(_(B,"[]=",t=[e,!0]),t[t.length-1])})),u(B["$empty?"]())&&(B=S))),u(q)){j=(n=[[],S,0])[0],P=n[1],U=n[2];try{_(F,"call",[I,N],(function(e){var t=S;return null==e&&(e=S),t=S,function(){try{var r=p("break");return _(e,"each_line",[],(function(e){var n=S;return null==e&&(e=S),U=i(U,1),u(t)||$(C("Float"),n=q["$[]"](0))&&u(t=n["$infinite?"]())?(P=u(y=P)?y:U,j["$<<"](e)):(h(n,U)&&(P=u(y=P)?y:U,j["$<<"](e),q.$shift()),u(q["$empty?"]())?void r.$throw():S)}))}catch(e){if(e===r)return e.$v;throw e}}()}))}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return f.$logger().$error(f.$message_with_context("include "+T+" not readable: "+I,s(["source_location"],{source_location:f.$cursor()}))),f.$replace_next_line("Unresolved directive in "+f.path+" - include::"+b+"["+r+"]")}finally{e.pop_exception()}}f.$shift(),u(P)&&(O["$[]="]("partial-option",""),f.$push_include(j,I,z,P,O))}else if(u(B)){n=[[],S,0,[],C("Set").$new(),S],j=n[0],P=n[1],U=n[2],H=n[3],Y=n[4],G=n[5],u(B["$key?"]("**"))?(W=K=B.$delete("**"),u(B["$key?"]("*"))?X=B.$delete("*"):a(W)&&h(B.$values().$first(),!1)&&(X=!0)):u(B["$key?"]("*"))?h(B.$keys().$first(),"*")?W=K=(X=B.$delete("*"))["$!"]():(W=K=!1,X=B.$delete("*")):W=K=B["$value?"](!0)["$!"]();try{_(F,"call",[I,N],(function e(t){var r,n,o;return null==t&&(t=S),n=(r=["::","[]"])[0],o=r[1],_(t,"each_line",[],(function e(t){var r,$,c=null==e.$$s?this:e.$$s,d=S,p=S,f=S;return null==t&&(t=S),U=i(U,1),u(t["$include?"](n))&&u(t["$include?"](o))&&u(R("TagDirectiveRx")["$=~"](t))?(d=(r=k["~"])===S?S:r["$[]"](2),u((r=k["~"])===S?S:r["$[]"](1))?h(d,G)?(H.$pop(),$=u(H["$empty?"]())?[S,K]:H["$[]"](-1),r=l($),G=null==r[0]?S:r[0],W=null==r[1]?S:r[1],$):u(B["$key?"](d))?(p=c.$create_include_cursor(I,b,U),u(f=_(H,"rindex",[],(function(e){return null==e&&(e=S),e["$=="](d)}),{$$has_trailing_comma_in_args:!0}))?(h(f,0)?H.$shift():H.$delete_at(f),c.$logger().$warn(c.$message_with_context("mismatched end tag (expected '"+G+"' but found '"+d+"') at line "+U+" of include "+T+": "+I,s(["source_location","include_location"],{source_location:c.$cursor(),include_location:p})))):c.$logger().$warn(c.$message_with_context("unexpected end tag '"+d+"' at line "+U+" of include "+T+": "+I,s(["source_location","include_location"],{source_location:c.$cursor(),include_location:p})))):S:u(B["$key?"](d))?(u(W=B["$[]"](d))&&Y["$<<"](d),H["$<<"]([G=d,W,U])):a(X["$nil?"]())?(W=(!u(G)||!a(W))&&X,H["$<<"]([G=d,W,U])):S):u(W)?(P=u(y=P)?y:U,j["$<<"](t)):S}),{$$s:null==e.$$s?this:e.$$s})}),{$$s:f})}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return f.$logger().$error(f.$message_with_context("include "+T+" not readable: "+I,s(["source_location"],{source_location:f.$cursor()}))),f.$replace_next_line("Unresolved directive in "+f.path+" - include::"+b+"["+r+"]")}finally{e.pop_exception()}}u(H["$empty?"]())||_(H,"each",[],(function e(t,r,n){var i=null==e.$$s?this:e.$$s;return null==t&&(t=S),null==n&&(n=S),i.$logger().$warn(i.$message_with_context("detected unclosed tag '"+t+"' starting at line "+n+" of include "+T+": "+I,s(["source_location","include_location"],{source_location:i.$cursor(),include_location:i.$create_include_cursor(I,b,n)})))}),{$$s:f}),u((V=d(_(B,"keep_if",[],(function(e,t){return null==t&&(t=S),t})).$keys(),Y.$to_a()))["$empty?"]())||f.$logger().$warn(f.$message_with_context("tag"+(u(c(V.$size(),1))?"s":"")+" '"+V.$join(", ")+"' not found in include "+T+": "+I,s(["source_location"],{source_location:f.$cursor()}))),f.$shift(),u(P)&&(u(K)&&m(X,!1)&&u(B["$empty?"]())||O["$[]="]("partial-option",""),f.$push_include(j,I,z,P,O))}else try{J=_(F,"call",[I,N],(function(e){return null==e&&(e=S),e.$read()})),f.$shift(),f.$push_include(J,I,z,1,O)}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return f.$logger().$error(f.$message_with_context("include "+T+" not readable: "+I,s(["source_location"],{source_location:f.$cursor()}))),f.$replace_next_line("Unresolved directive in "+f.path+" - include::"+b+"["+r+"]")}finally{e.pop_exception()}}return!0}return S})),n(E,"$resolve_include_path",(function(e,t,r){var n,i=this,o=S,l=S,c=S;return o=i.document,u(R("Helpers")["$uriish?"](e))||u($(C("String"),i.dir)?S:e=i.dir+"/"+e)?u(o["$attr?"]("allow-uri-read"))?(u(o["$attr?"]("cache-uri"))?u((n=C("::","OpenURI","skip_raise"))&&C(n,"Cache","skip_raise")?"constant":S)||R("Helpers").$require_library("open-uri/cached","open-uri-cached"):a(R("RUBY_ENGINE_OPAL"))&&C("OpenURI"),[C("URI").$parse(e),"uri",e]):i.$replace_next_line("link:"+e+"[role=include]"):(l=o.$normalize_system_path(e,i.dir,S,s(["target_name"],{target_name:"include file"})),u(C("File")["$file?"](l))?(c=o.$path_resolver().$relative_path(l,o.$base_dir()),[l,"file",c]):u(r["$[]"]("optional-option"))?(_(i.$logger(),"info",[],(function e(){var t=null==e.$$s?this:e.$$s;return t.$message_with_context("optional include dropped because include file not found: "+l,s(["source_location"],{source_location:t.$cursor()}))}),{$$s:i}),i.$shift(),!0):(i.$logger().$error(i.$message_with_context("include file not found: "+l,s(["source_location"],{source_location:i.$cursor()}))),i.$replace_next_line("Unresolved directive in "+i.path+" - include::"+e+"["+t+"]")))})),n(E,"$pop_include",(function(){var e,t,r=this;return u(r.include_stack["$empty?"]())||(t=r.include_stack.$pop(),e=l(t),r.lines=null==e[0]?S:e[0],r.file=null==e[1]?S:e[1],r.dir=null==e[2]?S:e[2],r.path=null==e[3]?S:e[3],r.lineno=null==e[4]?S:e[4],r.maxdepth=null==e[5]?S:e[5],r.process_lines=null==e[6]?S:e[6],r.look_ahead=0),S})),n(E,"$split_delimited_value",(function(e){return u(e["$include?"](","))?e.$split(","):e.$split(";")})),n(E,"$skip_front_matter!",(function(e,t){var r,n=this,o=S,s=S,a=S,$=S;if(null==t&&(t=!0),!h(r=e["$[]"](0),"---"))return S;for(o=e.$drop(0),e.$shift(),s=[],u(t)&&(n.lineno=i(n.lineno,1));!u(u(a=$=e["$empty?"]())?a:e["$[]"](0)["$=="](r));)s["$<<"](e.$shift()),u(t)&&(n.lineno=i(n.lineno,1));return u($)?(_(e,"unshift",g(o)),u(t)&&(n.lineno=d(n.lineno,o.$size())),S):(e.$shift(),u(t)&&(n.lineno=i(n.lineno,1)),s)}),-2),n(E,"$resolve_expr_val",(function(e){var t=S;return u(e["$start_with?"]('"'))&&u(e["$end_with?"]('"'))||u(e["$start_with?"]("'"))&&u(e["$end_with?"]("'"))?(t=!0,e=e.$slice(1,d(e.$length(),1))):t=!1,u(e["$include?"](R("ATTR_REF_HEAD")))&&(e=this.document.$sub_attributes(e,s(["attribute_missing"],{attribute_missing:"drop"}))),u(t)?e:u(e["$empty?"]())?S:!!h(e,"true")||!h(e,"false")&&(u(e.$rstrip()["$empty?"]())?" ":u(e["$include?"]("."))?e.$to_f():e.$to_i())}))}(R[0],I("Reader"),R)}(E[0],E)},Opal.modules["asciidoctor/section"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.send2,o=e.find_super,s=e.eqeqeq,a=e.truthy,$=e.rb_plus,l=e.def,u=e.alias,c=e.rb_gt,_=e.eqeq,d=e.not,p=e.send,h=e.defs,f=[],m=e.nil;return e.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(f,g){var b=[t(f,"Asciidoctor")].concat(g),v=e.$r(b);return function(t,f,g){var b=r(t,f,"Section"),v=[b].concat(g),y=e.$r(v),x=b.$$prototype;return x.document=x.next_section_index=x.parent=x.level=x.numeral=x.numbered=x.sectname=x.title=x.blocks=m,b.$attr_accessor("index"),b.$attr_accessor("sectname"),b.$attr_accessor("special"),b.$attr_accessor("numbered"),b.$attr_reader("caption"),l(b,"$initialize",(function e(t,r,l,u){var c,_=this,d=m;return e.$$p=null,null==t&&(t=m),null==r&&(r=m),null==l&&(l=!1),null==u&&(u=n([],{})),i(_,o(_,"initialize",e,!1,!0),"initialize",[t,"section",u],null),s(y("Section"),t)?(c=[a(d=r)?d:$(t.$level(),1),t.$special()],_.level=c[0],_.special=c[1]):(c=[a(d=r)?d:1,!1],_.level=c[0],_.special=c[1]),_.numbered=l,_.index=0}),-1),u(b,"name","title"),l(b,"$generate_id",(function(){return y("Section").$generate_id(this.$title(),this.document)})),l(b,"$sections?",(function(){return c(this.next_section_index,0)})),l(b,"$sectnum",(function(e,t){var r,n=this;return null==e&&(e="."),null==t&&(t=m),t=a(r=t)?r:_(t,!1)?"":e,a(c(n.level,1))&&s(y("Section"),n.parent)?""+n.parent.$sectnum(e,e)+n.numeral+t:""+n.numeral+t}),-1),l(b,"$xreftext",(function(e){var t=this,r=m,n=m,i=m,o=m;if(null==e&&(e=m),a(r=t.$reftext())&&d(r["$empty?"]()))return r;if(!a(e))return t.$title();if(!a(t.numbered))return _(n=t.sectname,"chapter")||_(n,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$title();switch(e){case"full":return i=_(n=t.sectname,"chapter")||_(n,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$sub_placeholder(t.$sub_quotes(a(t.document.$compat_mode())?"``%s''":'"`%s`"'),t.$title()),a(o=t.document.$attributes()["$[]"](n+"-refsig"))?o+" "+t.$sectnum(".",",")+" "+i:t.$sectnum(".",",")+" "+i;case"short":return a(o=t.document.$attributes()["$[]"](t.sectname+"-refsig"))?o+" "+t.$sectnum(".",""):t.$sectnum(".","");default:return _(n=t.sectname,"chapter")||_(n,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$title()}}),-1),l(b,"$<<",(function e(t){var r=e.$$p||m,n=this;return e.$$p=null,_(t.$context(),"section")&&n.$assign_numeral(t),i(n,o(n,"<<",e,!1,!0),"<<",[t],r)})),l(b,"$to_s",(function e(){var t=e.$$p||m,r=this,n=m;return e.$$p=null,a(r.title)?(n=a(r.numbered)?r.$sectnum()+" "+r.title:r.title,"#<"+r.$class()+"@"+r.$object_id()+" {level: "+r.level+", title: "+n.$inspect()+", blocks: "+r.blocks.$size()+"}>"):i(r,o(r,"to_s",e,!1,!0),"to_s",[],t)})),h(b,"$generate_id",(function(e,t){var r,n,i=m,o=m,s=m,l=m,u=m,c=m,h=m,f=m,g=m;if(i=t.$attributes(),o=a(n=i["$[]"]("idprefix"))?n:"_",a(s=i["$[]"]("idseparator"))?(_(s.$length(),1)||d(l=s["$empty?"]())&&a((r=["idseparator",s.$chr()],p(i,"[]=",r),s=r[r.length-1])))&&(u=_(s,"-")||_(s,".")?" .-":" "+s+".-"):(s=(r=["_"," _.-"])[0],u=r[1]),c=""+o+e.$downcase().$gsub(y("InvalidSectionIdCharsRx"),""),a(l)?c=c.$delete(" "):(c=c.$tr_s(u,s),a(c["$end_with?"](s))&&(c=c.$chop()),a(o["$empty?"]())&&a(c["$start_with?"](s))&&(c=c.$slice(1,c.$length()))),a(t.$catalog()["$[]"]("refs")["$key?"](c))){for(h=t.$catalog()["$[]"]("refs"),f=y("Compliance").$unique_id_start_index();a(h["$[]"](g=""+c+s+f));)f=$(f,1);return g}return c}))}(b[0],v("AbstractBlock"),b)}(f[0],f)},Opal.modules["asciidoctor/stylesheets"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.return_ivar,o=e.defs,s=e.def,a=e.truthy,$=e.hash2,l=[],u=e.nil,c=e.$$$;return e.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(l,_){var d=[t(l,"Asciidoctor")].concat(_);return function(t,l,_){var d=r(t,null,"Stylesheets"),p=[d].concat(_),h=e.$r(p);return d.$$prototype.primary_stylesheet_data=u,n(p[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),n(p[0],"STYLESHEETS_DIR",c("File").$join(h("DATA_DIR"),"stylesheets")),d.__instance__=d.$new(),o(d,"$instance",i("__instance__")),s(d,"$primary_stylesheet_name",(function(){return h("DEFAULT_STYLESHEET_NAME")})),s(d,"$primary_stylesheet_data",(function(){var e;return this.primary_stylesheet_data=a(e=this.primary_stylesheet_data)?e:c("File").$read(c("File").$join(h("STYLESHEETS_DIR"),"asciidoctor-default.css"),$(["mode"],{mode:h("FILE_READ_MODE")})).$rstrip()})),s(d,"$embed_primary_stylesheet",(function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"})),s(d,"$write_primary_stylesheet",(function(e){return null==e&&(e="."),c("File").$write(c("File").$join(e,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),$(["mode"],{mode:h("FILE_WRITE_MODE")}))}),-1),s(d,"$coderay_stylesheet_name",(function(){return h("SyntaxHighlighter").$for("coderay").$stylesheet_basename()})),s(d,"$coderay_stylesheet_data",(function(){return h("SyntaxHighlighter").$for("coderay").$read_stylesheet()})),s(d,"$embed_coderay_stylesheet",(function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"})),s(d,"$write_coderay_stylesheet",(function(e){return null==e&&(e="."),c("File").$write(c("File").$join(e,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),$(["mode"],{mode:h("FILE_WRITE_MODE")}))}),-1),s(d,"$pygments_stylesheet_name",(function(e){return null==e&&(e=u),h("SyntaxHighlighter").$for("pygments").$stylesheet_basename(e)}),-1),s(d,"$pygments_stylesheet_data",(function(e){return null==e&&(e=u),h("SyntaxHighlighter").$for("pygments").$read_stylesheet(e)}),-1),s(d,"$embed_pygments_stylesheet",(function(e){return null==e&&(e=u),"<style>\n"+this.$pygments_stylesheet_data(e)+"\n</style>"}),-1),s(d,"$write_pygments_stylesheet",(function(e,t){return null==e&&(e="."),null==t&&(t=u),c("File").$write(c("File").$join(e,this.$pygments_stylesheet_name(t)),this.$pygments_stylesheet_data(t),$(["mode"],{mode:h("FILE_WRITE_MODE")}))}),-1)}(d[0],0,d)}(l[0],l)},Opal.modules["asciidoctor/table"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.def,o=e.alias,s=e.hash2,a=e.send2,$=e.find_super,l=e.truthy,u=e.rb_lt,c=e.rb_gt,_=e.eqeq,d=e.rb_times,p=e.rb_divide,h=e.send,f=e.rb_plus,m=e.rb_minus,g=e.return_val,b=e.to_a,v=e.gvars,y=e.neqeq,x=e.return_ivar,k=e.to_ary,w=e.regexp,A=e.not,E=e.thrower,S=[],C=e.nil,O=e.$$$;return e.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(S,R){var I=[t(S,"Asciidoctor")].concat(R),T=e.$r(I);return function(t,g,b){var v=r(t,g,"Table"),y=[v].concat(b),x=e.$r(y),k=v.$$prototype;k.attributes=k.document=k.rows=k.has_header_option=k.columns=C,n(y[0],"DEFAULT_PRECISION",4),function(e,t){var n=r(e,null,"Rows"),a=n.$$prototype;a.head=a.body=a.foot=C,n.$attr_accessor("head","foot","body"),i(n,"$initialize",(function(e,t,r){var n=this;return null==e&&(e=[]),null==t&&(t=[]),null==r&&(r=[]),n.head=e,n.foot=t,n.body=r}),-1),o(n,"[]","send"),i(n,"$by_section",(function(){var e=this;return[["head",e.head],["body",e.body],["foot",e.foot]]})),i(n,"$to_h",(function(){var e=this;return s(["head","body","foot"],{head:e.head,body:e.body,foot:e.foot})}))}(y[0]),v.$attr_accessor("columns"),v.$attr_accessor("rows"),v.$attr_accessor("has_header_option"),v.$attr_reader("caption"),i(v,"$initialize",(function e(t,r){var n,i=this,o=C,s=C,f=C;return e.$$p=null,a(i,$(i,"initialize",e,!1,!0),"initialize",[t,"table"],null),i.rows=x("Rows").$new(),i.columns=[],i.has_header_option=!1,l(o=r["$[]"]("width"))?(l(c(s=o.$to_i(),100))||l(u(s,1)))&&(_(s,0)&&(_(o,"0")||_(o,"0%"))||(s=100)):s=100,i.attributes["$[]="]("tablepcwidth",s),l(i.document.$attributes()["$[]"]("pagewidth"))&&i.attributes["$[]="]("tableabswidth",_(f=d(p(s,100),i.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(x("DEFAULT_PRECISION")),f.$to_i())?f.$to_i():f),l(r["$[]"]("rotate-option"))?(n=["orientation","landscape"],h(i.attributes,"[]=",n),n[n.length-1]):C})),i(v,"$header_row?",(function(){var e;return l(e=this.has_header_option)&&l(this.rows.$body()["$empty?"]())?e:C})),i(v,"$create_columns",(function(e){var t,r=this,n=C,i=C,o=C;return n=[],i=C,o=0,h(e,"each",[],(function e(t){var r,s=null==e.$$s?this:e.$$s,a=C;return null==t&&(t=C),r=t["$[]"]("width"),n["$<<"](x("Column").$new(s,n.$size(),t)),l(u(r,0))?(i=l(a=i)?a:[])["$<<"](n["$[]"](-1)):o=f(o,r)}),{$$s:r}),l(c(t=(r.columns=n).$size(),0))&&(r.attributes["$[]="]("colcount",t),l(c(o,0))||l(i)||(o=C),r.$assign_column_widths(o,i)),C})),i(v,"$assign_column_widths",(function(e,t){var r,n=this,i=C,o=C,a=C,$=C;return null==e&&(e=C),null==t&&(t=C),r=x("DEFAULT_PRECISION"),i=o=0,l(e)?(l(t)&&(l(c(e,100))?(a=0,n.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+e+"%")):(a=p(m(100,e),t.$size()).$truncate(r),_(a.$to_i(),a)&&(a=a.$to_i()),e=100),$=s(["width","autowidth-option"],{width:a,"autowidth-option":""}),h(t,"each",[],(function(e){return null==e&&(e=C),e.$update_attributes($)}))),h(n.columns,"each",[],(function(t){return null==t&&(t=C),i=f(i,o=t.$assign_width(C,e,r))}))):(o=p(100,n.columns.$size()).$truncate(r),_(o.$to_i(),o)&&(o=o.$to_i()),h(n.columns,"each",[],(function(e){return null==e&&(e=C),i=f(i,e.$assign_width(o,C,r))}))),_(i,100)||n.columns["$[]"](-1).$assign_width(f(m(100,i),o).$round(r),C,r),C}),-1),i(v,"$partition_header_footer",(function(e){var t,r=this,n=C,i=C;return t=["rowcount",(i=r.rows.$body()).$size()],h(r.attributes,"[]=",t),l(c(n=t[t.length-1],0))&&(l(r.has_header_option)?(r.rows["$head="]([h(i.$shift(),"map",[],(function(e){return null==e&&(e=C),e.$reinitialize(!0)}))]),n=m(n,1)):l(r.has_header_option["$nil?"]())&&(r.has_header_option=!1,i.$unshift(h(i.$shift(),"map",[],(function(e){return null==e&&(e=C),e.$reinitialize(!1)}))))),l(c(n,0))&&l(e["$[]"]("footer-option"))&&r.rows["$foot="]([i.$pop()]),C}))}(I[0],T("AbstractBlock"),I),function(e,t){var n=r(e,t,"Column");n.$$prototype.attributes=C,n.$attr_accessor("style"),i(n,"$initialize",(function e(t,r,n){var i=this;return e.$$p=null,null==n&&(n=s([],{})),a(i,$(i,"initialize",e,!1,!0),"initialize",[t,"table_column"],null),i.style=n["$[]"]("style"),n["$[]="]("colnumber",f(r,1)),l(n["$[]"]("width"))||n["$[]="]("width",1),l(n["$[]"]("halign"))||n["$[]="]("halign","left"),l(n["$[]"]("valign"))||n["$[]="]("valign","top"),i.$update_attributes(n)}),-3),o(n,"table","parent"),i(n,"$assign_width",(function(e,t,r){var n,i=this,o=C;return l(t)&&(e=p(d(i.attributes["$[]"]("width").$to_f(),100),t).$truncate(r),_(e.$to_i(),e)&&(e=e.$to_i())),l(i.$parent().$attributes()["$[]"]("tableabswidth"))&&i.attributes["$[]="]("colabswidth",_(o=d(p(e,100),i.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(r),o.$to_i())?o.$to_i():o),n=["colpcwidth",e],h(i.attributes,"[]=",n),n[n.length-1]})),i(n,"$block?",g(!1)),i(n,"$inline?",g(!1))}(T("Table"),T("AbstractNode")),function(t,c,p){var m=r(t,c,"Cell"),g=[m].concat(p),k=e.$r(g),w=m.$$prototype;w.document=w.reinitialize_args=w.attributes=w.cursor=w.text=w.subs=w.style=w.inner_document=w.source_location=w.colspan=w.rowspan=C,n(g[0],"DOUBLE_LF",d(k("LF"),2)),m.$attr_accessor("colspan"),m.$attr_accessor("rowspan"),o(m,"column","parent"),m.$attr_reader("inner_document"),i(m,"$initialize",(function e(t,r,n,i){var o,c=this,d=C,p=C,m=C,g=C,v=C,y=C,x=C,w=C,A=C,E=C,S=C,O=C,R=C;if(e.$$p=null,null==n&&(n=s([],{})),null==i&&(i=s([],{})),a(c,$(c,"initialize",e,!1,!0),"initialize",[t,"table_cell"],null),c.cursor=c.reinitialize_args=C,l(c.document.$sourcemap())&&(c.source_location=i["$[]"]("cursor").$dup()),l(t)&&(l(d=t.$table()["$header_row?"]())?_(d,"implicit")&&l(p=l(m=t.$style())?m:l(g=n)?n["$[]"]("style"):g)&&((_(p,"asciidoc")||_(p,"literal"))&&(c.reinitialize_args=[t,r,l(m=n)?n.$merge():m,i]),p=C):p=t.$style(),c.$update_attributes(t.$attributes())),l(n))switch(l(n["$empty?"]())?c.colspan=c.rowspan=C:(o=[n.$delete("colspan"),n.$delete("rowspan")],c.colspan=o[0],c.rowspan=o[1],l(d)||(p=l(m=n["$[]"]("style"))?m:p),c.$update_attributes(n)),p){case"asciidoc":if(v=!0,y=i["$[]"]("cursor"),l((r=r.$rstrip())["$start_with?"](k("LF")))){for(x=1;l((r=r.$slice(1,r.$length()))["$start_with?"](k("LF")));)x=f(x,1);y.$advance(x)}else r=r.$lstrip();break;case"literal":for(w=!0,r=r.$rstrip();l(r["$start_with?"](k("LF")));)r=r.$slice(1,r.$length());break;default:A=!0,r=l(r)?r.$strip():""}else c.colspan=c.rowspan=C,_(p,"asciidoc")&&(v=!0,y=i["$[]"]("cursor"));return l(v)?(E=c.document.$attributes().$delete("doctitle"),S=r.$split(k("LF"),-1),l(S["$empty?"]())||l((O=S["$[]"](0))["$include?"]("::"))&&(R=k("PreprocessorReader").$new(c.document,[O]).$readlines(),_(O,R["$[]"](0))&&l(u(R.$size(),2))||(S.$shift(),l(R["$empty?"]())||h(S,"unshift",b(R)))),c.inner_document=k("Document").$new(S,s(["standalone","parent","cursor"],{standalone:!1,parent:c.document,cursor:y})),l(E["$nil?"]())||c.document.$attributes()["$[]="]("doctitle",E),c.subs=C):l(w)?(c.content_model="verbatim",c.subs=k("BASIC_SUBS")):(l(A)&&(l(d)?c.cursor=i["$[]"]("cursor"):c.$catalog_inline_anchor(r,i["$[]"]("cursor"))),c.content_model="simple",c.subs=k("NORMAL_SUBS")),c.text=r,c.style=p}),-3),i(m,"$reinitialize",(function(e){var t=this;if(l(e))t.reinitialize_args=C;else{if(l(t.reinitialize_args))return h(O(k("Table"),"Cell"),"new",b(t.reinitialize_args));t.style=t.attributes["$[]"]("style")}return l(t.cursor)&&t.$catalog_inline_anchor(),t})),i(m,"$catalog_inline_anchor",(function(e,t){var r,n=this;return null==e&&(e=n.text),null==t&&(t=C),l(t)||(t=(r=[n.cursor,C])[0],n.cursor=r[1]),l(e["$start_with?"]("[["))&&l(k("LeadingInlineAnchorRx")["$=~"](e))?k("Parser").$catalog_inline_anchor((r=v["~"])===C?C:r["$[]"](1),(r=v["~"])===C?C:r["$[]"](2),n,t,n.document):C}),-1),i(m,"$text",(function(){var e=this;return e.$apply_subs(e.text,e.subs)})),m.$attr_writer("text"),i(m,"$content",(function(){var e,t=this,r=C;return _(e=t.style,"asciidoc")?t.inner_document.$convert():l(t.text["$include?"](k("DOUBLE_LF")))?h(t.$text().$split(k("BlankLineRx")),"map",[],(function t(r){var n=null==t.$$s?this:t.$$s;return null==r&&(r=C),l(e)&&y(e,"header")?k("Inline").$new(n.$parent(),"quoted",r,s(["type"],{type:e})).$convert():r}),{$$s:t}):l((r=t.$text())["$empty?"]())?[]:l(e)&&y(e,"header")?[k("Inline").$new(t.$parent(),"quoted",r,s(["type"],{type:e})).$convert()]:[r]})),i(m,"$lines",(function(){return this.text.$split(k("LF"))})),i(m,"$source",x("text")),i(m,"$file",(function(){var e;return l(e=this.source_location)?this.source_location.$file():e})),i(m,"$lineno",(function(){var e;return l(e=this.source_location)?this.source_location.$lineno():e})),i(m,"$to_s",(function e(){var t=e.$$p||C,r=this,n=C;return e.$$p=null,a(r,$(r,"to_s",e,!1,!0),"to_s",[],t)+" - [text: "+r.text+", colspan: "+(l(n=r.colspan)?n:1)+", rowspan: "+(l(n=r.rowspan)?n:1)+", attributes: "+r.attributes+"]"}))}(T("Table"),T("AbstractBlock"),I),function(t,o,a){var $=r(t,null,"ParserContext"),u=[$].concat(a),d=e.$r(u),p=$.$$prototype;return p.delimiter=p.delimiter_rx=p.buffer=p.cellspecs=p.cell_open=p.format=p.start_cursor_data=p.reader=p.table=p.current_row=p.colcount=p.column_visits=p.active_rowspans=p.linenum=C,$.$include(d("Logging")),n(u[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),n(u[0],"DELIMITERS",s(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),$.$attr_accessor("table"),$.$attr_accessor("format"),$.$attr_reader("colcount"),$.$attr_accessor("buffer"),$.$attr_reader("delimiter"),$.$attr_reader("delimiter_re"),i($,"$initialize",(function(e,t,r){var n,i,o=this,a=C,$=C;return null==r&&(r=s([],{})),o.start_cursor_data=(o.reader=e).$mark(),o.table=t,l(r["$key?"]("format"))?l(d("FORMATS")["$include?"](a=r["$[]"]("format")))?_(a,"tsv")?o.format="csv":_(o.format=a,"psv")&&l(t.$document()["$nested?"]())&&(a="!sv"):(o.$logger().$error(o.$message_with_context("illegal table format: "+a,s(["source_location"],{source_location:e.$cursor_at_prev_line()}))),n=["psv",l(t.$document()["$nested?"]())?"!sv":"psv"],o.format=n[0],a=n[1]):(n=["psv",l(t.$document()["$nested?"]())?"!sv":"psv"],o.format=n[0],a=n[1]),l(r["$key?"]("separator"))?l(($=r["$[]"]("separator"))["$nil_or_empty?"]())?(i=d("DELIMITERS")["$[]"](a),n=k(i),o.delimiter=null==n[0]?C:n[0],o.delimiter_rx=null==n[1]?C:n[1]):_($,"\\t")?(i=d("DELIMITERS")["$[]"]("tsv"),n=k(i),o.delimiter=null==n[0]?C:n[0],o.delimiter_rx=null==n[1]?C:n[1]):(n=[$,w([O("Regexp").$escape($)])],o.delimiter=n[0],o.delimiter_rx=n[1]):(i=d("DELIMITERS")["$[]"](a),n=k(i),o.delimiter=null==n[0]?C:n[0],o.delimiter_rx=null==n[1]?C:n[1]),o.colcount=l(t.$columns()["$empty?"]())?-1:t.$columns().$size(),o.buffer="",o.cellspecs=[],o.cell_open=!1,o.active_rowspans=[0],o.column_visits=0,o.current_row=[],o.linenum=-1}),-3),i($,"$starts_with_delimiter?",(function(e){return e["$start_with?"](this.delimiter)})),i($,"$match_delimiter",(function(e){return this.delimiter_rx.$match(e)})),i($,"$skip_past_delimiter",(function(e){var t=this;return t.buffer=""+t.buffer+e+t.delimiter,C})),i($,"$skip_past_escaped_delimiter",(function(e){var t=this;return t.buffer=""+t.buffer+e.$chop()+t.delimiter,C})),i($,"$buffer_has_unclosed_quotes?",(function(e,t){var r=C,n=C,i=C,o=C;return null==e&&(e=C),null==t&&(t='"'),!!_(r=l(e)?f(this.buffer,e).$strip():this.buffer.$strip(),t)||!!l(r["$start_with?"](t))&&(n=f(t,t),l(i=r["$end_with?"](t))&&l(r["$end_with?"](n))||l(r["$start_with?"](n))?l(o=(r=r.$gsub(n,""))["$start_with?"](t))?r["$end_with?"](t)["$!"]():o:i["$!"]())}),-1),i($,"$take_cellspec",(function(){return this.cellspecs.$shift()})),i($,"$push_cellspec",(function(e){var t;return null==e&&(e=s([],{})),this.cellspecs["$<<"](l(t=e)?t:s([],{})),C}),-1),i($,"$keep_cell_open",(function(){return this.cell_open=!0,C})),i($,"$mark_cell_closed",(function(){return this.cell_open=!1,C})),i($,"$cell_open?",x("cell_open")),i($,"$cell_closed?",(function(){return this.cell_open["$!"]()})),i($,"$close_open_cell",(function(e){var t=this;return null==e&&(e=s([],{})),t.$push_cellspec(e),l(t["$cell_open?"]())&&t.$close_cell(!0),t.$advance(),C}),-1),i($,"$close_cell",(function(e){try{var t=E("return"),r=this,n=C,i=C,o=C,a=C,$=C;return null==e&&(e=!1),_(r.format,"psv")?(n=r.buffer,r.buffer="",l(i=r.$take_cellspec())?o=l(a=i.$delete("repeatcol"))?a:1:(r.$logger().$error(r.$message_with_context("table missing leading separator; recovering automatically",s(["source_location"],{source_location:h(O(d("Reader"),"Cursor"),"new",b(r.start_cursor_data))}))),i=s([],{}),o=1)):(n=r.buffer.$strip(),r.buffer="",i=C,o=1,_(r.format,"csv")&&A(n["$empty?"]())&&l(n["$include?"]($='"'))&&(l(n["$start_with?"]($))&&l(n["$end_with?"]($))?l(n=n.$slice(1,m(n.$length(),2)))?n=n.$strip().$squeeze($):(r.$logger().$error(r.$message_with_context("unclosed quote in CSV data; setting cell to empty",s(["source_location"],{source_location:r.reader.$cursor_at_prev_line()}))),n=""):n=n.$squeeze($))),h(1,"upto",[o],(function r($){var u=null==r.$$s?this:r.$$s,p=C,g=C,b=C,v=C;return null==u.colcount&&(u.colcount=C),null==u.table&&(u.table=C),null==u.current_row&&(u.current_row=C),null==u.reader&&(u.reader=C),null==u.column_visits&&(u.column_visits=C),null==u.linenum&&(u.linenum=C),null==$&&($=C),_(u.colcount,-1)?(u.table.$columns()["$<<"](p=O(d("Table"),"Column").$new(u.table,m(f(u.table.$columns().$size(),$),1))),l(i)&&l(i["$key?"]("colspan"))&&l(c(g=m(i["$[]"]("colspan").$to_i(),1),0))&&(b=u.table.$columns().$size(),h(g,"times",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.table&&(r.table=C),null==t&&(t=C),r.table.$columns()["$<<"](O(d("Table"),"Column").$new(r.table,f(b,t)))}),{$$s:u}))):l(p=u.table.$columns()["$[]"](u.current_row.$size()))||(u.$logger().$error(u.$message_with_context("dropping cell because it exceeds specified number of columns",s(["source_location"],{source_location:u.reader.$cursor_before_mark()}))),t.$throw()),v=O(d("Table"),"Cell").$new(p,n,i,s(["cursor"],{cursor:u.reader.$cursor_before_mark()})),u.reader.$mark(),A(v.$rowspan())||_(v.$rowspan(),1)||u.$activate_rowspan(v.$rowspan(),l(a=v.$colspan())?a:1),u.column_visits=f(u.column_visits,l(a=v.$colspan())?a:1),u.current_row["$<<"](v),l(u["$end_of_row?"]())&&(y(u.colcount,-1)||l(c(u.linenum,0))||l(e)&&_($,o))?u.$close_row():C}),{$$s:r,$$ret:t}),r.cell_open=!1,C}catch(e){if(e===t)return e.$v;throw e}}),-1),$.$private(),i($,"$close_row",(function(){var e=this;return e.table.$rows().$body()["$<<"](e.current_row),_(e.colcount,-1)&&(e.colcount=e.column_visits),e.column_visits=0,e.current_row=[],e.active_rowspans.$shift(),l(e.active_rowspans["$[]"](0))||e.active_rowspans["$[]="](0,0),C})),i($,"$activate_rowspan",(function(e,t){return h(1,"upto",[m(e,1)],(function e(r){var n,i,o=null==e.$$s?this:e.$$s;return null==o.active_rowspans&&(o.active_rowspans=C),null==r&&(r=C),n=[r,f(l(i=o.active_rowspans["$[]"](r))?i:0,t)],h(o.active_rowspans,"[]=",n),n[n.length-1]}),{$$s:this}),C})),i($,"$end_of_row?",(function(){var e,t=this;return l(e=t.colcount["$=="](-1))?e:t.$effective_column_visits()["$=="](t.colcount)})),i($,"$effective_column_visits",(function(){return f(this.column_visits,this.active_rowspans["$[]"](0))})),i($,"$advance",(function(){return this.linenum=f(this.linenum,1)}))}(T("Table"),0,I)}(S[0],S)},Opal.modules["asciidoctor/writer"]=function(e){var t=e.module,r=e.truthy,n=e.rb_plus,i=e.hash2,o=e.def,s=e.return_val,a=[],$=e.nil,l=e.$$$;return e.add_stubs("respond_to?,write,+,chomp,include"),function(a,u){var c=[t(a,"Asciidoctor")].concat(u);return function(s,a){var u=t(s,"Writer"),c=[u].concat(a),_=e.$r(c);o(u,"$write",(function(e,t){return r(t["$respond_to?"]("write"))?t.$write(n(e.$chomp(),_("LF"))):l("File").$write(t,e,i(["mode"],{mode:_("FILE_WRITE_MODE")})),$}))}(c[0],c),function(r,n){var i=t(r,"VoidWriter"),a=[i].concat(n),l=e.$r(a);return i.$include(l("Writer")),o(i,"$write",s($))}(c[0],c)}(a[0],a)},Opal.modules["asciidoctor/load"]=function(e){var t=e.module,r=e.hash2,n=e.truthy,i=e.neqeq,o=e.not,s=e.eqeqeq,a=e.send,$=e.to_ary,l=e.rb_plus,u=e.eqeq,c=e.def,_=[],d=e.nil,p=e.$$$;return e.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(_,h){var f=t(_,"Asciidoctor"),m=[f].concat(h);return function(t,_){var h=[t].concat(_),f=e.$r(h);return c(t,"$load",(function(t,c){var _,h,m,g=this,b=d,v=d,y=d,x=d,k=d,w=d,A=d,E=d,S=d,C=d;null==c&&(c=r([],{}));try{if(c=c.$merge(),n(b=c["$[]"]("timings"))&&b.$start("read"),n(c["$key?"]("logger"))&&i(v=c["$[]"]("logger"),f("LoggerManager").$logger())&&f("LoggerManager")["$logger="](n(y=v)?y:f("NullLogger").$new()),o(x=c["$[]"]("attributes"))?x=r([],{}):s(p("Hash"),x)?x=x.$merge():n((h=p("::","Java","skip_raise"))&&(_=p(h,"JavaUtil","skip_raise"))&&p(_,"Map","skip_raise")?"constant":d)&&s(p(p(p("Java"),"JavaUtil"),"Map"),x)?x=x.$dup():s(p("Array"),x)?x=a(r([],{}),"tap",[],(function(e){return null==e&&(e=d),a(x,"each",[],(function(t){var r,n,i,o;return null==t&&(t=d),n=t.$partition("="),i=null==(r=$(n))[0]?d:r[0],null==r[1]?d:r[1],o=null==r[2]?d:r[2],a(e,"[]=",r=[i,o]),r[r.length-1]}))})):s(p("String"),x)?x=a(r([],{}),"tap",[],(function(e){return null==e&&(e=d),a(x.$gsub(f("SpaceDelimiterRx"),l("\\1",f("NULL"))).$gsub(f("EscapedSpaceRx"),"\\1").$split(f("NULL")),"each",[],(function(t){var r,n,i,o;return null==t&&(t=d),n=t.$partition("="),i=null==(r=$(n))[0]?d:r[0],null==r[1]?d:r[1],o=null==r[2]?d:r[2],a(e,"[]=",r=[i,o]),r[r.length-1]}))})):n(x["$respond_to?"]("keys"))&&n(x["$respond_to?"]("[]"))?x=a(r([],{}),"tap",[],(function(e){return null==e&&(e=d),a(x.$keys(),"each",[],(function(t){var r;return null==t&&(t=d),r=[t,x["$[]"](t)],a(e,"[]=",r),r[r.length-1]}))})):g.$raise(p("ArgumentError"),"illegal type for attributes option: "+x.$class().$ancestors().$join(" < ")),s(p("File"),t))c["$[]="]("input_mtime",u(f("RUBY_ENGINE"),"jruby")?p("Time").$at(t.$mtime().$to_i()):t.$mtime()),x["$[]="]("docfile",k=p("File").$absolute_path(t.$path())),x["$[]="]("docdir",p("File").$dirname(k)),x["$[]="]("docname",f("Helpers").$basename(k,(m=["docfilesuffix",f("Helpers").$extname(k)],a(x,"[]=",m),m[m.length-1]))),w=t.$read();else if(n(t["$respond_to?"]("read"))){try{t.$rewind()}catch(t){if(!e.rescue(t,[f("StandardError")]))throw t;e.pop_exception()}w=t.$read()}else s(p("String"),t)?w=t:s(p("Array"),t)?w=t.$drop(0):n(t)&&g.$raise(p("ArgumentError"),"unsupported input type: "+t.$class());return n(b)&&(b.$record("read"),b.$start("parse")),c["$[]="]("attributes",x),A=u(c["$[]"]("parse"),!1)?f("Document").$new(w,c):f("Document").$new(w,c).$parse(),n(b)&&b.$record("parse"),A}catch(t){if(!e.rescue(t,[f("StandardError")]))throw t;E=t;try{try{S="asciidoctor: FAILED: "+(n(y=x["$[]"]("docfile"))?y:"<stdin>")+": Failed to load AsciiDoc document",n(E["$respond_to?"]("exception"))?(C=E.$exception(S+" - "+E.$message())).$set_backtrace(E.$backtrace()):(C=E.$class().$new(S,E))["$stack_trace="](E.$stack_trace())}catch(t){if(!e.rescue(t,[f("StandardError")]))throw t;try{C=E}finally{e.pop_exception()}}return g.$raise(C)}finally{e.pop_exception()}}}),-2),c(t,"$load_file",(function(e,t){return null==t&&(t=r([],{})),a(p("File"),"open",[e,f("FILE_READ_MODE")],(function e(r){return null==r&&(r=d),(null==e.$$s?this:e.$$s).$load(r,t)}),{$$s:this})}),-2)}(e.get_singleton_class(f),m)}(_[0],_)},Opal.modules["asciidoctor/convert"]=function(e){var t=e.module,r=e.hash2,n=e.eqeqeq,i=e.truthy,o=e.eqeq,s=e.rb_ge,a=e.not,$=e.rb_lt,l=e.neqeq,u=e.def,c=e.send,_=e.alias,d=[],p=e.nil,h=e.$$$;return e.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(d,f){var m=t(d,"Asciidoctor"),g=[m].concat(f);return function(t,d){var f=[t].concat(d),m=e.$r(f);return u(t,"$convert",(function(e,t){var u,c,_=this,d=p,f=p,g=p,b=p,v=p,y=p,x=p,k=p,w=p,A=p,E=p,S=p,C=p,O=p,R=p,I=p,T=p,z=p,F=p,N=p,L=p,D=p;if(null==t&&(t=r([],{})),(t=t.$merge()).$delete("parse"),u=t.$delete("to_dir"),c=t.$delete("mkdirs"),n(!0,d=f=t.$delete("to_file"))||n(p,d))i(g=u)||n(h("File"),e)&&(b=h("File").$absolute_path(e.$path())),f=p;else if(n(!1,d))f=p;else{if(n("/dev/null",d))return _.$load(e,t);i(v=f["$respond_to?"]("write"))||t["$[]="]("to_file",g=f)}return i(t["$key?"]("standalone"))||(i(b)||i(g)?t["$[]="]("standalone",t.$fetch("header_footer",!0)):i(t["$key?"]("header_footer"))&&t["$[]="]("standalone",t["$[]"]("header_footer"))),i(b)?t["$[]="]("to_dir",y=h("File").$dirname(b)):i(g)&&(i(u)?i(f)?t["$[]="]("to_dir",h("File").$dirname(h("File").$expand_path(f,u))):t["$[]="]("to_dir",h("File").$expand_path(u)):i(f)&&t["$[]="]("to_dir",h("File").$dirname(h("File").$expand_path(f)))),x=_.$load(e,t),i(b)?(k=h("File").$join(y,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix()),o(k,b)&&_.$raise(h("IOError"),"input file and output file cannot be the same: "+k)):i(g)?(w=i(t["$key?"]("base_dir"))?h("File").$expand_path(t["$[]"]("base_dir")):h("Dir").$pwd(),A=i(s(x.$safe(),h(m("SafeMode"),"SAFE")))?w:p,i(u)?(y=x.$normalize_system_path(u,w,A,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),i(f)?(k=x.$normalize_system_path(f,y,p,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=h("File").$dirname(k)):k=h("File").$join(y,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix())):i(f)&&(k=x.$normalize_system_path(f,w,A,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=h("File").$dirname(k)),n(h("File"),e)&&o(k,h("File").$absolute_path(e.$path()))&&_.$raise(h("IOError"),"input file and output file cannot be the same: "+k),i(c)?m("Helpers").$mkdir_p(y):i(h("File")["$directory?"](y))||_.$raise(h("IOError"),"target directory does not exist: "+u+" (hint: set :mkdirs option)")):(k=f,y=p),E=i(k)&&a(v)?x.$convert(r(["outfile","outdir"],{outfile:k,outdir:y})):x.$convert(),i(k)?(x.$write(E,k),a(v)&&i($(x.$safe(),h(m("SafeMode"),"SECURE")))&&i(x["$attr?"]("linkcss"))&&i(x["$attr?"]("copycss"))&&i(x["$basebackend?"]("html"))&&a(i(d=S=x.$attr("stylesdir"))?m("Helpers")["$uriish?"](S):d)&&(i(C=x.$attr("stylesheet"))&&(i(m("DEFAULT_STYLESHEET_KEYS")["$include?"](C))?O=!0:a(m("Helpers")["$uriish?"](C))&&(R=!0)),I=i(d=T=x.$syntax_highlighter())?T["$write_stylesheet?"](x):d,(i(O)||i(R)||i(I))&&(z=x.$normalize_system_path(S,y,i(s(x.$safe(),h(m("SafeMode"),"SAFE")))?y:p),i(c)?m("Helpers").$mkdir_p(z):i(h("File")["$directory?"](z))||_.$raise(h("IOError"),"target stylesheet directory does not exist: "+z+" (hint: set :mkdirs option)"),i(O)?m("Stylesheets").$instance().$write_primary_stylesheet(z):i(R)&&(F=o(F=x.$attr("copycss"),"")||o(F,!0)?x.$normalize_system_path(C):x.$normalize_system_path(F.$to_s()),N=x.$normalize_system_path(C,z,i(s(x.$safe(),h(m("SafeMode"),"SAFE")))?y:p),l(F,N)&&i(L=x.$read_asset(F,r(["warn_on_failure","label"],{warn_on_failure:h("File")["$file?"](N)["$!"](),label:"stylesheet"})))&&(l(D=h("File").$dirname(N),z)&&a(h("File")["$directory?"](D))&&(i(c)?m("Helpers").$mkdir_p(D):_.$raise(h("IOError"),"target stylesheet directory does not exist: "+D+" (hint: set :mkdirs option)")),h("File").$write(N,L,r(["mode"],{mode:m("FILE_WRITE_MODE")})))),i(I)&&T.$write_stylesheet(x,z))),x):E}),-2),u(t,"$convert_file",(function(e,t){return null==t&&(t=r([],{})),c(h("File"),"open",[e,m("FILE_READ_MODE")],(function e(r){return null==r&&(r=p),(null==e.$$s?this:e.$$s).$convert(r,t)}),{$$s:this})}),-2),_(t,"render","convert"),_(t,"render_file","convert_file")}(e.get_singleton_class(m),g)}(d[0],d)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){var t=e.module,r=e.klass,n=e.slice,i=e.send2,o=e.find_super,s=e.to_a,a=e.def,$=e.hash2,l=e.send,u=e.truthy,c=e.return_val,_=e.eqeq,d=[],p=e.nil,h=e.$$$;return e.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(d,f){var m=[t(d,"Asciidoctor")].concat(f),g=e.$r(m);return function(t,d,h){var f=r(t,d,"HighlightJsAdapter"),m=[f].concat(h),g=e.$r(m);return f.$register_for("highlightjs","highlight.js"),a(f,"$initialize",(function e(t){var r,a=e.$$p||p,$=this;return e.$$p=null,r=n(arguments),i($,o($,"initialize",e,!1,!0),"initialize",s(r),a),$.name=$.pre_class="highlightjs"}),-1),a(f,"$format",(function e(t,r,n){var s=this;return e.$$p=null,i(s,o(s,"format",e,!1,!0),"format",[t,r,n.$merge($(["transform"],{transform:l(s,"proc",[],(function(e,t){var n,i;return null==t&&(t=p),n=["class","language-"+(u(i=r)?i:"none")+" hljs"],l(t,"[]=",n),n[n.length-1]}))}))],null)})),a(f,"$docinfo?",c(!0)),a(f,"$docinfo",(function(e,t,r){var n;return n=t.$attr("highlightjsdir",r["$[]"]("cdn_base_url")+"/highlight.js/"+g("HIGHLIGHT_JS_VERSION")),_(e,"head")?'<link rel="stylesheet" href="'+n+"/styles/"+t.$attr("highlightjs-theme","github")+'.min.css"'+r["$[]"]("self_closing_tag_slash")+">":'<script src="'+n+'/highlight.min.js"><\/script>\n'+(u(t["$attr?"]("highlightjs-languages"))?l(t.$attr("highlightjs-languages").$split(","),"map",[],(function(e){return null==e&&(e=p),'<script src="'+n+"/languages/"+e.$lstrip()+'.min.js"><\/script>\n'})).$join():"")+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n<\/script>"}))}(g("SyntaxHighlighter"),h(g("SyntaxHighlighter"),"Base"),m)}(d[0],d)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){var t=e.module,r=e.hash2,n=e.def,i=e.return_val,o=e.defs,s=e.slice,a=e.send,$=e.to_a,l=e.truthy,u=e.eqeqeq,c=e.Class,_=e.klass,d=e.class_variable_set,p=e.class_variable_get,h=e.top,f=[],m=e.nil,g=e.$$$;return e.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(h,f){var b=[t(h,"Asciidoctor")].concat(f);(function(h,f){var b=t(h,"SyntaxHighlighter"),v=[b].concat(f),y=e.$r(v);b.$attr_reader("name"),n(b,"$initialize",(function(e,t,n){return null==n&&(n=r([],{})),this.name=this.pre_class=e}),-2),n(b,"$docinfo?",i(m)),n(b,"$docinfo",(function(e,t,r){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")})),n(b,"$highlight?",i(m)),n(b,"$highlight",(function(e,t,r,n){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")})),n(b,"$format",(function(e,t,r){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")})),n(b,"$write_stylesheet?",i(m)),n(b,"$write_stylesheet",(function(e,t){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")})),o(b,"$included",(function(e){return e.$extend(y("Config"))})),b.$private_class_method("included"),function(r,i){var o=t(r,"Config"),l=[o].concat(i),u=e.$r(l);n(o,"$register_for",(function(e){var t,r=this;return t=s(arguments),a(u("SyntaxHighlighter"),"register",[r].concat($(a(t,"map",[],(function(e){return null==e&&(e=m),e.$to_s()})))))}),-1)}(v[0],v),function(i,o){var $=t(i,"Factory"),_=[$].concat(o),d=e.$r(_);n($,"$register",(function(e,t){var r;return r=s(arguments,1),a(r,"each",[],(function t(r){var n;return null==r&&(r=m),n=[r,e],a((null==t.$$s?this:t.$$s).$registry(),"[]=",n),n[n.length-1]}),{$$s:this})}),-2),n($,"$for",(function(e){return this.$registry()["$[]"](e)})),n($,"$create",(function(e,t,n){var i=m;return null==t&&(t="html5"),null==n&&(n=r([],{})),l(i=this.$for(e))?(u(c,i)&&(i=i.$new(e,t,n)),l(i.$name())||this.$raise(g("NameError"),i.$class()+" must specify a value for `name'"),i):m}),-2),$.$private(),n($,"$registry",(function(){return this.$raise(g("NotImplementedError"),d("Factory")+" subclass "+this.$class()+" must implement the #registry method")}))}(v[0],v),function(t,i,o){var s=_(t,null,"CustomFactory"),a=[s].concat(o),$=e.$r(a);s.$include($("Factory")),n(s,"$initialize",(function(e){var t;return null==e&&(e=m),this.registry=l(t=e)?t:r([],{})}),-1),s.$private(),s.$attr_reader("registry")}(v[0],0,v),function(i,o){var s=t(i,"DefaultFactory"),a=[s].concat(o),$=e.$r(a);s.$include($("Factory")),d(a[0],"@@registry",r([],{})),s.$private(),n(s,"$registry",(function(){return p(a[0],"@@registry",!1)}))}(v[0],v),function(t,r,n){var i=_(t,r,"DefaultFactoryProxy"),o=[i].concat(n),s=e.$r(o);i.$include(s("DefaultFactory"))}(v[0],y("CustomFactory"),v),function(t,i,o){var s=_(t,null,"Base"),$=[s].concat(o),u=e.$r($);s.$$prototype.pre_class=m,s.$include(u("SyntaxHighlighter")),n(s,"$format",(function(e,t,n){var i,o=m,s=m,$=m;return i=l(n["$[]"]("nowrap"))?this.pre_class+" highlight nowrap":this.pre_class+" highlight",l(o=n["$[]"]("transform"))?(o["$[]"](s=r(["class"],{class:i}),$=l(t)?r(["data-lang"],{"data-lang":t}):r([],{})),l(t=$.$delete("data-lang"))&&$["$[]="]("data-lang",t),"<pre"+a(s,"map",[],(function(e,t){return null==e&&(e=m),null==t&&(t=m)," "+e+'="'+t+'"'})).$join()+"><code"+a($,"map",[],(function(e,t){return null==e&&(e=m),null==t&&(t=m)," "+e+'="'+t+'"'})).$join()+">"+e.$content()+"</code></pre>"):'<pre class="'+i+'"><code'+(l(t)?' data-lang="'+t+'"':"")+">"+e.$content()+"</code></pre>"}))}(v[0],0,v),b.$extend(y("DefaultFactory"))})(b[0],b)}(f[0],f),h.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),m},Opal.modules["asciidoctor/timings"]=function(e){var t=e.module,r=e.klass,n=e.hash2,i=e.def,o=e.send,s=e.rb_minus,a=e.slice,$=e.rb_plus,l=e.truthy,u=e.rb_gt,c=e.gvars,_=e.eqeq,d=e.const_set,p=[],h=e.nil,f=e.$$$;return e.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(p,m){var g=[t(p,"Asciidoctor")].concat(m);return function(t,p,m){var g,b,v,y,x=r(t,null,"Timings"),k=[x].concat(m),w=e.$r(k),A=x.$$prototype;return A.timers=A.log=h,i(x,"$initialize",(function(){return this.log=n([],{}),this.timers=n([],{})})),i(x,"$start",(function(e){var t;return t=[e,this.$now()],o(this.timers,"[]=",t),t[t.length-1]})),i(x,"$record",(function(e){var t,r=this;return t=[e,s(r.$now(),r.timers.$delete(e))],o(r.log,"[]=",t),t[t.length-1]})),i(x,"$time",(function(e){var t,r;return t=a(arguments),r=o(t,"reduce",[0],(function e(t,r){var n,i=null==e.$$s?this:e.$$s;return null==i.log&&(i.log=h),null==t&&(t=h),null==r&&(r=h),$(t,l(n=i.log["$[]"](r))?n:0)}),{$$s:this}),l(u(r,0))?r:h}),-1),i(x,"$read",(function(){return this.$time("read")})),i(x,"$parse",(function(){return this.$time("parse")})),i(x,"$read_parse",(function(){return this.$time("read","parse")})),i(x,"$convert",(function(){return this.$time("convert")})),i(x,"$read_parse_convert",(function(){return this.$time("read","parse","convert")})),i(x,"$write",(function(){return this.$time("write")})),i(x,"$total",(function(){return this.$time("read","parse","convert","write")})),i(x,"$print_report",(function(e,t){var r=this;return null==c.stdout&&(c.stdout=h),null==e&&(e=c.stdout),null==t&&(t=h),l(t)&&e.$puts("Input file: "+t),e.$puts("  Time to read and parse source: "+r.$sprintf("%05.5f",r.$read_parse().$to_f())),e.$puts("  Time to convert document: "+r.$sprintf("%05.5f",r.$convert().$to_f())),e.$puts("  Total time (read, parse and convert): "+r.$sprintf("%05.5f",r.$read_parse_convert().$to_f()))}),-1),x.$private(),l(f("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&_((g=f("::","Process","skip_raise"))&&(b=g)&&(v=b)&&((y=v.$clock_gettime)&&!y.$$stub||v["$respond_to_missing?"]("clock_gettime"))?"method":h,"method")?(d(k[0],"CLOCK_ID",f(f("Process"),"CLOCK_MONOTONIC")),i(x,"$now",(function(){return f("Process").$clock_gettime(w("CLOCK_ID"))}))):i(x,"$now",(function(){return f("Time").$now()}))}(g[0],0,g)}(p[0],p)},Opal.modules["asciidoctor/converter/html5"]=function(e){var t=e.module,r=e.klass,n=e.const_set,i=e.hash2,o=e.regexp,s=e.eqeq,a=e.def,$=e.send2,l=e.find_super,u=e.truthy,c=e.send,_=e.rb_gt,d=e.rb_plus,p=e.not,h=e.neqeq,f=e.rb_le,m=e.rb_lt,g=e.to_ary,b=e.rb_times,v=e.rb_minus,y=e.gvars,x=e.return_val,k=e.alias,w=e.eqeqeq,A=e.slice,E=e.to_a,S=[],C=e.nil,O=e.$$$;return e.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(S,R){var I=[t(S,"Asciidoctor")].concat(R),T=e.$r(I);return function(t,S,R){var I=r(t,S,"Html5Converter"),T=[I].concat(R),z=e.$r(T),F=I.$$prototype;return F.void_element_slash=F.xml_mode=F.refs=F.resolving_xref=C,I.$register_for("html5"),n(T[0],"QUOTE_TAGS",i(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),n(T[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),n(T[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),n(T[0],"SvgPreambleRx",o(["^",z("CC_ALL"),"*?(?=<svg[\\s>])"])),n(T[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),n(T[0],"DimensionAttributeRx",o(["\\s(?:width|height|style)=([\"'])",z("CC_ANY"),"*?\\1"])),a(I,"$initialize",(function(e,t){var r=this,n=C;return null==t&&(t=i([],{})),r.backend=e,s(t["$[]"]("htmlsyntax"),"xml")?(n="xml",r.xml_mode=!0,r.void_element_slash="/"):(n="html",r.xml_mode=C,r.void_element_slash=""),r.$init_backend_traits(i(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:n,outfilesuffix:".html",supports_templates:!0}))}),-2),a(I,"$convert",(function e(t,r,n){var i=e.$$p||C,o=this;switch(e.$$p=null,null==r&&(r=t.$node_name()),null==n&&(n=C),r){case"inline_quoted":return o.$convert_inline_quoted(t);case"paragraph":return o.$convert_paragraph(t);case"inline_anchor":return o.$convert_inline_anchor(t);case"section":return o.$convert_section(t);case"listing":return o.$convert_listing(t);case"literal":return o.$convert_literal(t);case"ulist":return o.$convert_ulist(t);case"olist":return o.$convert_olist(t);case"dlist":return o.$convert_dlist(t);case"admonition":return o.$convert_admonition(t);case"colist":return o.$convert_colist(t);case"embedded":return o.$convert_embedded(t);case"example":return o.$convert_example(t);case"floating_title":return o.$convert_floating_title(t);case"image":return o.$convert_image(t);case"inline_break":return o.$convert_inline_break(t);case"inline_button":return o.$convert_inline_button(t);case"inline_callout":return o.$convert_inline_callout(t);case"inline_footnote":return o.$convert_inline_footnote(t);case"inline_image":return o.$convert_inline_image(t);case"inline_indexterm":return o.$convert_inline_indexterm(t);case"inline_kbd":return o.$convert_inline_kbd(t);case"inline_menu":return o.$convert_inline_menu(t);case"open":return o.$convert_open(t);case"page_break":return o.$convert_page_break(t);case"preamble":return o.$convert_preamble(t);case"quote":return o.$convert_quote(t);case"sidebar":return o.$convert_sidebar(t);case"stem":return o.$convert_stem(t);case"table":return o.$convert_table(t);case"thematic_break":return o.$convert_thematic_break(t);case"verse":return o.$convert_verse(t);case"video":return o.$convert_video(t);case"document":return o.$convert_document(t);case"toc":return o.$convert_toc(t);case"pass":return o.$convert_pass(t);case"audio":return o.$convert_audio(t);default:return $(o,l(o,"convert",e,!1,!0),"convert",[t,r,n],i)}}),-2),a(I,"$convert_document",(function(e){var t,r,n,o,a,$,l,h,f=this,m=C,g=C,b=C,v=C,y=C,x=C,k=C,w=C,A=C,E=C,S=C,O=C,R=C,I=C,T=C,F=C,N=C;return t="<br"+(r=f.void_element_slash)+">",u((m=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(m+=":"),n=m+"//cdnjs.cloudflare.com/ajax/libs",o=e["$attr?"]("linkcss"),a=u(e["$attr?"]("max-width"))?' style="max-width: '+e.$attr("max-width")+';"':"",g=["<!DOCTYPE html>"],$=u(e["$attr?"]("nolang"))?"":' lang="'+e.$attr("lang","en")+'"',g["$<<"]("<html"+(u(f.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+$+">"),g["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+r+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+r+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+r+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+r+">"),u(e["$attr?"]("app-name"))&&g["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+r+">"),u(e["$attr?"]("description"))&&g["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+r+">"),u(e["$attr?"]("keywords"))&&g["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+r+">"),u(e["$attr?"]("authors"))&&g["$<<"]('<meta name="author" content="'+(u((b=e.$sub_replacements(e.$attr("authors")))["$include?"]("<"))?b.$gsub(z("XmlSanitizeRx"),""):b)+'"'+r+">"),u(e["$attr?"]("copyright"))&&g["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+r+">"),u(e["$attr?"]("favicon"))&&(u((v=e.$attr("favicon"))["$empty?"]())?(v="favicon.ico",y="image/x-icon"):y=u(x=z("Helpers").$extname(v,C))?s(x,".ico")?"image/x-icon":"image/"+x.$slice(1,x.$length()):"image/x-icon",g["$<<"]('<link rel="icon" type="'+y+'" href="'+v+'"'+r+">")),g["$<<"]("<title>"+e.$doctitle(i(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),u(z("DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(u(k=e.$attr("webfonts"))&&g["$<<"]('<link rel="stylesheet" href="'+m+"//fonts.googleapis.com/css?family="+(u(k["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":k)+'"'+r+">"),u(o)?g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(z("DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+r+">"):g["$<<"]("<style>\n"+z("Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):u(e["$attr?"]("stylesheet"))&&(u(o)?g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+r+">"):g["$<<"]("<style>\n"+e.$read_contents(e.$attr("stylesheet"),i(["start","warn_on_failure","label"],{start:e.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),u(e["$attr?"]("icons","font"))&&(u(e["$attr?"]("iconfont-remote"))?g["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",n+"/font-awesome/"+z("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+r+">"):(w=e.$attr("iconfont-name","font-awesome")+".css",g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(w,e.$attr("stylesdir",""),!1)+'"'+r+">"))),u(A=e.$syntax_highlighter())&&g["$<<"](E=g.$size()),u((S=e.$docinfo())["$empty?"]())||g["$<<"](S),g["$<<"]("</head>"),l=u(e.$id())?' id="'+e.$id()+'"':"",O=u(h=e["$sections?"]())&&u(e["$attr?"]("toc-class"))&&u(e["$attr?"]("toc"))&&u(e["$attr?"]("toc-placement","auto"))?[e.$doctype(),e.$attr("toc-class"),"toc-"+e.$attr("toc-position","header")]:[e.$doctype()],u(e["$role?"]())&&O["$<<"](e.$role()),g["$<<"]("<body"+l+' class="'+O.$join(" ")+'">'),u((S=e.$docinfo("header"))["$empty?"]())||g["$<<"](S),u(e.$noheader())||(g["$<<"]('<div id="header"'+a+">"),s(e.$doctype(),"manpage")?(g["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),u(h)&&u(e["$attr?"]("toc"))&&u(e["$attr?"]("toc-placement","auto"))&&g["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>"),u(e["$attr?"]("manpurpose"))&&g["$<<"](f.$generate_manname_section(e))):(u(e["$header?"]())&&(u(e.$notitle())||g["$<<"]("<h1>"+e.$header().$title()+"</h1>"),R=[],I=1,c(e.$authors(),"each",[],(function(r){return null==r&&(r=C),R["$<<"]('<span id="author'+(u(_(I,1))?I:"")+'" class="author">'+e.$sub_replacements(r.$name())+"</span>"+t),u(r.$email())&&R["$<<"]('<span id="email'+(u(_(I,1))?I:"")+'" class="email">'+e.$sub_macros(r.$email())+"</span>"+t),I=d(I,1)})),u(e["$attr?"]("revnumber"))&&R["$<<"]('<span id="revnumber">'+(u(T=e.$attr("version-label"))?T:"").$downcase()+" "+e.$attr("revnumber")+(u(e["$attr?"]("revdate"))?",":"")+"</span>"),u(e["$attr?"]("revdate"))&&R["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),u(e["$attr?"]("revremark"))&&R["$<<"](t+'<span id="revremark">'+e.$attr("revremark")+"</span>"),u(R["$empty?"]())||(g["$<<"]('<div class="details">'),g.$concat(R),g["$<<"]("</div>"))),u(h)&&u(e["$attr?"]("toc"))&&u(e["$attr?"]("toc-placement","auto"))&&g["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>")),g["$<<"]("</div>")),g["$<<"]('<div id="content"'+a+">\n"+e.$content()+"\n</div>"),u(e["$footnotes?"]())&&p(e["$attr?"]("nofootnotes"))&&(g["$<<"]('<div id="footnotes"'+a+">\n<hr"+r+">"),c(e.$footnotes(),"each",[],(function(e){return null==e&&(e=C),g["$<<"]('<div class="footnote" id="_footnotedef_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")})),g["$<<"]("</div>")),u(e.$nofooter())||(g["$<<"]('<div id="footer"'+a+">"),g["$<<"]('<div id="footer-text">'),u(e["$attr?"]("revnumber"))&&g["$<<"](e.$attr("version-label")+" "+e.$attr("revnumber")+t),u(e["$attr?"]("last-update-label"))&&p(e["$attr?"]("reproducible"))&&g["$<<"](e.$attr("last-update-label")+" "+e.$attr("docdatetime")),g["$<<"]("</div>"),g["$<<"]("</div>")),u(A)&&(u(A["$docinfo?"]("head"))?g["$[]="](E,A.$docinfo("head",e,i(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:n,linkcss:o,self_closing_tag_slash:r}))):g.$delete_at(E),u(A["$docinfo?"]("footer"))&&g["$<<"](A.$docinfo("footer",e,i(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:n,linkcss:o,self_closing_tag_slash:r})))),u(e["$attr?"]("stem"))&&(F=e.$attr("eqnums","none"),u(F["$empty?"]())&&(F="AMS"),N=' equationNumbers: { autoNumber: "'+F+'" } ',g["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+z("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+z("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+z("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+N+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+n+"/mathjax/"+z("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),u((S=e.$docinfo("footer"))["$empty?"]())||g["$<<"](S),g["$<<"]("</body>"),g["$<<"]("</html>"),g.$join(z("LF"))})),a(I,"$convert_embedded",(function(e){var t=C,r=C,n=C;return t=[],s(e.$doctype(),"manpage")?(u(e.$notitle())||(r=u(e.$id())?' id="'+e.$id()+'"':"",t["$<<"]("<h1"+r+">"+e.$doctitle()+" Manual Page</h1>")),u(e["$attr?"]("manpurpose"))&&t["$<<"](this.$generate_manname_section(e))):u(e["$header?"]())&&p(e.$notitle())&&(r=u(e.$id())?' id="'+e.$id()+'"':"",t["$<<"]("<h1"+r+">"+e.$header().$title()+"</h1>")),u(e["$sections?"]())&&u(e["$attr?"]("toc"))&&h(n=e.$attr("toc-placement"),"macro")&&h(n,"preamble")&&t["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>"),t["$<<"](e.$content()),u(e["$footnotes?"]())&&p(e["$attr?"]("nofootnotes"))&&(t["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),c(e.$footnotes(),"each",[],(function(e){return null==e&&(e=C),t["$<<"]('<div class="footnote" id="_footnotedef_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")})),t["$<<"]("</div>")),t.$join(z("LF"))})),a(I,"$convert_outline",(function(e,t){var r,n,o=C,a=C,$=C,l=C;return null==t&&(t=i([],{})),u(e["$sections?"]())?(r=u(o=t["$[]"]("sectnumlevels"))?o:(u(a=e.$document().$attributes()["$[]"]("sectnumlevels"))?a:3).$to_i(),n=u(o=t["$[]"]("toclevels"))?o:(u(a=e.$document().$attributes()["$[]"]("toclevels"))?a:2).$to_i(),$=e.$sections(),l=['<ul class="sectlevel'+$["$[]"](0).$level()+'">'],c($,"each",[],(function t(o){var a,$=null==t.$$s?this:t.$$s,c=C,_=C,d=C;if(null==o&&(o=C),a=o.$level(),u(o.$caption()))c=o.$captioned_title();else if(u(o.$numbered())&&u(f(a,r)))if(u(m(a,2))&&s(e.$document().$doctype(),"book"))switch(o.$sectname()){case"chapter":c=(u(_=e.$document().$attributes()["$[]"]("chapter-signifier"))?_+" ":"")+o.$sectnum()+" "+o.$title();break;case"part":c=(u(_=e.$document().$attributes()["$[]"]("part-signifier"))?_+" ":"")+o.$sectnum(C,":")+" "+o.$title();break;default:c=o.$sectnum()+" "+o.$title()}else c=o.$sectnum()+" "+o.$title();else c=o.$title();return u(c["$include?"]("<a"))&&(c=c.$gsub(z("DropAnchorRx"),"")),u(m(a,n))&&u(d=$.$convert_outline(o,i(["toclevels","sectnumlevels"],{toclevels:n,sectnumlevels:r})))?(l["$<<"]('<li><a href="#'+o.$id()+'">'+c+"</a>"),l["$<<"](d),l["$<<"]("</li>")):l["$<<"]('<li><a href="#'+o.$id()+'">'+c+"</a></li>")}),{$$s:this}),l["$<<"]("</ul>"),l.$join(z("LF"))):C}),-2),a(I,"$convert_section",(function(e){var t,r=C,n=C,i=C,o=C,a=C,$=C,l=C;if(r=e.$document().$attributes(),t=e.$level(),u(e.$caption()))n=e.$captioned_title();else if(u(e.$numbered())&&u(f(t,(u(i=r["$[]"]("sectnumlevels"))?i:3).$to_i())))if(u(m(t,2))&&s(e.$document().$doctype(),"book"))switch(e.$sectname()){case"chapter":n=(u(o=r["$[]"]("chapter-signifier"))?o+" ":"")+e.$sectnum()+" "+e.$title();break;case"part":n=(u(o=r["$[]"]("part-signifier"))?o+" ":"")+e.$sectnum(C,":")+" "+e.$title();break;default:n=e.$sectnum()+" "+e.$title()}else n=e.$sectnum()+" "+e.$title();else n=e.$title();return u(e.$id())?(a=' id="'+($=e.$id())+'"',u(r["$[]"]("sectlinks"))&&(n='<a class="link" href="#'+$+'">'+n+"</a>"),u(r["$[]"]("sectanchors"))&&(n=s(r["$[]"]("sectanchors"),"after")?n+'<a class="anchor" href="#'+$+'"></a>':'<a class="anchor" href="#'+$+'"></a>'+n)):a="",s(t,0)?"<h1"+a+' class="sect0'+(u(l=e.$role())?" "+l:"")+'">'+n+"</h1>\n"+e.$content():'<div class="sect'+t+(u(l=e.$role())?" "+l:"")+'">\n<h'+d(t,1)+a+">"+n+"</h"+d(t,1)+">\n"+(s(t,1)?'<div class="sectionbody">\n'+e.$content()+"\n</div>":e.$content())+"\n</div>"})),a(I,"$convert_admonition",(function(e){var t,r,n,i,o=C;return t=u(e.$id())?' id="'+e.$id()+'"':"",r=e.$attr("name"),n=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",o=u(e.$document()["$attr?"]("icons"))?u(e.$document()["$attr?"]("icons","font"))&&p(e["$attr?"]("icon"))?'<i class="fa icon-'+r+'" title="'+e.$attr("textlabel")+'"></i>':'<img src="'+e.$icon_uri(r)+'" alt="'+e.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+e.$attr("textlabel")+"</div>","<div"+t+' class="admonitionblock '+r+(u(i=e.$role())?" "+i:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+o+'\n</td>\n<td class="content">\n'+n+e.$content()+"\n</td>\n</tr>\n</table>\n</div>"})),a(I,"$convert_audio",(function(e){var t,r,n,i,o,s,a,$=this,l=C;return t=$.xml_mode,r=u(e.$id())?' id="'+e.$id()+'"':"",n=' class="'+["audioblock",e.$role()].$compact().$join(" ")+'"',i=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",o=e.$attr("start"),s=e.$attr("end"),a=u(o)||u(s)?"#t="+(u(l=o)?l:"")+(u(s)?","+s:""):"","<div"+r+n+">\n"+i+'<div class="content">\n<audio src="'+e.$media_uri(e.$attr("target"))+a+'"'+(u(e["$option?"]("autoplay"))?$.$append_boolean_attribute("autoplay",t):"")+(u(e["$option?"]("nocontrols"))?"":$.$append_boolean_attribute("controls",t))+(u(e["$option?"]("loop"))?$.$append_boolean_attribute("loop",t):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"})),a(I,"$convert_colist",(function(e){var t,r,n,i=C,o=C,s=C;return i=[],r=u(e.$id())?' id="'+e.$id()+'"':"",n=' class="'+["colist",e.$style(),e.$role()].$compact().$join(" ")+'"',i["$<<"]("<div"+r+n+">"),u(e["$title?"]())&&i["$<<"]('<div class="title">'+e.$title()+"</div>"),u(e.$document()["$attr?"]("icons"))?(i["$<<"]("<table>"),t=[e.$document()["$attr?"]("icons","font"),0],o=t[0],s=t[1],c(e.$items(),"each",[],(function t(r){var n=null==t.$$s?this:t.$$s,a=C;return null==n.void_element_slash&&(n.void_element_slash=C),null==r&&(r=C),s=d(s,1),a=u(o)?'<i class="conum" data-value="'+s+'"></i><b>'+s+"</b>":'<img src="'+e.$icon_uri("callouts/"+s)+'" alt="'+s+'"'+n.void_element_slash+">",i["$<<"]("<tr>\n<td>"+a+"</td>\n<td>"+r.$text()+(u(r["$blocks?"]())?d(z("LF"),r.$content()):"")+"</td>\n</tr>")}),{$$s:this}),i["$<<"]("</table>")):(i["$<<"]("<ol>"),c(e.$items(),"each",[],(function(e){return null==e&&(e=C),i["$<<"]("<li>\n<p>"+e.$text()+"</p>"+(u(e["$blocks?"]())?d(z("LF"),e.$content()):"")+"\n</li>")})),i["$<<"]("</ol>")),i["$<<"]("</div>"),i.$join(z("LF"))})),a(I,"$convert_dlist",(function(e){var t,r,n=C,i=C,o=C,s=C,a=C;switch(n=[],t=u(e.$id())?' id="'+e.$id()+'"':"",e.$style()){case"qanda":i=["qlist","qanda",e.$role()];break;case"horizontal":i=["hdlist",e.$role()];break;default:i=["dlist",e.$style(),e.$role()]}switch(r=' class="'+i.$compact().$join(" ")+'"',n["$<<"]("<div"+t+r+">"),u(e["$title?"]())&&n["$<<"]('<div class="title">'+e.$title()+"</div>"),e.$style()){case"qanda":n["$<<"]("<ol>"),c(e.$items(),"each",[],(function(e,t){return null==e&&(e=C),null==t&&(t=C),n["$<<"]("<li>"),c(e,"each",[],(function(e){return null==e&&(e=C),n["$<<"]("<p><em>"+e.$text()+"</em></p>")})),u(t)&&(u(t["$text?"]())&&n["$<<"]("<p>"+t.$text()+"</p>"),u(t["$blocks?"]())&&n["$<<"](t.$content())),n["$<<"]("</li>")})),n["$<<"]("</ol>");break;case"horizontal":o=this.void_element_slash,n["$<<"]("<table>"),(u(e["$attr?"]("labelwidth"))||u(e["$attr?"]("itemwidth")))&&(n["$<<"]("<colgroup>"),s=u(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':"",n["$<<"]("<col"+s+o+">"),s=u(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':"",n["$<<"]("<col"+s+o+">"),n["$<<"]("</colgroup>")),c(e.$items(),"each",[],(function(t,r){var i=C;return null==t&&(t=C),null==r&&(r=C),n["$<<"]("<tr>"),n["$<<"]('<td class="hdlist1'+(u(e["$option?"]("strong"))?" strong":"")+'">'),i=!0,c(t,"each",[],(function(e){return null==e&&(e=C),u(i)||n["$<<"]("<br"+o+">"),n["$<<"](e.$text()),i=C})),n["$<<"]("</td>"),n["$<<"]('<td class="hdlist2">'),u(r)&&(u(r["$text?"]())&&n["$<<"]("<p>"+r.$text()+"</p>"),u(r["$blocks?"]())&&n["$<<"](r.$content())),n["$<<"]("</td>"),n["$<<"]("</tr>")})),n["$<<"]("</table>");break;default:n["$<<"]("<dl>"),a=u(e.$style())?"":' class="hdlist1"',c(e.$items(),"each",[],(function(e,t){return null==e&&(e=C),null==t&&(t=C),c(e,"each",[],(function(e){return null==e&&(e=C),n["$<<"]("<dt"+a+">"+e.$text()+"</dt>")})),u(t)?(n["$<<"]("<dd>"),u(t["$text?"]())&&n["$<<"]("<p>"+t.$text()+"</p>"),u(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</dd>")):C})),n["$<<"]("</dl>")}return n["$<<"]("</div>"),n.$join(z("LF"))})),a(I,"$convert_example",(function(e){var t,r=C,n=C,i=C,o=C;return t=u(e.$id())?' id="'+e.$id()+'"':"",u(e["$option?"]("collapsible"))?(r=u(e.$role())?' class="'+e.$role()+'"':"",n=u(e["$title?"]())?'<summary class="title">'+e.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+t+r+(u(e["$option?"]("open"))?" open":"")+">\n"+n+'\n<div class="content">\n'+e.$content()+"\n</div>\n</details>"):(i=u(e["$title?"]())?'<div class="title">'+e.$captioned_title()+"</div>\n":"","<div"+t+' class="exampleblock'+(u(o=e.$role())?" "+o:"")+'">\n'+i+'<div class="content">\n'+e.$content()+"\n</div>\n</div>")})),a(I,"$convert_floating_title",(function(e){var t;return"<"+(t="h"+d(e.$level(),1))+(u(e.$id())?' id="'+e.$id()+'"':"")+' class="'+[e.$style(),e.$role()].$compact().$join(" ")+'">'+e.$title()+"</"+t+">"})),a(I,"$convert_image",(function(e){var t,r,n,i=this,o=C,s=C,a=C,$=C,l=C;return o=e.$attr("target"),t=u(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",r=u(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",(u(e["$attr?"]("format","svg"))||u(o["$include?"](".svg")))&&u(m(e.$document().$safe(),O(z("SafeMode"),"SECURE")))?u(e["$option?"]("inline"))?s=u(a=i.$read_svg_contents(e,o))?a:'<span class="alt">'+e.$alt()+"</span>":u(e["$option?"]("interactive"))?($=u(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+r+i.void_element_slash+">":'<span class="alt">'+e.$alt()+"</span>",s='<object type="image/svg+xml" data="'+e.$image_uri(o)+'"'+t+r+">"+$+"</object>"):s='<img src="'+e.$image_uri(o)+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+r+i.void_element_slash+">":s='<img src="'+e.$image_uri(o)+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+r+i.void_element_slash+">",u(e["$attr?"]("link"))&&(s='<a class="image" href="'+e.$attr("link")+'"'+i.$append_link_constraint_attrs(e).$join()+">"+s+"</a>"),n=u(e.$id())?' id="'+e.$id()+'"':"",l=["imageblock"],u(e["$attr?"]("float"))&&l["$<<"](e.$attr("float")),u(e["$attr?"]("align"))&&l["$<<"]("text-"+e.$attr("align")),u(e.$role())&&l["$<<"](e.$role()),"<div"+n+(' class="'+l.$join(" ")+'"')+'>\n<div class="content">\n'+s+"\n</div>"+(u(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":"")+"\n</div>"})),a(I,"$convert_listing",(function(e){var t,r,n,o,a=C,$=C,l=C,c=C,_=C,p=C,h=C;return t=u(a=e["$option?"]("nowrap"))?a:e.$document()["$attr?"]("prewrap")["$!"](),s(e.$style(),"source")?($=e.$attr("language"),u(l=e.$document().$syntax_highlighter())?(c=u(l["$highlight?"]())?i(["css_mode","style"],{css_mode:(u(a=(_=e.$document().$attributes())["$[]"](l.$name()+"-css"))?a:"class").$to_sym(),style:_["$[]"](l.$name()+"-style")}):i([],{}))["$[]="]("nowrap",t):(p='<pre class="highlight'+(u(t)?" nowrap":"")+'"><code'+(u($)?' class="language-'+$+'" data-lang="'+$+'"':"")+">",h="</code></pre>")):(p="<pre"+(u(t)?' class="nowrap"':"")+">",h="</pre>"),r=u(e.$id())?' id="'+e.$id()+'"':"",n=u(e["$title?"]())?'<div class="title">'+e.$captioned_title()+"</div>\n":"","<div"+r+' class="listingblock'+(u(o=e.$role())?" "+o:"")+'">\n'+n+'<div class="content">\n'+(u(l)?l.$format(e,$,c):d(d(p,u(a=e.$content())?a:""),h))+"\n</div>\n</div>"})),a(I,"$convert_literal",(function(e){var t,r,n,i,o;return t=u(e.$id())?' id="'+e.$id()+'"':"",r=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",n=u(i=e.$document()["$attr?"]("prewrap")["$!"]())?i:e["$option?"]("nowrap"),"<div"+t+' class="literalblock'+(u(o=e.$role())?" "+o:"")+'">\n'+r+'<div class="content">\n<pre'+(u(n)?' class="nowrap"':"")+">"+e.$content()+"</pre>\n</div>\n</div>"})),a(I,"$convert_stem",(function(e){var t,r,n,i,o,a,$,l,_=C,d=C;return n=u(e.$id())?' id="'+e.$id()+'"':"",i=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",r=z("BLOCK_MATH_DELIMITERS")["$[]"](o=e.$style().$to_sym()),t=g(r),a=null==t[0]?C:t[0],$=null==t[1]?C:t[1],u(_=e.$content())?(s(o,"asciimath")&&u(_["$include?"](z("LF")))&&(d=z("LF")+"<br"+this.void_element_slash+">",_=c(_,"gsub",[z("StemBreakRx")],(function(){var e;return""+$+b(d,v(((e=y["~"])===C?C:e["$[]"](0)).$count(z("LF")),1))+z("LF")+a}))),u(_["$start_with?"](a))&&u(_["$end_with?"]($))||(_=""+a+_+$)):_="","<div"+n+' class="stemblock'+(u(l=e.$role())?" "+l:"")+'">\n'+i+'<div class="content">\n'+_+"\n</div>\n</div>"})),a(I,"$convert_olist",(function(e){var t,r,n,i,o,s,a=C;return a=[],t=u(e.$id())?' id="'+e.$id()+'"':"",r=' class="'+["olist",e.$style(),e.$role()].$compact().$join(" ")+'"',a["$<<"]("<div"+t+r+">"),u(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),n=u(i=e.$list_marker_keyword())?' type="'+i+'"':"",o=u(e["$attr?"]("start"))?' start="'+e.$attr("start")+'"':"",s=u(e["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"",a["$<<"]('<ol class="'+e.$style()+'"'+n+o+s+">"),c(e.$items(),"each",[],(function(e){return null==e&&(e=C),u(e.$id())?a["$<<"]('<li id="'+e.$id()+'"'+(u(e.$role())?' class="'+e.$role()+'"':"")+">"):u(e.$role())?a["$<<"]('<li class="'+e.$role()+'">'):a["$<<"]("<li>"),a["$<<"]("<p>"+e.$text()+"</p>"),u(e["$blocks?"]())&&a["$<<"](e.$content()),a["$<<"]("</li>")})),a["$<<"]("</ol>"),a["$<<"]("</div>"),a.$join(z("LF"))})),a(I,"$convert_open",(function(e){var t,r=C,n=C,i=C;return s(t=e.$style(),"abstract")?s(e.$parent(),e.$document())&&s(e.$document().$doctype(),"book")?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(r=u(e.$id())?' id="'+e.$id()+'"':"",n=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+r+' class="quoteblock abstract'+(u(i=e.$role())?" "+i:"")+'">\n'+n+"<blockquote>\n"+e.$content()+"\n</blockquote>\n</div>"):s(t,"partintro")&&(u(_(e.$level(),0))||h(e.$parent().$context(),"section")||h(e.$document().$doctype(),"book"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(r=u(e.$id())?' id="'+e.$id()+'"':"",n=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+r+' class="openblock'+(u(t)&&h(t,"open")?" "+t:"")+(u(i=e.$role())?" "+i:"")+'">\n'+n+'<div class="content">\n'+e.$content()+"\n</div>\n</div>")})),a(I,"$convert_page_break",x('<div style="page-break-after: always;"></div>')),a(I,"$convert_paragraph",(function(e){var t=C;return t=u(e.$role())?(u(e.$id())?' id="'+e.$id()+'"':"")+' class="paragraph '+e.$role()+'"':u(e.$id())?' id="'+e.$id()+'" class="paragraph"':' class="paragraph"',u(e["$title?"]())?"<div"+t+'>\n<div class="title">'+e.$title()+"</div>\n<p>"+e.$content()+"</p>\n</div>":"<div"+t+">\n<p>"+e.$content()+"</p>\n</div>"})),k(I,"convert_pass","content_only"),a(I,"$convert_preamble",(function(e){var t=C,r=C;return r=u((t=e.$document())["$attr?"]("toc-placement","preamble"))&&u(t["$sections?"]())&&u(t["$attr?"]("toc"))?'\n<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+t.$converter().$convert(t,"outline")+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+e.$content()+"\n</div>"+r+"\n</div>"})),a(I,"$convert_quote",(function(e){var t,r,n,i,o,s=C,a=C;return t=u(e.$id())?' id="'+e.$id()+'"':"",r=' class="'+["quoteblock",e.$role()].$compact().$join(" ")+'"',n=u(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",i=u(e["$attr?"]("attribution"))?e.$attr("attribution"):C,o=u(e["$attr?"]("citetitle"))?e.$attr("citetitle"):C,u(i)||u(o)?(s=u(o)?"<cite>"+o+"</cite>":"",a='\n<div class="attribution">\n'+(u(i)?"&#8212; "+i+(u(o)?"<br"+this.void_element_slash+">\n":""):"")+s+"\n</div>"):a="","<div"+t+r+">"+n+"\n<blockquote>\n"+e.$content()+"\n</blockquote>"+a+"\n</div>"})),a(I,"$convert_thematic_break",(function(e){return"<hr"+this.void_element_slash+">"})),a(I,"$convert_sidebar",(function(e){var t,r,n;return t=u(e.$id())?' id="'+e.$id()+'"':"",r=u(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+t+' class="sidebarblock'+(u(n=e.$role())?" "+n:"")+'">\n<div class="content">\n'+r+e.$content()+"\n</div>\n</div>"})),a(I,"$convert_table",(function(e){var t,r,n,i,o,a=C,$=C,l=C,h=C,f=C,m=C;return a=[],t=u(e.$id())?' id="'+e.$id()+'"':"",s($=e.$attr("frame","all","table-frame"),"topbot")&&($="ends"),l=["tableblock","frame-"+$,"grid-"+e.$attr("grid","all","table-grid")],u(r=e.$attr("stripes",C,"table-stripes"))&&l["$<<"]("stripes-"+r),h="",u(n=e["$option?"]("autowidth"))&&p(e["$attr?"]("width"))?l["$<<"]("fit-content"):s(f=e.$attr("tablepcwidth"),100)?l["$<<"]("stretch"):h=' style="width: '+f+'%;"',u(e["$attr?"]("float"))&&l["$<<"](e.$attr("float")),u(i=e.$role())&&l["$<<"](i),o=' class="'+l.$join(" ")+'"',a["$<<"]("<table"+t+o+h+">"),u(e["$title?"]())&&a["$<<"]('<caption class="title">'+e.$captioned_title()+"</caption>"),u(_(e.$attr("rowcount"),0))&&(m=this.void_element_slash,a["$<<"]("<colgroup>"),u(n)?a=d(a,z("Array").$new(e.$columns().$size(),"<col"+m+">")):c(e.$columns(),"each",[],(function(e){return null==e&&(e=C),a["$<<"](u(e["$option?"]("autowidth"))?"<col"+m+">":'<col style="width: '+e.$attr("colpcwidth")+'%;"'+m+">")})),a["$<<"]("</colgroup>"),c(e.$rows().$to_h(),"each",[],(function(t,r){return null==t&&(t=C),null==r&&(r=C),u(r["$empty?"]())?C:(a["$<<"]("<t"+t+">"),c(r,"each",[],(function(r){return null==r&&(r=C),a["$<<"]("<tr>"),c(r,"each",[],(function(r){var n,i,o,$,l,c=C;if(null==r&&(r=C),s(t,"head"))c=r.$text();else switch(r.$style()){case"asciidoc":c='<div class="content">'+r.$content()+"</div>";break;case"literal":c='<div class="literal"><pre>'+r.$text()+"</pre></div>";break;default:c=u((c=r.$content())["$empty?"]())?"":'<p class="tableblock">'+c.$join('</p>\n<p class="tableblock">')+"</p>"}return n=s(t,"head")||s(r.$style(),"header")?"th":"td",i=' class="tableblock halign-'+r.$attr("halign")+" valign-"+r.$attr("valign")+'"',o=u(r.$colspan())?' colspan="'+r.$colspan()+'"':"",$=u(r.$rowspan())?' rowspan="'+r.$rowspan()+'"':"",l=u(e.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+e.$document().$attr("cellbgcolor")+';"':"",a["$<<"]("<"+n+i+o+$+l+">"+c+"</"+n+">")})),a["$<<"]("</tr>")})),a["$<<"]("</t"+t+">"))}))),a["$<<"]("</table>"),a.$join(z("LF"))})),a(I,"$convert_toc",(function(e){var t,r,n=C,o=C,s=C;return u((n=e.$document())["$attr?"]("toc-placement","macro"))&&u(n["$sections?"]())&&u(n["$attr?"]("toc"))?(u(e.$id())?(o=' id="'+e.$id()+'"',s=' id="'+e.$id()+'title"'):(o=' id="toc"',s=' id="toctitle"'),t=u(e["$title?"]())?e.$title():n.$attr("toc-title"),r=u(e["$attr?"]("levels"))?e.$attr("levels").$to_i():C,"<div"+o+' class="'+(u(e["$role?"]())?e.$role():n.$attr("toc-class","toc"))+'">\n<div'+s+' class="title">'+t+"</div>\n"+n.$converter().$convert(n,"outline",i(["toclevels"],{toclevels:r}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"})),a(I,"$convert_ulist",(function(e){var t,r,n=C,i=C,o=C,s=C,a=C;return n=[],t=u(e.$id())?' id="'+e.$id()+'"':"",i=["ulist",e.$style(),e.$role()].$compact(),o=s="",u(r=e["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),a=' class="checklist"',u(e["$option?"]("interactive"))?u(this.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',s='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',s='<input type="checkbox" data-item-complete="0"> '):u(e.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',s='<i class="fa fa-square-o"></i> '):(o="&#10003; ",s="&#10063; ")):a=u(e.$style())?' class="'+e.$style()+'"':"",n["$<<"]("<div"+t+' class="'+i.$join(" ")+'">'),u(e["$title?"]())&&n["$<<"]('<div class="title">'+e.$title()+"</div>"),n["$<<"]("<ul"+a+">"),c(e.$items(),"each",[],(function(e){return null==e&&(e=C),u(e.$id())?n["$<<"]('<li id="'+e.$id()+'"'+(u(e.$role())?' class="'+e.$role()+'"':"")+">"):u(e.$role())?n["$<<"]('<li class="'+e.$role()+'">'):n["$<<"]("<li>"),u(r)&&u(e["$attr?"]("checkbox"))?n["$<<"]("<p>"+(u(e["$attr?"]("checked"))?o:s)+e.$text()+"</p>"):n["$<<"]("<p>"+e.$text()+"</p>"),u(e["$blocks?"]())&&n["$<<"](e.$content()),n["$<<"]("</li>")})),n["$<<"]("</ul>"),n["$<<"]("</div>"),n.$join(z("LF"))})),a(I,"$convert_verse",(function(e){var t,r,n,i,o,s=C,a=C;return t=u(e.$id())?' id="'+e.$id()+'"':"",r=' class="'+["verseblock",e.$role()].$compact().$join(" ")+'"',n=u(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",i=u(e["$attr?"]("attribution"))?e.$attr("attribution"):C,o=u(e["$attr?"]("citetitle"))?e.$attr("citetitle"):C,u(i)||u(o)?(s=u(o)?"<cite>"+o+"</cite>":"",a='\n<div class="attribution">\n'+(u(i)?"&#8212; "+i+(u(o)?"<br"+this.void_element_slash+">\n":""):"")+s+"\n</div>"):a="","<div"+t+r+">"+n+'\n<pre class="content">'+e.$content()+"</pre>"+a+"\n</div>"})),a(I,"$convert_video",(function(e){var t,r,n,i,o,s,a,$,l=this,c=C,_=C,d=C,p=C,h=C,f=C,m=C,b=C,v=C,y=C,x=C,k=C,w=C,A=C,E=C,S=C,O=C,R=C,I=C,T=C,z=C,F=C,N=C,L=C,D=C,q=C,B=C,M=C,j=C;switch(n=l.xml_mode,i=u(e.$id())?' id="'+e.$id()+'"':"",c=["videoblock"],u(e["$attr?"]("float"))&&c["$<<"](e.$attr("float")),u(e["$attr?"]("align"))&&c["$<<"]("text-"+e.$attr("align")),u(e.$role())&&c["$<<"](e.$role()),o=' class="'+c.$join(" ")+'"',s=u(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",a=u(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",$=u(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",e.$attr("poster")){case"vimeo":return u((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),d=u(e["$attr?"]("start"))?"#at="+e.$attr("start"):"",p=["?"],r=e.$attr("target").$split("/",2),h=null==(t=g(r))[0]?C:t[0],f=null==t[1]?C:t[1],"<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+a+$+' src="'+_+"//player.vimeo.com/video/"+h+(u(f=u(m=f)?m:e.$attr("hash"))?(u(m=p.$pop())?m:"&amp;")+"h="+f:"")+(b=u(e["$option?"]("autoplay"))?(u(m=p.$pop())?m:"&amp;")+"autoplay=1":"")+(v=u(e["$option?"]("loop"))?(u(m=p.$pop())?m:"&amp;")+"loop=1":"")+(u(e["$option?"]("muted"))?(u(m=p.$pop())?m:"&amp;")+"muted=1":"")+d+'" frameborder="0"'+(u(e["$option?"]("nofullscreen"))?"":l.$append_boolean_attribute("allowfullscreen",n))+"></iframe>\n</div>\n</div>";case"youtube":return u((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),y=u(e["$option?"]("related"))?1:0,x=u(e["$attr?"]("start"))?"&amp;start="+e.$attr("start"):"",k=u(e["$attr?"]("end"))?"&amp;end="+e.$attr("end"):"",b=u(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",v=u(w=e["$option?"]("loop"))?"&amp;loop=1":"",A=u(e["$option?"]("muted"))?"&amp;mute=1":"",E=u(e["$option?"]("nocontrols"))?"&amp;controls=0":"",u(e["$option?"]("nofullscreen"))?(S="&amp;fs=0",O=""):(S="",O=l.$append_boolean_attribute("allowfullscreen",n)),R=u(e["$option?"]("modest"))?"&amp;modestbranding=1":"",I=u(e["$attr?"]("theme"))?"&amp;theme="+e.$attr("theme"):"",T=u(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",r=e.$attr("target").$split("/",2),h=null==(t=g(r))[0]?C:t[0],z=null==t[1]?C:t[1],u(z=u(m=z)?m:e.$attr("list"))?F="&amp;list="+z:(r=h.$split(",",2),h=null==(t=g(r))[0]?C:t[0],N=null==t[1]?C:t[1],F=u(N=u(m=N)?m:e.$attr("playlist"))?"&amp;playlist="+h+","+N:u(w)?"&amp;playlist="+h:""),"<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+a+$+' src="'+_+"//www.youtube.com/embed/"+h+"?rel="+y+x+k+b+v+A+E+F+S+R+I+T+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>";default:return L=u((D=e.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(D)+'"',q=u((D=e.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+D+'"',B=e.$attr("start"),M=e.$attr("end"),j=u(B)||u(M)?"#t="+(u(m=B)?m:"")+(u(M)?","+M:""):"","<div"+i+o+">"+s+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+j+'"'+a+$+L+(u(e["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",n):"")+(u(e["$option?"]("muted"))?l.$append_boolean_attribute("muted",n):"")+(u(e["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",n))+(u(e["$option?"]("loop"))?l.$append_boolean_attribute("loop",n):"")+q+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}})),a(I,"$convert_inline_anchor",(function(e){var t=this,r=C,n=C,i=C,o=C,s=C,a=C,$=C,l=C,c=C;switch(e.$type()){case"xref":return u(r=e.$attributes()["$[]"]("path"))?(n=t.$append_link_constraint_attrs(e,u(e.$role())?[' class="'+e.$role()+'"']:[]).$join(),i=u(o=e.$text())?o:r):(n=u(e.$role())?' class="'+e.$role()+'"':"",u(i=e.$text())||(w(z("AbstractNode"),s=u(o=(t.refs=u(a=t.refs)?a:e.$document().$catalog()["$[]"]("refs"))["$[]"]($=e.$attributes()["$[]"]("refid")))?o:u($["$nil_or_empty?"]())?l=t.$get_root_document(e):C)?u(t.resolving_xref=u(o=t.resolving_xref)?o:c=!0)&&u(c)?(u(i=s.$xreftext(e.$attr("xrefstyle",C,!0)))?u(i["$include?"]("<a"))&&(i=i.$gsub(z("DropAnchorRx"),"")):i=u(l)?"[^top]":"["+$+"]",t.resolving_xref=C):i=u(l)?"[^top]":"["+$+"]":i="["+$+"]")),'<a href="'+e.$target()+'"'+n+">"+i+"</a>";case"ref":return'<a id="'+e.$id()+'"></a>';case"link":return n=u(e.$id())?[' id="'+e.$id()+'"']:[],u(e.$role())&&n["$<<"](' class="'+e.$role()+'"'),u(e["$attr?"]("title"))&&n["$<<"](' title="'+e.$attr("title")+'"'),'<a href="'+e.$target()+'"'+t.$append_link_constraint_attrs(e,n).$join()+">"+e.$text()+"</a>";case"bibref":return'<a id="'+e.$id()+'"></a>['+(u(o=e.$reftext())?o:e.$id())+"]";default:return t.$logger().$warn("unknown anchor type: "+e.$type().$inspect()),C}})),a(I,"$convert_inline_break",(function(e){return e.$text()+"<br"+this.void_element_slash+">"})),a(I,"$convert_inline_button",(function(e){return'<b class="button">'+e.$text()+"</b>"})),a(I,"$convert_inline_callout",(function(e){var t=C;return u(e.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+e.$text()+'"></i><b>('+e.$text()+")</b>":u(e.$document()["$attr?"]("icons"))?'<img src="'+e.$icon_uri("callouts/"+e.$text())+'" alt="'+e.$text()+'"'+this.void_element_slash+">":w(O("Array"),t=e.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+e.$text()+")</b>--&gt;":t+'<b class="conum">('+e.$text()+")</b>"})),a(I,"$convert_inline_footnote",(function(e){var t;return u(t=e.$attr("index"))?s(e.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+t+'" title="View footnote.">'+t+"</a>]</sup>":'<sup class="footnote"'+(u(e.$id())?' id="_footnote_'+e.$id()+'"':"")+'>[<a id="_footnoteref_'+t+'" class="footnote" href="#_footnotedef_'+t+'" title="View footnote.">'+t+"</a>]</sup>":s(e.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+e.$text()+"]</sup>":C})),a(I,"$convert_inline_image",(function(e){var t,r,n=this,i=C,o=C,a=C,$=C,l=C,c=C,_=C,d=C;return i=e.$target(),s(t=u(o=e.$type())?o:"image","icon")?s(a=e.$document().$attr("icons"),"font")?($="fa fa-"+i,u(e["$attr?"]("size"))&&($=$+" fa-"+e.$attr("size")),u(e["$attr?"]("flip"))?$=$+" fa-flip-"+e.$attr("flip"):u(e["$attr?"]("rotate"))&&($=$+" fa-rotate-"+e.$attr("rotate")),c='<i class="'+$+'"'+(l=u(e["$attr?"]("title"))?' title="'+e.$attr("title")+'"':"")+"></i>"):u(a)?(l=u(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",u(e["$attr?"]("height"))&&(l=l+' height="'+e.$attr("height")+'"'),u(e["$attr?"]("title"))&&(l=l+' title="'+e.$attr("title")+'"'),c='<img src="'+e.$icon_uri(i)+'" alt="'+n.$encode_attribute_value(e.$alt())+'"'+l+n.void_element_slash+">"):c="["+e.$alt()+"&#93;":(l=u(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",u(e["$attr?"]("height"))&&(l=l+' height="'+e.$attr("height")+'"'),u(e["$attr?"]("title"))&&(l=l+' title="'+e.$attr("title")+'"'),(u(e["$attr?"]("format","svg"))||u(i["$include?"](".svg")))&&u(m(e.$document().$safe(),O(z("SafeMode"),"SECURE")))?u(e["$option?"]("inline"))?c=u(o=n.$read_svg_contents(e,i))?o:'<span class="alt">'+e.$alt()+"</span>":u(e["$option?"]("interactive"))?(_=u(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+n.$encode_attribute_value(e.$alt())+'"'+l+n.void_element_slash+">":'<span class="alt">'+e.$alt()+"</span>",c='<object type="image/svg+xml" data="'+e.$image_uri(i)+'"'+l+">"+_+"</object>"):c='<img src="'+e.$image_uri(i)+'" alt="'+n.$encode_attribute_value(e.$alt())+'"'+l+n.void_element_slash+">":c='<img src="'+e.$image_uri(i)+'" alt="'+n.$encode_attribute_value(e.$alt())+'"'+l+n.void_element_slash+">"),u(e["$attr?"]("link"))&&(c='<a class="image" href="'+e.$attr("link")+'"'+n.$append_link_constraint_attrs(e).$join()+">"+c+"</a>"),d=t,u(r=e.$role())?d=u(e["$attr?"]("float"))?d+" "+e.$attr("float")+" "+r:d+" "+r:u(e["$attr?"]("float"))&&(d=d+" "+e.$attr("float")),'<span class="'+d+'">'+c+"</span>"})),a(I,"$convert_inline_indexterm",(function(e){return s(e.$type(),"visible")?e.$text():""})),a(I,"$convert_inline_kbd",(function(e){var t=C;return s((t=e.$attr("keys")).$size(),1)?"<kbd>"+t["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+t.$join("</kbd>+<kbd>")+"</kbd></span>"})),a(I,"$convert_inline_menu",(function(e){var t,r,n,i=C,o=C;return r="</b>"+(t=u(e.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',n=e.$attr("menu"),u((i=e.$attr("submenus"))["$empty?"]())?u(o=e.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+n+"</b>"+t+'<b class="menuitem">'+o+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+t+'<b class="submenu">'+i.$join(r)+"</b>"+t+'<b class="menuitem">'+e.$attr("menuitem")+"</b></span>"})),a(I,"$convert_inline_quoted",(function(e){var t,r,n,i,o=C,s=C;return r=z("QUOTE_TAGS")["$[]"](e.$type()),o=null==(t=g(r))[0]?C:t[0],n=null==t[1]?C:t[1],i=null==t[2]?C:t[2],u(e.$id())?(s=u(e.$role())?' class="'+e.$role()+'"':"",u(i)?o.$chop()+' id="'+e.$id()+'"'+s+">"+e.$text()+n:'<span id="'+e.$id()+'"'+s+">"+o+e.$text()+n+"</span>"):u(e.$role())?u(i)?o.$chop()+' class="'+e.$role()+'">'+e.$text()+n:'<span class="'+e.$role()+'">'+o+e.$text()+n+"</span>":""+o+e.$text()+n})),a(I,"$read_svg_contents",(function(t,r){var n=C,o=C,a=C,$=C;if(u(n=t.$read_contents(r,i(["start","normalize","label","warn_if_empty"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(u(n["$empty?"]()))return C;u(n["$start_with?"]("<svg"))||(n=n.$sub(z("SvgPreambleRx"),"")),o=a=$=C,c(["width","height"],"each",[],(function(e){var r=C,i=C;if(null==e&&(e=C),!u(t["$attr?"](e)))return C;if(!u(a)){if(s($=u(r=$)?r:u(i=n.$match(z("SvgStartTagRx")))?i:"no_match","no_match"))return C;a=(o=$["$[]"](0)).$gsub(z("DimensionAttributeRx"),"")}return a=a.$chop()+" "+e+'="'+t.$attr(e)+'">'})),u(a)&&(n=""+a+n["$[]"](e.Range.$new(o.$length(),-1,!1)))}return n})),I.$private(),a(I,"$append_boolean_attribute",(function(e,t){return u(t)?" "+e+'="'+e+'"':" "+e})),a(I,"$append_link_constraint_attrs",(function(e,t){var r,n=C;return null==t&&(t=[]),u(e["$option?"]("nofollow"))&&(n="nofollow"),u(r=e.$attributes()["$[]"]("window"))?(t["$<<"](' target="'+r+'"'),(s(r,"_blank")||u(e["$option?"]("noopener")))&&t["$<<"](u(n)?' rel="'+n+' noopener"':' rel="noopener"')):u(n)&&t["$<<"](' rel="'+n+'"'),t}),-2),a(I,"$encode_attribute_value",(function(e){return u(e["$include?"]('"'))?e.$gsub('"',"&quot;"):e})),a(I,"$generate_manname_section",(function(e){var t,r=C,n=C,i=C;return r=e.$attr("manname-title","Name"),u(i=e.$sections()["$[]"](0))&&s(n=i.$title(),n.$upcase())&&(r=r.$upcase()),"<h2"+(u(t=e.$attr("manname-id"))?' id="'+t+'"':"")+">"+r+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("mannames").$join(", ")+" - "+e.$attr("manpurpose")+"</p>\n</div>"})),a(I,"$get_root_document",(function(e){for(;u((e=e.$document())["$nested?"]());)e=e.$parent_document();return e})),a(I,"$method_missing",(function e(t,r){var n,i=e.$$p||C,o=this,s=C;return e.$$p=null,n=A(arguments,1),p((s=t.$to_s())["$start_with?"]("convert_"))&&u(o["$handles?"](s))?c(o,"send",["convert_"+s].concat(E(n))):$(o,l(o,"method_missing",e,!1,!0),"method_missing",[t].concat(E(n)),i)}),-2),a(I,"$respond_to_missing?",(function(e,t){var r,n=C;return A(arguments,1),u(r=(n=e.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](n):r}),-2)}(T("Converter"),O(T("Converter"),"Base"),I)}(S[0],S)},Opal.modules["asciidoctor/extensions"]=function(e){var t=e.module,r=e.klass,n=e.truthy,i=e.hash2,o=e.def,s=e.send,a=e.alias,$=e.slice,l=e.rb_plus,u=e.eqeq,c=e.rb_gt,_=e.not,d=e.eqeqeq,p=e.to_a,h=e.to_ary,f=e.const_set,m=e.return_val,g=e.send2,b=e.find_super,v=e.NilClass,y=e.class_variable_set,x=e.class_variable_get,k=e.regexp,w=e.Class,A=e.return_ivar,E=e.rb_lt,S=e.rb_minus,C=e.hash,O=[],R=e.nil,I=e.$$$;return e.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(O,T){var z=[t(O,"Asciidoctor")].concat(T);return function(O,T){var z=t(O,"Extensions"),F=[z].concat(T),N=e.$r(F);return function(t,h,f){var m=r(t,null,"Processor"),g=[m].concat(f),b=e.$r(g);m.$$prototype.config=R,function(e,t){o(e,"$config",(function(){var e,t=this;return null==t.config&&(t.config=R),t.config=n(e=t.config)?e:i([],{})})),o(e,"$option",(function(e,t){var r;return r=[e,t],s(this.$config(),"[]=",r),r[r.length-1]})),o(e,"$enable_dsl",(function(){var e=this;return n(e["$const_defined?"]("DSL"))?n(e["$singleton_class?"]())?e.$include(e.$const_get("DSL")):e.$extend(e.$const_get("DSL")):R})),a(e,"use_dsl","enable_dsl")}(e.get_singleton_class(m)),m.$attr_reader("config"),o(m,"$initialize",(function(e){return null==e&&(e=i([],{})),this.config=this.$class().$config().$merge(e)}),-1),o(m,"$update_config",(function(e){return this.config.$update(e)})),o(m,"$process",(function(e){return $(arguments),this.$raise(I("NotImplementedError"),b("Processor")+" subclass "+this.$class()+" must implement the #process method")}),-1),o(m,"$create_section",(function(e,t,r,o){var a,$,d,p,h=R,f=R,m=R,g=R,v=R,y=R,x=R,k=R;return null==o&&(o=i([],{})),d=(f=(h=e.$document()).$doctype())["$=="]("book"),m=n(g=o["$[]"]("level"))?g:l(e.$level(),1),n(v=r.$delete("style"))?n(d)&&u(v,"abstract")?(y=(a=["chapter",1])[0],m=a[1]):(y=(a=[v,!0])[0],x=a[1],u(m,0)&&(m=1)):n(d)?y=u(m,0)?"part":n(c(m,1))?"section":"chapter":u(f,"manpage")&&u(t.$casecmp("synopsis"),0)?(y=(a=["synopsis",!0])[0],x=a[1]):y="section",k=b("Section").$new(e,m),$=[(a=[t,y])[0]],s(k,"title=",$),$[$.length-1],$=[a[1]],s(k,"sectname=",$),$[$.length-1],n(x)?(k["$special="](!0),n(o.$fetch("numbered",v["$=="]("appendix")))?k["$numbered="](!0):_(o["$key?"]("numbered"))&&n(h["$attr?"]("sectnums","all"))&&k["$numbered="](!n(d)||!u(m,1)||"chapter")):n(c(m,0))?n(o.$fetch("numbered",h["$attr?"]("sectnums")))&&k["$numbered="](!n(k.$special())||(n(g=e.$numbered())||g)):n(o.$fetch("numbered",n(g=d)?h["$attr?"]("partnums"):g))&&k["$numbered="](!0),u(p=r["$[]"]("id"),!1)?r.$delete("id"):k["$id="]((a=["id",n(g=p)?g:n(h["$attr?"]("sectids"))?b("Section").$generate_id(k.$title(),h):R],s(r,"[]=",a),a[a.length-1])),k.$update_attributes(r),k}),-4),o(m,"$create_block",(function(e,t,r,n,o){return null==o&&(o=i([],{})),b("Block").$new(e,t,i(["source","attributes"],{source:r,attributes:n}).$merge(o))}),-5),o(m,"$create_list",(function(e,t,r){var i=R;return null==r&&(r=R),i=b("List").$new(e,t),n(r)&&i.$update_attributes(r),i}),-3),o(m,"$create_list_item",(function(e,t){return null==t&&(t=R),b("ListItem").$new(e,t)}),-2),o(m,"$create_image_block",(function(e,t,r){var o,a,$,l=R;return null==r&&(r=i([],{})),n(a=t["$[]"]("target"))||this.$raise(I("ArgumentError"),"Unable to create an image block, target attribute is required"),n(t["$[]"]("alt"))||t["$[]="]("alt",(o=["default-alt",b("Helpers").$basename(a,!0).$tr("_-"," ")],s(t,"[]=",o),o[o.length-1])),$=n(t["$key?"]("title"))?t.$delete("title"):R,l=this.$create_block(e,"image",R,t,r),n($)&&(l["$title="]($),l.$assign_caption(t.$delete("caption"),"figure")),l}),-3),o(m,"$create_inline",(function(e,t,r,n){return null==n&&(n=i([],{})),b("Inline").$new(e,t,r,u(t,"quoted")?i(["type"],{type:"unquoted"}).$merge(n):n)}),-4),o(m,"$parse_content",(function(e,t,r){var n;return null==r&&(r=R),n=d(b("Reader"),t)?t:b("Reader").$new(t),b("Parser").$parse_blocks(n,e,r),e}),-3),o(m,"$parse_attributes",(function(e,t,r){var o;return null==r&&(r=i([],{})),n(!n(t)||t["$empty?"]())?i([],{}):(n(r["$[]"]("sub_attributes"))&&n(t["$include?"](b("ATTR_REF_HEAD")))&&(t=e.$sub_attributes(t)),b("AttributeList").$new(t).$parse(n(o=r["$[]"]("positional_attributes"))?o:[]))}),-3),s([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(function e(t,r,n){var i=null==e.$$s?this:e.$$s;return null==t&&(t=R),null==r&&(r=R),null==n&&(n=R),s(i,"define_method",[t],(function e(t){var i,o=null==e.$$s?this:e.$$s;return(i=$(arguments)).$unshift(i.$shift(),n),s(o,"send",[r].concat(p(i)))}),{$$arity:-1,$$s:i})}),{$$s:m})}(F[0],0,F),function(e){var r=t(e,"ProcessorDsl");o(r,"$option",(function(e,t){var r;return r=[e,t],s(this.$config(),"[]=",r),r[r.length-1]})),o(r,"$process",(function e(t){var r,i,o=e.$$p||R,a=this,l=R;return null==a.process_block&&(a.process_block=R),e.$$p=null,r=$(arguments),o!==R?(n(r["$empty?"]())||a.$raise(I("ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),n(o.$binding())&&u(a,o.$binding().$receiver())||(l=a,s(o,"define_singleton_method",["call"],(function(e){var t;return t=$(arguments),s(l,"instance_exec",p(t),o.$to_proc())}),-1)),a.process_block=o):n(null!=(i=a.process_block)&&i!==R?"instance-variable":R)?s(a.process_block,"call",p(r)):a.$raise(I("NotImplementedError"),a.$class()+" #process method called before being registered")}),-1),o(r,"$process_block_given?",(function(){var e;return null!=(e=this.process_block)&&e!==R?"instance-variable":R}))}(F[0]),function(r,n){var i=t(r,"DocumentProcessorDsl"),s=[i].concat(n),a=e.$r(s);i.$include(a("ProcessorDsl")),o(i,"$prefer",(function(){return this.$option("position",">>")}))}(F[0],F),function(r,l){var _=t(r,"SyntaxProcessorDsl"),p=[_].concat(l),f=e.$r(p);_.$include(f("ProcessorDsl")),o(_,"$named",(function(e){var t=this;return d(f("Processor"),t)?t.name=e:t.$option("name",e)})),o(_,"$content_model",(function(e){return this.$option("content_model",e)})),a(_,"parse_content_as","content_model"),o(_,"$positional_attributes",(function(e){var t;return t=$(arguments),this.$option("positional_attrs",t.$flatten())}),-1),a(_,"name_positional_attributes","positional_attributes"),a(_,"positional_attrs","positional_attributes"),o(_,"$default_attributes",(function(e){return this.$option("default_attrs",e)})),a(_,"default_attrs","default_attributes"),o(_,"$resolve_attributes",(function(e){var t,r,o,a,l=this,_=R,p=R;return t=$(arguments),n(c((r=t).$size(),1))||n((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(r=[r]),d(!0,a=r)?(l.$option("positional_attrs",[]),l.$option("default_attrs",i([],{}))):d(I("Array"),a)?(o=[[],i([],{})],_=o[0],p=o[1],s(r,"each",[],(function(e){var t,r,i=R,o=R,a=R;return null==e&&(e=R),n((e=e.$to_s())["$include?"]("="))?(r=e.$partition("="),i=null==(t=h(r))[0]?R:t[0],null==t[1]||t[1],o=null==t[2]?R:t[2],n(i["$include?"](":"))&&(r=i.$partition(":"),a=null==(t=h(r))[0]?R:t[0],null==t[1]||t[1],i=null==t[2]?R:t[2],a=u(a,"@")?_.$size():a.$to_i(),_["$[]="](a,i)),s(p,"[]=",t=[i,o]),t[t.length-1]):n(e["$include?"](":"))?(r=e.$partition(":"),a=null==(t=h(r))[0]?R:t[0],null==t[1]||t[1],i=null==t[2]?R:t[2],a=u(a,"@")?_.$size():a.$to_i(),s(_,"[]=",t=[a,i]),t[t.length-1]):_["$<<"](e)})),l.$option("positional_attrs",_.$compact()),l.$option("default_attrs",p)):d(I("Hash"),a)?(o=[[],i([],{})],_=o[0],p=o[1],s(r,"each",[],(function(e,t){var r,i,o=R,a=R;return null==e&&(e=R),null==t&&(t=R),n((o=e.$to_s())["$include?"](":"))&&(i=o.$partition(":"),a=null==(r=h(i))[0]?R:r[0],null==r[1]||r[1],o=null==r[2]?R:r[2],a=u(a,"@")?_.$size():a.$to_i(),_["$[]="](a,o)),n(t)?(s(p,"[]=",r=[o,t]),r[r.length-1]):R})),l.$option("positional_attrs",_.$compact()),l.$option("default_attrs",p)):l.$raise(I("ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())}),-1),a(_,"resolves_attributes","resolve_attributes")}(F[0],F),function(t,n,i){var s=r(t,n,"Preprocessor"),a=[s].concat(i),$=e.$r(a);o(s,"$process",(function(e,t){return this.$raise(I("NotImplementedError"),$("Preprocessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),f(N("Preprocessor"),"DSL",N("DocumentProcessorDsl")),function(t,n,i){var s=r(t,n,"TreeProcessor"),a=[s].concat(i),$=e.$r(a);o(s,"$process",(function(e){return this.$raise(I("NotImplementedError"),$("TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),f(N("TreeProcessor"),"DSL",N("DocumentProcessorDsl")),f(F[0],"Treeprocessor",N("TreeProcessor")),function(t,n,i){var s=r(t,n,"Postprocessor"),a=[s].concat(i),$=e.$r(a);o(s,"$process",(function(e,t){return this.$raise(I("NotImplementedError"),$("Postprocessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),f(N("Postprocessor"),"DSL",N("DocumentProcessorDsl")),function(t,n,i){var s=r(t,n,"IncludeProcessor"),a=[s].concat(i),$=e.$r(a);o(s,"$process",(function(e,t,r,n){return this.$raise(I("NotImplementedError"),$("IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")})),o(s,"$handles?",m(!0))}(F[0],N("Processor"),F),function(r,i){var s=t(r,"IncludeProcessorDsl"),a=[s].concat(i),l=e.$r(a);s.$include(l("DocumentProcessorDsl")),o(s,"$handles?",(function e(t){var r,i,o=e.$$p||R,s=this;return null==s.handles_block&&(s.handles_block=R),e.$$p=null,r=$(arguments),o!==R?(n(r["$empty?"]())||s.$raise(I("ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),s.handles_block=o):!n((i=s.handles_block,null!=i&&i!==R?"instance-variable":R))||s.handles_block.$call(r["$[]"](0))}),-1)}(F[0],F),f(N("IncludeProcessor"),"DSL",N("IncludeProcessorDsl")),function(t,a,$){var l=r(t,a,"DocinfoProcessor"),u=[l].concat($),c=e.$r(u);l.$$prototype.config=R,o(l,"$initialize",(function e(t){var r,o,a=this;return e.$$p=null,null==t&&(t=i([],{})),g(a,b(a,"initialize",e,!1,!0),"initialize",[t],null),n(o=a.config["$[]"]("location"))?o:(r=["location","head"],s(a.config,"[]=",r),r[r.length-1])}),-1),o(l,"$process",(function(e){return this.$raise(I("NotImplementedError"),c("DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),function(r,n){var i=t(r,"DocinfoProcessorDsl"),s=[i].concat(n),a=e.$r(s);i.$include(a("DocumentProcessorDsl")),o(i,"$at_location",(function(e){return this.$option("location",e)}))}(F[0],F),f(N("DocinfoProcessor"),"DSL",N("DocinfoProcessorDsl")),function(t,a,$){var l=r(t,a,"BlockProcessor"),u=[l].concat($),c=e.$r(u);l.$$prototype.config=R,l.$attr_accessor("name"),o(l,"$initialize",(function e(t,r){var o,a=this,$=R;return e.$$p=null,null==t&&(t=R),null==r&&(r=i([],{})),g(a,b(a,"initialize",e,!1,!0),"initialize",[r],null),a.name=n($=t)?$:a.config["$[]"]("name"),d(v,$=a.config["$[]"]("contexts"))?n(a.config["$[]"]("contexts"))||a.config["$[]="]("contexts",["open","paragraph"].$to_set()):d(I("Symbol"),$)?a.config["$[]="]("contexts",[a.config["$[]"]("contexts")].$to_set()):a.config["$[]="]("contexts",a.config["$[]"]("contexts").$to_set()),n($=a.config["$[]"]("content_model"))?$:(o=["content_model","compound"],s(a.config,"[]=",o),o[o.length-1])}),-1),o(l,"$process",(function(e,t,r){return this.$raise(I("NotImplementedError"),c("BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),function(r,n){var i=t(r,"BlockProcessorDsl"),s=[i].concat(n),l=e.$r(s);i.$include(l("SyntaxProcessorDsl")),o(i,"$contexts",(function(e){var t;return t=$(arguments),this.$option("contexts",t.$flatten().$to_set())}),-1),a(i,"on_contexts","contexts"),a(i,"on_context","contexts"),a(i,"bind_to","contexts")}(F[0],F),f(N("BlockProcessor"),"DSL",N("BlockProcessorDsl")),function(t,a,$){var l=r(t,a,"MacroProcessor"),u=[l].concat($),c=e.$r(u);l.$$prototype.config=R,l.$attr_accessor("name"),o(l,"$initialize",(function e(t,r){var o,a=this,$=R;return e.$$p=null,null==t&&(t=R),null==r&&(r=i([],{})),g(a,b(a,"initialize",e,!1,!0),"initialize",[r],null),a.name=n($=t)?$:a.config["$[]"]("name"),n($=a.config["$[]"]("content_model"))?$:(o=["content_model","attributes"],s(a.config,"[]=",o),o[o.length-1])}),-1),o(l,"$process",(function(e,t,r){return this.$raise(I("NotImplementedError"),c("MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(F[0],N("Processor"),F),function(r,n){var i=t(r,"MacroProcessorDsl"),s=[i].concat(n),l=e.$r(s);i.$include(l("SyntaxProcessorDsl")),o(i,"$resolve_attributes",(function e(t){var r,n,i=e.$$p||R,o=this;return e.$$p=null,r=$(arguments),u((n=r).$size(),1)&&_(n["$[]"](0))?o.$option("content_model","text"):(g(o,b(o,"resolve_attributes",e,!1,!0),"resolve_attributes",p(n),i),o.$option("content_model","attributes"))}),-1),a(i,"resolves_attributes","resolve_attributes")}(F[0],F),function(t,i,s){var a=r(t,i,"BlockMacroProcessor"),$=[a].concat(s),l=e.$r($);a.$$prototype.name=R,o(a,"$name",(function(){var e=this;return n(l("MacroNameRx")["$match?"](e.name.$to_s()))||e.$raise(I("ArgumentError"),"invalid name for block macro: "+e.name),e.name}))}(F[0],N("MacroProcessor"),F),f(N("BlockMacroProcessor"),"DSL",N("MacroProcessorDsl")),function(t,a,$){var l=r(t,a,"InlineMacroProcessor"),c=[l].concat($),_=e.$r(c),d=l.$$prototype;d.config=d.name=R,y(c[0],"@@rx_cache",i([],{})),o(l,"$regexp",(function(){var e,t,r=this;return n(t=r.config["$[]"]("regexp"))?t:(e=["regexp",r.$resolve_regexp(r.name.$to_s(),r.config["$[]"]("format"))],s(r.config,"[]=",e),e[e.length-1])})),o(l,"$resolve_regexp",(function(e,t){var r,i;return n(_("MacroNameRx")["$match?"](e))||this.$raise(I("ArgumentError"),"invalid name for inline macro: "+e),n(i=x(c[0],"@@rx_cache",!1)["$[]"]([e,t]))?i:(r=[[e,t],k(["\\\\?",e,":",u(t,"short")?"(){0}":"(\\S+?)","\\[(|",_("CC_ANY"),"*?[^\\\\])\\]"])],s(x(c[0],"@@rx_cache",!1),"[]=",r),r[r.length-1])}))}(F[0],N("MacroProcessor"),F),function(r,n){var i=t(r,"InlineMacroProcessorDsl"),s=[i].concat(n),$=e.$r(s);i.$include($("MacroProcessorDsl")),o(i,"$format",(function(e){return this.$option("format",e)})),a(i,"match_format","format"),a(i,"using_format","format"),o(i,"$match",(function(e){return this.$option("regexp",e)}))}(F[0],F),f(N("InlineMacroProcessor"),"DSL",N("InlineMacroProcessorDsl")),function(e,t){var n=r(e,null,"Extension");n.$attr_reader("kind"),n.$attr_reader("config"),n.$attr_reader("instance"),o(n,"$initialize",(function(e,t,r){var n=this;return n.kind=e,n.instance=t,n.config=r}))}(F[0]),function(e,t){var i=r(e,t,"ProcessorExtension");i.$attr_reader("process_method"),o(i,"$initialize",(function e(t,r,i){var o,s=this;return e.$$p=null,null==i&&(i=R),g(s,b(s,"initialize",e,!1,!0),"initialize",[t,r,r.$config()],null),s.process_method=n(o=i)?o:r.$method("process")}),-3)}(F[0],N("Extension")),function(t,n,i){var s=r(t,null,"Group"),a=[s].concat(i);(function(t,r){var n=[t].concat(r),i=e.$r(n);o(t,"$register",(function(e){return null==e&&(e=R),i("Extensions").$register(e,this)}),-1)})(e.get_singleton_class(s),a),o(s,"$activate",(function(e){return this.$raise(I("NotImplementedError"))}))}(F[0],0,F),function(t,_,f){var m=r(t,null,"Registry"),g=[m].concat(f),b=e.$r(g),v=m.$$prototype;v.document=v.groups=v.preprocessor_extensions=v.tree_processor_extensions=v.postprocessor_extensions=v.include_processor_extensions=v.docinfo_processor_extensions=v.block_extensions=v.block_macro_extensions=v.inline_macro_extensions=R,m.$attr_reader("document"),m.$attr_reader("groups"),o(m,"$initialize",(function(e){var t=this;return null==e&&(e=i([],{})),t.groups=e,t.$reset(),t.preprocessor_extensions=t.tree_processor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=R,t.document=R}),-1),o(m,"$activate",(function(e){var t=this,r=R;return n(t.document)&&t.$reset(),t.document=e,n((r=l(b("Extensions").$groups().$values(),t.groups.$values()))["$empty?"]())||s(r,"each",[],(function e(t){var r,n=null==e.$$s?this:e.$$s;if(null==t&&(t=R),!d(I("Proc"),r=t))return d(w,r)?t.$new().$activate(n):t.$activate(n);switch(t.$arity()){case 0:case-1:return s(n,"instance_exec",[],t.$to_proc());case 1:return t.$call(n);default:return R}}),{$$s:t}),t})),o(m,"$preprocessor",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_document_processor",["preprocessor",r],n.$to_proc())}),-1),o(m,"$preprocessors?",(function(){return this.preprocessor_extensions["$!"]()["$!"]()})),o(m,"$preprocessors",A("preprocessor_extensions")),o(m,"$tree_processor",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_document_processor",["tree_processor",r],n.$to_proc())}),-1),o(m,"$tree_processors?",(function(){return this.tree_processor_extensions["$!"]()["$!"]()})),o(m,"$tree_processors",A("tree_processor_extensions")),a(m,"treeprocessor","tree_processor"),a(m,"treeprocessors?","tree_processors?"),a(m,"treeprocessors","tree_processors"),o(m,"$postprocessor",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_document_processor",["postprocessor",r],n.$to_proc())}),-1),o(m,"$postprocessors?",(function(){return this.postprocessor_extensions["$!"]()["$!"]()})),o(m,"$postprocessors",A("postprocessor_extensions")),o(m,"$include_processor",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_document_processor",["include_processor",r],n.$to_proc())}),-1),o(m,"$include_processors?",(function(){return this.include_processor_extensions["$!"]()["$!"]()})),o(m,"$include_processors",A("include_processor_extensions")),o(m,"$docinfo_processor",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_document_processor",["docinfo_processor",r],n.$to_proc())}),-1),o(m,"$docinfo_processors?",(function(e){return null==e&&(e=R),!!n(this.docinfo_processor_extensions)&&(!n(e)||s(this.docinfo_processor_extensions,"any?",[],(function(t){return null==t&&(t=R),t.$config()["$[]"]("location")["$=="](e)})))}),-1),o(m,"$docinfo_processors",(function(e){var t=this;return null==e&&(e=R),n(t.docinfo_processor_extensions)?n(e)?s(t.docinfo_processor_extensions,"select",[],(function(t){return null==t&&(t=R),t.$config()["$[]"]("location")["$=="](e)})):t.docinfo_processor_extensions:R}),-1),o(m,"$block",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_syntax_processor",["block",r],n.$to_proc())}),-1),o(m,"$blocks?",(function(){return this.block_extensions["$!"]()["$!"]()})),o(m,"$registered_for_block?",(function(e,t){var r=R;return!!n(r=this.block_extensions["$[]"](e.$to_sym()))&&(!!n(r.$config()["$[]"]("contexts")["$include?"](t))&&r)})),o(m,"$find_block_extension",(function(e){return this.block_extensions["$[]"](e.$to_sym())})),o(m,"$block_macro",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_syntax_processor",["block_macro",r],n.$to_proc())}),-1),o(m,"$block_macros?",(function(){return this.block_macro_extensions["$!"]()["$!"]()})),o(m,"$registered_for_block_macro?",(function(e){var t;return!!n(t=this.block_macro_extensions["$[]"](e.$to_sym()))&&t})),o(m,"$find_block_macro_extension",(function(e){return this.block_macro_extensions["$[]"](e.$to_sym())})),o(m,"$inline_macro",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=$(arguments),s(this,"add_syntax_processor",["inline_macro",r],n.$to_proc())}),-1),o(m,"$inline_macros?",(function(){return this.inline_macro_extensions["$!"]()["$!"]()})),o(m,"$registered_for_inline_macro?",(function(e){var t;return!!n(t=this.inline_macro_extensions["$[]"](e.$to_sym()))&&t})),o(m,"$find_inline_macro_extension",(function(e){return this.inline_macro_extensions["$[]"](e.$to_sym())})),o(m,"$inline_macros",(function(){return this.inline_macro_extensions.$values()})),o(m,"$prefer",(function e(t){var r,n=e.$$p||R,i=R,o=R,a=R;return e.$$p=null,r=$(arguments),i=d(b("ProcessorExtension"),o=r.$shift())?o:s(this,"send",[o].concat(p(r)),n.$to_proc()),(a=this.$instance_variable_get(("@"+i.$kind()+"_extensions").$to_sym())).$unshift(a.$delete(i)),i}),-1),m.$private(),o(m,"$add_document_processor",(function t(r,i){var o,a,$,l,c,_=t.$$p||R,p=this,f=R,m=R,g=R,v=R,y=R,x=R,k=R,w=R;return t.$$p=null,f=r.$to_s().$tr("_"," "),$=s(f.$split(),"map",[],(function(e){return null==e&&(e=R),e.$capitalize()})).$join().$to_sym(),m=b("Extensions").$const_get($,!1),l=n(I("::","AsciidoctorJ","skip_raise")?"constant":R)?I(I("AsciidoctorJ"),"Extensions").$const_get($,!1):R,g=n(c=p.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?c:p.$instance_variable_set(("@"+r+"_extensions").$to_sym(),[]),_!==R?(v=p.$resolve_args(i,1),(y=m.$new(v)).$singleton_class().$enable_dsl(),u(_.$arity(),0)?s(y,"instance_exec",[],_.$to_proc()):e.yield1(_,y),n(y["$process_block_given?"]())||p.$raise(I("NoMethodError"),"No block specified to process "+f+" extension at "+_.$source_location().$join(":")),y.$freeze(),x=b("ProcessorExtension").$new(r,y)):(a=p.$resolve_args(i,2),y=null==(o=h(a))[0]?R:o[0],v=null==o[1]?R:o[1],n(k=b("Helpers").$resolve_class(y))?(n(E(k,m))||n(l)&&n(E(k,l))||p.$raise(I("ArgumentError"),"Invalid type for "+f+" extension: "+y),(w=k.$new(v)).$freeze(),x=b("ProcessorExtension").$new(r,w)):d(m,y)||n(l)&&d(l,y)?(y.$update_config(v),y.$freeze(),x=b("ProcessorExtension").$new(r,y)):p.$raise(I("ArgumentError"),"Invalid arguments specified for registering "+f+" extension: "+i)),u(x.$config()["$[]"]("position"),">>")?g.$unshift(x):g["$<<"](x),x})),o(m,"$add_syntax_processor",(function t(r,o){var a,$,l,c,_,p,f=t.$$p||R,m=this,g=R,v=R,y=R,x=R,k=R,w=R,A=R;return t.$$p=null,g=r.$to_s().$tr("_"," "),l=s(g.$split(),"map",[],(function(e){return null==e&&(e=R),e.$capitalize()}))["$<<"]("Processor").$join().$to_sym(),v=b("Extensions").$const_get(l,!1),c=n(I("::","AsciidoctorJ","skip_raise")?"constant":R)?I(I("AsciidoctorJ"),"Extensions").$const_get(l,!1):R,_=n(p=m.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?p:m.$instance_variable_set(("@"+r+"_extensions").$to_sym(),i([],{})),f!==R?($=m.$resolve_args(o,2),y=null==(a=h($))[0]?R:a[0],x=null==a[1]?R:a[1],(k=v.$new(m.$as_symbol(y),x)).$singleton_class().$enable_dsl(),u(f.$arity(),0)?s(k,"instance_exec",[],f.$to_proc()):e.yield1(f,k),n(y=m.$as_symbol(k.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension at "+f.$source_location().$join(":")),n(k["$process_block_given?"]())||m.$raise(I("NoMethodError"),"No block specified to process "+g+" extension at "+f.$source_location().$join(":")),k.$freeze(),a=[y,b("ProcessorExtension").$new(r,k)],s(_,"[]=",a),a[a.length-1]):($=m.$resolve_args(o,3),k=null==(a=h($))[0]?R:a[0],y=null==a[1]?R:a[1],x=null==a[2]?R:a[2],n(w=b("Helpers").$resolve_class(k))?(n(E(w,v))||n(c)&&n(E(w,c))||m.$raise(I("ArgumentError"),"Class specified for "+g+" extension does not inherit from "+v+": "+k),A=w.$new(m.$as_symbol(y),x),n(y=m.$as_symbol(A.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension: "+k),A.$freeze(),a=[y,b("ProcessorExtension").$new(r,A)],s(_,"[]=",a),a[a.length-1]):d(v,k)||n(c)&&d(c,k)?(k.$update_config(x),n(y=n(y)?(a=[m.$as_symbol(y)],s(k,"name=",a),a[a.length-1]):m.$as_symbol(k.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension: "+k),k.$freeze(),a=[y,b("ProcessorExtension").$new(r,k)],s(_,"[]=",a),a[a.length-1]):m.$raise(I("ArgumentError"),"Invalid arguments specified for registering "+g+" extension: "+o))})),o(m,"$reset",(function(){var e=this;return e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=R,e.document=R})),o(m,"$resolve_args",(function(e,t){var r,o=R;return r=d(I("Hash"),e["$[]"](-1))?e.$pop():i([],{}),u(t,1)?r:(n(c(o=S(S(t,1),e.$size()),0))?e=l(e,I("Array").$new(o)):n(E(o,0))&&e.$pop(o["$-@"]()),e["$<<"](r),e)})),o(m,"$as_symbol",(function(e){return n(e)?e.$to_sym():R}))}(F[0],0,F),function(t,r){var a=[t].concat(r),u=e.$r(a);return o(t,"$generate_name",(function(){return"extgrp"+this.$next_auto_id()})),o(t,"$next_auto_id",(function(){var e,t=this;return null==t.auto_id&&(t.auto_id=R),t.auto_id=n(e=t.auto_id)?e:-1,t.auto_id=l(t.auto_id,1)})),o(t,"$groups",(function(){var e,t=this;return null==t.groups&&(t.groups=R),t.groups=n(e=t.groups)?e:i([],{})})),o(t,"$create",(function e(t){var r=e.$$p||R,i=R;return e.$$p=null,null==t&&(t=R),r!==R?u("Registry").$new(C(n(i=t)?i:this.$generate_name(),r)):u("Registry").$new()}),-1),o(t,"$register",(function e(t){var r,i,o,a=e.$$p||R,l=this,c=R,_=R,d=R,p=R;return e.$$p=null,o=(r=$(arguments)).$size(),a!==R?c=a:n(_=r.$pop())?c=n(d=u("Helpers").$resolve_class(_))?d:_:l.$raise(I("ArgumentError"),"Extension group to register not specified"),p=n(d=r.$pop())?d:l.$generate_name(),n(r["$empty?"]())||l.$raise(I("ArgumentError"),"Wrong number of arguments ("+o+" for 1..2)"),i=[p.$to_sym(),c],s(l.$groups(),"[]=",i),i[i.length-1]}),-1),o(t,"$unregister_all",(function(){return this.groups=i([],{}),R})),o(t,"$unregister",(function(e){var t;return t=$(arguments),s(t,"each_with_object",[this.$groups()],(function(e,t){return null==e&&(e=R),null==t&&(t=R),t.$delete(e.$to_sym())})),R}),-1)}(e.get_singleton_class(z),F)}(z[0],z)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var t,r=e.module,n=e.klass,i=e.truthy,o=e.def,s=[],a=e.nil,$=e.$$$;return e.add_stubs("rstrip,read,join"),t=s,function(e,t){var r=n(e,null,"Stylesheets");return r.$$prototype.primary_stylesheet_data=a,o(r,"$primary_stylesheet_data",(function(){var e;return this.primary_stylesheet_data=i(e=this.primary_stylesheet_data)?e:$("IO").$read($("File").$join("css","asciidoctor.css")).$rstrip()}))}([r(s[0],"Asciidoctor")].concat(t)[0])},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var t=e.module,r=e.klass,n=e.def,i=[];return e.nil,function(i,o){var s=[t(i,"Asciidoctor")].concat(o),a=e.$r(s);return function(t,i){var o=r(t,i,"Document");return n(o,"$fill_datetime_attributes",(function(t,r){var n,i,o,s,a,$,l,u,c=e.truthy,_=e.falsy,d=e.nil,p=function(e,t){return 0===t?e.getUTCFullYear():e.getFullYear()},h=function(e,t){return 0===t?e.getUTCMonth():e.getMonth()},f=function(e,t){return 0===t?e.getUTCDate():e.getDate()},m=function(e,t){return 0===t?e.getUTCHours():e.getHours()},g=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(g.setTime(1e3*parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),i=g,n=0):n=-g.getTimezoneOffset()/60,c(o=t["$[]"]("localdate")))_(s=t["$[]"]("localyear"))&&(s=4===o.indexOf("-")?o.substring(0,4):d,t["$[]="]("localyear",s));else{var b=p(g,n).toString();o=b+"-"+("0"+(h(g,n)+1)).slice(-2)+"-"+("0"+f(g,n)).slice(-2),t["$[]="]("localdate",o),s=b,t["$[]="]("localyear",b)}_(a=t["$[]"]("localtime"))&&(a=("0"+m(g,n)).slice(-2)+":"+("0"+g.getMinutes()).slice(-2)+":"+("0"+g.getSeconds()).slice(-2)+" "+(0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5)),t["$[]="]("localtime",a));if(_($=t["$[]"]("localdatetime"))&&($=o+" "+a,t["$[]="]("localdatetime",$)),c(i)?r=i:c(r)?n=-r.getTimezoneOffset()/60:r=g,c(l=t["$[]"]("docdate")))t["$[]="]("docyear",4===l.indexOf("-")?l.substring(0,4):d);else{var v=p(r,n).toString();l=v+"-"+("0"+(h(r,n)+1)).slice(-2)+"-"+("0"+f(r,n)).slice(-2),t["$[]="]("docdate",l),_(t["$[]"]("docyear"))&&t["$[]="]("docyear",v)}_(u=t["$[]"]("doctime"))&&(u=("0"+m(r,n)).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)+":"+("0"+r.getSeconds()).slice(-2)+" "+(0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5)),t["$[]="]("doctime",u));return _(t["$[]"]("docdatetime"))&&t["$[]="]("docdatetime",l+" "+u),d}))}(s[0],a("AbstractBlock"))}(i[0],i)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var t,r=e.module,n=e.def,i=[];return e.nil,t=i,function(e){var t=r(e,"Substitutors");return n(t,"$sub_placeholder",(function(e,t){return e.replace("%s",t)}))}([r(i[0],"Asciidoctor")].concat(t)[0])},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var t,r=e.module,n=e.klass,i=e.truthy,o=e.defs,s=[];return e.nil,t=s,function(e,t){var r=n(e,null,"Parser");return i(String.prototype.repeat)?o(r,"$uniform?",(function(e,t,r){return t.repeat(r)===e})):o(r,"$uniform?",(function(e,t,r){return Array.apply(null,{length:r}).map((function(){return t})).join("")===e}))}([r(s[0],"Asciidoctor")].concat(t)[0])},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var t=e.module,r=e.truthy,n=e.def,i=[],o=e.nil;return e.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(i,s){var a=[t(i,"Asciidoctor")].concat(s);return function(i,s){var a=[t(i,"SyntaxHighlighter")].concat(s);return function(i,s){var a=t(i,"Factory"),$=[a].concat(s),l=e.$r($);return n(a,"$for",(function(e){var t=this;return r(t.$registry()["$key?"](e))?t.$registry()["$[]"](e):(r(t["$include?"](l("Logging")))||t.$include(l("Logging")),r(t.$registry()["$empty?"]())?t.$logger().$debug("no syntax highlighter available, functionality disabled."):t.$logger().$debug("syntax highlighter named '"+e+"' is not available, must be one of: '"+t.$registry().$keys().$join("', '")+"'."),o)}))}(a[0],a)}(a[0],a)}(i[0],i)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var t=e.top;e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),t.$require("asciidoctor/js/asciidoctor_ext/document"),t.$require("asciidoctor/js/asciidoctor_ext/substitutors"),t.$require("asciidoctor/js/asciidoctor_ext/parser"),t.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),t.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){var t=e.klass,r=e.def,n=e.truthy,i=e.rb_lt,o=[],s=e.nil;return e.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(o,a,$){var l=t(o,null,"Logger"),u=[l].concat($),c=e.$r(u),_=l.$$prototype;return _.level=_.progname=_.pipe=_.formatter=s,function(e,n){var i=t(e,null,"Formatter");r(i,"$call",(function(e,t,r,n){var i;return i=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),e.$chr()+", ["+i+"] "+e.$rjust(5)+" -- "+r+": "+this.$message_as_string(n)}))}(u[0]),r(l,"$add",(function t(r,o,a){var $=t.$$p||s,l=this,u=s;return t.$$p=null,null==o&&(o=s),null==a&&(a=s),n(i(r=n(u=r)?u:c("UNKNOWN"),l.level))||(a=n(u=a)?u:l.progname,n(o)||($!==s?o=e.yieldX($,[]):(o=a,a=l.progname)),l.pipe.$write(l.formatter.$call(n(u=c("SEVERITY_LABELS")["$[]"](r))?u:"ANY",new Date,a,o))),!0}),-2)}(o[0],0,o)},Opal.modules["asciidoctor/js/postscript"]=function(e){var t=e.top;return e.nil,e.add_stubs("require"),t.$require("asciidoctor/converter/composite"),t.$require("asciidoctor/converter/html5"),t.$require("asciidoctor/extensions"),t.$require("asciidoctor/js/asciidoctor_ext"),t.$require("asciidoctor/js/opal_ext/logger")},Opal.queue((function(e){var t=e.module,r=e.const_set,n=e.send,i=e.to_ary,o=e.defs,s=e.def,a=e.truthy,$=e.hash2,l=e.eqeq,u=e.rb_minus,c=e.regexp,_=e.top,d=[],p=e.nil,h=e.$$$;return e.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),_.$require("set"),_.$require("asciidoctor/js"),function(_,d){var f=[t(_,"Asciidoctor")].concat(d),m=e.$r(f),g=p;r(f[0],"RUBY_ENGINE_OPAL",r(f[0],"RUBY_ENGINE",h("RUBY_ENGINE"))["$=="]("opal")),function(e,s){var a=t(e,"SafeMode"),$=[a].concat(s);r($[0],"UNSAFE",0),r($[0],"SAFE",1),r($[0],"SERVER",10),r($[0],"SECURE",20),a.names_by_value=n(n(a.$constants(!1),"map",[],(function e(t){return null==t&&(t=p),[(null==e.$$s?this:e.$$s).$const_get(t),t.$to_s().$downcase()]}),{$$s:a}),"sort",[],(function(e,t){var r,n,o=p;return null==e&&(e=p),null==t&&(t=p),o=null==(r=i(e))[0]?p:r[0],n=null==(r=i(t))[0]?p:r[0],o["$<=>"](n)}),{$$has_top_level_mlhs_arg:!0}).$to_h(),o(a,"$value_for_name",(function(e){return this.$const_get(e.$upcase(),!1)})),o(a,"$name_for_value",(function(e){var t=this;return null==t.names_by_value&&(t.names_by_value=p),t.names_by_value["$[]"](e)})),o(a,"$names",(function(){var e=this;return null==e.names_by_value&&(e.names_by_value=p),e.names_by_value.$values()}))}(f[0],f),function(r,n){var i=t(r,"Compliance");i.keys=h("Set").$new(),function(e,t){e.$attr_reader("keys"),s(e,"$define",(function(e,t){var r=this;return null==r.keys&&(r.keys=p),r.$instance_variable_set("@"+e,t),r.$singleton_class().$send("attr_accessor",e),r.keys["$<<"](e),p}))}(e.get_singleton_class(i)),i.$define("block_terminates_paragraph",!0),i.$define("strict_verbatim_paragraphs",!0),i.$define("underline_style_section_titles",!0),i.$define("unwrap_standalone_preamble",!0),i.$define("attribute_missing","skip"),i.$define("attribute_undefined","drop-line"),i.$define("shorthand_property_syntax",!0),i.$define("natural_xrefs",!0),i.$define("unique_id_start_index",2),i.$define("markdown_syntax",!0)}(f[0]),a(m("ROOT_DIR","skip_raise")?"constant":p)||r(f[0],"ROOT_DIR",h("File").$dirname(h("File").$absolute_path("."))),r(f[0],"LIB_DIR",h("File").$join(m("ROOT_DIR"),"lib")),r(f[0],"DATA_DIR",h("File").$join(m("ROOT_DIR"),"data")),r(f[0],"USER_HOME",function(){try{return h("Dir").$home()}catch(t){if(!e.rescue(t,[m("StandardError")]))throw t;try{return a(g=h("ENV")["$[]"]("HOME"))?g:h("Dir").$pwd()}finally{e.pop_exception()}}}()),r(f[0],"LF","\n"),r(f[0],"NULL","\0"),r(f[0],"TAB","\t"),r(f[0],"MAX_INT",9007199254740991),r(f[0],"UTF_8",h(h("Encoding"),"UTF_8")),r(f[0],"BOM_BYTES_UTF_8",[239,187,191]),r(f[0],"BOM_BYTES_UTF_16LE",[255,254]),r(f[0],"BOM_BYTES_UTF_16BE",[254,255]),r(f[0],"FILE_READ_MODE",a(m("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),r(f[0],"URI_READ_MODE",m("FILE_READ_MODE")),r(f[0],"FILE_WRITE_MODE",a(m("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),r(f[0],"DEFAULT_DOCTYPE","article"),r(f[0],"DEFAULT_BACKEND","html5"),r(f[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),r(f[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),r(f[0],"BACKEND_ALIASES",$(["html","docbook"],{html:"html5",docbook:"docbook5"})),r(f[0],"DEFAULT_PAGE_WIDTHS",$(["docbook"],{docbook:425})),r(f[0],"DEFAULT_EXTENSIONS",$(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),r(f[0],"ASCIIDOC_EXTENSIONS",$([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),r(f[0],"SETEXT_SECTION_LEVELS",$(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),r(f[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),r(f[0],"ADMONITION_STYLE_HEADS",n(h("Set").$new(),"tap",[],(function(e){return null==e&&(e=p),n(m("ADMONITION_STYLES"),"each",[],(function(t){return null==t&&(t=p),e["$<<"](t.$chr())}))}))),r(f[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),r(f[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),r(f[0],"DELIMITED_BLOCKS",$(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",h("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",h("Set").$new()],",===":["table",h("Set").$new()],":===":["table",h("Set").$new()],"!===":["table",h("Set").$new()],"////":["comment",h("Set").$new()],"```":["fenced_code",h("Set").$new()]})),r(f[0],"DELIMITED_BLOCK_HEADS",n($([],{}),"tap",[],(function(e){return null==e&&(e=p),n(m("DELIMITED_BLOCKS"),"each_key",[],(function(t){var r;return null==t&&(t=p),r=[t.$slice(0,2),!0],n(e,"[]=",r),r[r.length-1]}))}))),r(f[0],"DELIMITED_BLOCK_TAILS",n($([],{}),"tap",[],(function(e){return null==e&&(e=p),n(m("DELIMITED_BLOCKS"),"each_key",[],(function(t){var r;return null==t&&(t=p),l(t.$length(),4)?(r=[t,t["$[]"](u(t.$length(),1))],n(e,"[]=",r),r[r.length-1]):p}))}))),r(f[0],"CAPTION_ATTRIBUTE_NAMES",$(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),r(f[0],"LAYOUT_BREAK_CHARS",$(["'","<"],{"'":"thematic_break","<":"page_break"})),r(f[0],"MARKDOWN_THEMATIC_BREAK_CHARS",$(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),r(f[0],"HYBRID_LAYOUT_BREAK_CHARS",m("LAYOUT_BREAK_CHARS").$merge(m("MARKDOWN_THEMATIC_BREAK_CHARS"))),r(f[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),r(f[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),r(f[0],"ORDERED_LIST_KEYWORDS",$(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),r(f[0],"ATTR_REF_HEAD","{"),r(f[0],"LIST_CONTINUATION","+"),r(f[0],"HARD_LINE_BREAK"," +"),r(f[0],"LINE_CONTINUATION"," \\"),r(f[0],"LINE_CONTINUATION_LEGACY"," +"),r(f[0],"BLOCK_MATH_DELIMITERS",$(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),r(f[0],"INLINE_MATH_DELIMITERS",$(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),r(f[0],"STEM_TYPE_ALIASES",$(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),r(f[0],"FONT_AWESOME_VERSION","4.7.0"),r(f[0],"HIGHLIGHT_JS_VERSION","9.18.3"),r(f[0],"MATHJAX_VERSION","2.7.9"),r(f[0],"DEFAULT_ATTRIBUTES",$(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),r(f[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),r(f[0],"INTRINSIC_ATTRIBUTES",$(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),r(f[0],"QUOTE_SUBS",n($([],{}),"tap",[],(function(e){var t=p,r=p;return null==e&&(e=p),e["$[]="](!1,t=[["strong","unconstrained",c(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",m("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",m("CC_ALL"),"*?\\S)\\*(?!",m("CG_WORD"),")"],"m")],["double","constrained",c(["(^|[^",m("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',m("CC_ALL"),'*?\\S)`"(?!',m("CG_WORD"),")"],"m")],["single","constrained",c(["(^|[^",m("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",m("CC_ALL"),"*?\\S)`'(?!",m("CG_WORD"),")"],"m")],["monospaced","unconstrained",c(["\\\\?(?:\\[([^\\]]+)\\])?``(",m("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",c(["(^|[^",m("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",m("CC_ALL"),"*?\\S)`(?![",m("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",c(["\\\\?(?:\\[([^\\]]+)\\])?__(",m("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",m("CC_ALL"),"*?\\S)_(?!",m("CG_WORD"),")"],"m")],["mark","unconstrained",c(["\\\\?(?:\\[([^\\]]+)\\])?##(",m("CC_ALL"),"+?)##"],"m")],["mark","constrained",c(["(^|[^",m("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",m("CC_ALL"),"*?\\S)#(?!",m("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),e["$[]="](!0,r=t.$drop(0)),r["$[]="](2,["double","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",m("CC_ALL"),"*?\\S)''(?!",m("CG_WORD"),")"],"m")]),r["$[]="](3,["single","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",m("CC_ALL"),"*?\\S)'(?!",m("CG_WORD"),")"],"m")]),r["$[]="](4,["monospaced","unconstrained",c(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",m("CC_ALL"),"+?)\\+\\+"],"m")]),r["$[]="](5,["monospaced","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",m("CC_ALL"),"*?\\S)\\+(?!",m("CG_WORD"),")"],"m")]),r.$insert(3,["emphasis","constrained",c(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",m("CC_ALL"),"*?\\S)'(?!",m("CG_WORD"),")"],"m")])}))),r(f[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[c(["(",m("CG_WORD"),")\\\\?--(?=",m("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[c(["(",m("CG_ALNUM"),")\\\\?'(?=",m("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]])}(d[0],d),_.$require("asciidoctor.rb/../asciidoctor/core_ext"),_.$require("asciidoctor.rb/../asciidoctor/helpers"),_.$require("asciidoctor.rb/../asciidoctor/logging"),_.$require("asciidoctor.rb/../asciidoctor/rx"),_.$require("asciidoctor.rb/../asciidoctor/substitutors"),_.$require("asciidoctor.rb/../asciidoctor/version"),_.$require("asciidoctor.rb/../asciidoctor/abstract_node"),_.$require("asciidoctor.rb/../asciidoctor/abstract_block"),_.$require("asciidoctor.rb/../asciidoctor/attribute_list"),_.$require("asciidoctor.rb/../asciidoctor/block"),_.$require("asciidoctor.rb/../asciidoctor/callouts"),_.$require("asciidoctor.rb/../asciidoctor/converter"),_.$require("asciidoctor.rb/../asciidoctor/document"),_.$require("asciidoctor.rb/../asciidoctor/inline"),_.$require("asciidoctor.rb/../asciidoctor/list"),_.$require("asciidoctor.rb/../asciidoctor/parser"),_.$require("asciidoctor.rb/../asciidoctor/path_resolver"),_.$require("asciidoctor.rb/../asciidoctor/reader"),_.$require("asciidoctor.rb/../asciidoctor/section"),_.$require("asciidoctor.rb/../asciidoctor/stylesheets"),_.$require("asciidoctor.rb/../asciidoctor/table"),_.$require("asciidoctor.rb/../asciidoctor/writer"),_.$require("asciidoctor.rb/../asciidoctor/load"),_.$require("asciidoctor.rb/../asciidoctor/convert"),_.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),_.$require("asciidoctor.rb/../asciidoctor/timings"),_.$require("asciidoctor/js/postscript")}));const t=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},r=function(e){const t={};if(e){const r=e.$$smap;for(const e in r){const n=r[e];t[e]=n===Opal.nil?void 0:n}const n=e.$$map;if(n){const e=[];for(const t in n){const r=n[t],i=r.value;e[r.key-1]=i===Opal.nil?void 0:i}e.length>0&&(t.$positional=e)}}return t},n=function(e){const t={};if(e){const r=e.$$keys;for(const e in r){const n=r[e].value;t[e.toString()]=n===Opal.nil?void 0:n}}return t},i=function(e){if(e=t(e)){const r=e["$[]"]("converter");r&&r!==Opal.nil&&e["$[]="]("converter",o(r));const n=e["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(e=e.$dup())["$[]="]("attributes",t(n))}return e},o=function(e){const r=function(e,r){e.backend_traits?r.backend_traits=t(e.backend_traits):e.backendTraits?r.backend_traits=t(e.backendTraits):(e.basebackend||e.outfilesuffix||e.filetype||e.htmlsyntax||e.supports_templates)&&(r.backend_traits=t(function(e){return Object.assign({},e.basebackend?{basebackend:e.basebackend}:{},e.outfilesuffix?{outfilesuffix:e.outfilesuffix}:{},e.filetype?{filetype:e.filetype}:{},e.htmlsyntax?{htmlsyntax:e.htmlsyntax}:{},e.supports_templates?{supports_templates:e.supports_templates}:{})}(e)))},n=function(e,t){o(e,t,"$handles?","handles",(function(){return!0}))},i=function(e,t){o(e,t,"$composed","composed")},o=function(e,t,r,n,i){void 0===e[r]&&("function"==typeof e[n]?t[r]=e[n]:i&&(t[r]=i))},a=function(e){"function"!=typeof e["$respond_to?"]&&(e["$respond_to?"]=function(e){return"function"==typeof this[e]})};if("function"==typeof e){const t=s(Y,e.constructor.name,{initialize:function(t,o){const s=this,$=new e(t,o);Object.assign(this,$),r($,s);const l=Object.getOwnPropertyNames(e.prototype);for(let e=0;e<l.length;e++){const t=l[e];"constructor"!==t&&(s[t]=$[t])}void 0===$.$convert&&"function"==typeof $.convert&&(s.$convert=$.convert),n($,s),i($,s),a(s),s.super(t,o)}});return t.$extend(G),t}if("object"==typeof e){if(void 0===e.$convert&&"function"==typeof e.convert&&(e.$convert=e.convert),r(e,e),e.backend_traits){const t=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const r of t)e["$"+r]=G.prototype["$"+r];e.$$meta=G}return n(e,e),i(e,e),o(e,$=e,"$==","==",(function(e){return $===e})),function(e,t){o(e,t,"$send","send",(function(e){const[,...r]=Array.from(arguments),n=t["$"+e];if(n)return n.apply(t,r);throw new Error(`undefined method \`${e}\` for \`${t.toString()}\``)}))}(e,e),a(e),e}var $;return e};function s(e,n,i,o,s){const a=Opal.klass(Opal.Object,e,n,(function(){}));let $,l,u;const c={};for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&function(e){const t=i[e];if("postConstruct"===e)$=t;else if("initialize"===e)l=t;else if("constructor"===e)u=t;else{let r;o&&Object.prototype.hasOwnProperty.call(o,e)&&(c[e]=!0),Opal.def(a,"$"+e,r=function(){let n;n=s&&Object.prototype.hasOwnProperty.call(s,e)?s[e](arguments):arguments;const i=r.$$p;return i&&(n[n.length]=function(){return Opal.yield1(i)},n.length+=1,r.$$p=null),t.apply(this,n)})}}(e);let _,d;_="function"==typeof u?function(){const e=Array.from(arguments);for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=r(e[t]));e.unshift(null);const t=new(Function.prototype.bind.apply(u,e));Object.assign(this,t),"function"==typeof $&&$.bind(this)()}:"function"==typeof l?function(){const e=Array.from(arguments);for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=r(e[t]));l.apply(this,e),"function"==typeof $&&$.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",_)),"function"==typeof $&&$.bind(this)()},Opal.def(a,"$initialize",_),Opal.def(a,"super",d=function(e){if("function"==typeof e)Opal.send(this,Opal.find_super_dispatcher(this,e.name,e));else{const e=Array.from(arguments);for(let r=0;r<e.length;r++)"object"==typeof e[r]&&(e[r]=t(e[r]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",_),e)}});for(const e in i)d[e]=function(){const r=Array.from(arguments);for(let e=0;e<r.length;e++)"object"==typeof r[e]&&"function"==typeof r[e].constructor&&"Object"===r[e].constructor.name&&(r[e]=t(r[e]));const n=a.$$prototype;return Opal.send(n,Opal.find_super_dispatcher(n,e,n[`$${e}`]),r)};if(o)for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&!Object.prototype.hasOwnProperty.call(c,e)&&function(e){const t=o[e];Opal.def(a,"$"+e,(function(){return t.apply(this,arguments)}))}(e);return a}const a=Opal.Asciidoctor.$$class;a.prototype.getCoreVersion=function(){return this.$$const.VERSION},a.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},a.prototype.convert=function(e,t){"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8"));const r=t&&t.to_file;"object"==typeof r&&"Writable"===r.constructor.name&&"function"==typeof r.write&&(r["$respond_to?"]=e=>"write"===e,r.$object_id=()=>"",r.$write=function(e){this.write(e)});const n=i(t),o=this.$convert(e,n);return"object"==typeof r&&"Writable"===r.constructor.name&&"function"==typeof r.end&&r.end(),o===Opal.nil?"":o},a.prototype.convertFile=function(e,t){return this.$convert_file(e,i(t))},a.prototype.load=function(e,t){return"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8")),this.$load(e,i(t))},a.prototype.loadFile=function(e,t){return this.$load_file(e,i(t))};const $=Opal.Asciidoctor.AbstractBlock;$.prototype.getContentModel=function(){const e=this.content_model;return e===Opal.nil?void 0:e},$.prototype.setContentModel=function(e){this.content_model=e},$.prototype.append=function(e){return this.$append(e),this},$.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},$.prototype.setTitle=function(e){return e=void 0===e?Opal.nil:e,this["$title="](e)},$.prototype.assignCaption=function(e,t){e=void 0===e?Opal.nil:e,t=void 0===t?null:t,this.$assign_caption(e,t)},$.prototype.getCaptionedTitle=function(){return this.$captioned_title()},$.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e},$.prototype.setStyle=function(e){this.style=e},$.prototype.getSourceLocation=function(){const e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},e.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},e.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},e.getLineNumber=function(){const e=this.lineno;return e===Opal.nil?void 0:e},e},$.prototype.getCaption=function(){const e=this.$caption();return e===Opal.nil?void 0:e},$.prototype.setCaption=function(e){this.caption=void 0===e?Opal.nil:e},$.prototype.getLevel=function(){const e=this.level;return e===Opal.nil?void 0:e},$.prototype.getSubstitutions=function(){return this.subs},$.prototype.hasSubstitution=function(e){return this["$sub?"](e)},$.prototype.removeSubstitution=function(e){this.$remove_sub(e)},$.prototype.hasBlocks=function(){return this.blocks.length>0},$.prototype.getBlocks=function(){return this.blocks},$.prototype.getContent=function(){const e=this.$content();return e===Opal.nil?void 0:e},$.prototype.convert=function(){return this.$convert()},$.prototype.findBy=function(e,r){return void 0===r&&"function"==typeof e?Opal.send(this,"find_by",null,e):"function"==typeof r?Opal.send(this,"find_by",[t(e)],r):this.$find_by(t(e))},$.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},$.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},$.prototype.getSections=function(){return this.$sections()},$.prototype.getNumeral=function(){const e=this.$numeral();return e===Opal.nil?void 0:e},$.prototype.setNumeral=function(e){this["$numeral="](e)},$.prototype.hasTitle=function(){return this["$title?"]()},$.prototype.getAlt=function(){return this.$alt()};const l=Opal.Asciidoctor.Section;l.create=function(e,r,n,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),this.$new(e,r,n,t(i))},l.prototype.setLevel=function(e){this.level=e},l.prototype.getIndex=function(){return this.index},l.prototype.setIndex=function(e){this.index=e},l.prototype.getSectionName=function(){const e=this.sectname;return e===Opal.nil?void 0:e},l.prototype.setSectionName=function(e){this.sectname=e},l.prototype.getSectionNumeral=function(){return this.$sectnum()},l.prototype.getSectionNumber=l.prototype.getSectionNumeral,l.prototype.isSpecial=function(){return this.special},l.prototype.setSpecial=function(e){this.special=e},l.prototype.isNumbered=function(){return this.numbered},l.prototype.getCaption=function(){const e=this.caption;return e===Opal.nil?void 0:e},l.prototype.getName=function(){return this.getTitle()};const u=Opal.Asciidoctor.Block;u.create=function(e,r,n){return n&&n.attributes&&(n.attributes=t(n.attributes)),this.$new(e,r,t(n))},u.prototype.getSource=function(){return this.$source()},u.prototype.getSourceLines=function(){return this.lines};const c=Opal.Asciidoctor.AbstractNode;c.prototype.applySubstitutions=function(e,t){return this.$apply_subs(e,t)},c.prototype.resolveSubstitutions=function(e,t,r,n){void 0===t&&(t="block"),void 0===r&&(r=Opal.nil),void 0===n&&(n=Opal.nil);const i=this.$resolve_subs(e,t,r,n);return i===Opal.nil?void 0:i},c.prototype.resolveBlockSubstitutions=function(e,t,r){return this.resolveSubstitutions(e,"block",t,r)},c.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},c.prototype.getNodeName=function(){return this.node_name},c.prototype.getAttributes=function(){return r(this.attributes)},c.prototype.getAttribute=function(e,t,r){const n=this.$attr(e,t,r);return n===Opal.nil?void 0:n},c.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},c.prototype.isAttribute=function(e,t,r){return this["$attr?"](e,t,r)},c.prototype.setAttribute=function(e,t,r){return void 0===r&&(r=!0),this.$set_attr(e,t,r)},c.prototype.removeAttribute=function(e){const t=this.$remove_attr(e);return t===Opal.nil?void 0:t},c.prototype.getDocument=function(){return this.document},c.prototype.getParent=function(){const e=this.parent;return e===Opal.nil?void 0:e},c.prototype.isInline=function(){return this["$inline?"]()},c.prototype.isBlock=function(){return this["$block?"]()},c.prototype.isRole=function(e){return this["$role?"](e)},c.prototype.getRole=function(){const e=this.$role();return e===Opal.nil?void 0:e},c.prototype.setRole=function(e){return Array.isArray(e)||"string"==typeof e&&1===arguments.length?this["$role="](e):this["$role="](Array.from(arguments))},c.prototype.hasRole=function(e){return this["$has_role?"](e)},c.prototype.getRoles=function(){return this.$roles()},c.prototype.addRole=function(e){return this.$add_role(e)},c.prototype.removeRole=function(e){return this.$remove_role(e)},c.prototype.isReftext=function(){return this["$reftext?"]()},c.prototype.getReftext=function(){const e=this.$reftext();return e===Opal.nil?void 0:e},c.prototype.getContext=function(){const e=this.context;return"string"==typeof e?e:e.toString()},c.prototype.getId=function(){const e=this.id;return e===Opal.nil?void 0:e},c.prototype.setId=function(e){this.id=e},c.prototype.isOption=function(e){return this["$option?"](e)},c.prototype.setOption=function(e){return this.$set_option(e)},c.prototype.getIconUri=function(e){return this.$icon_uri(e)},c.prototype.getMediaUri=function(e,t){return this.$media_uri(e,t)},c.prototype.getImageUri=function(e,t){return this.$image_uri(e,t)},c.prototype.getConverter=function(){return this.$converter()},c.prototype.readContents=function(e,r){return this.$read_contents(e,t(r))},c.prototype.readAsset=function(e,r){const n=this.$read_asset(e,t(r));return n===Opal.nil?void 0:n},c.prototype.normalizeWebPath=function(e,t,r){return this.$normalize_web_path(e,t,r)},c.prototype.normalizeSystemPath=function(e,r,n,i){return this.$normalize_system_path(e,r,n,t(i))},c.prototype.normalizeAssetPath=function(e,t,r){return this.$normalize_asset_path(e,t,r)};const _=Opal.Asciidoctor.Document;_.prototype.append=function(e){return this["$<<"](e),this},_.prototype.getSyntaxHighlighter=function(){const e=this.syntax_highlighter,r=e.__proto__;return r&&("function"==typeof r["$highlight?"]&&(r.handlesHighlighting=function(){const e=r["$highlight?"]();return e!==Opal.nil&&e}),"function"==typeof r["$docinfo?"]&&(r.hasDocinfo=r["$docinfo?"]),"function"==typeof r.$format&&(r.format=function(e,r,n){return this.$format(e,r,t(n))}),"function"==typeof r.$docinfo&&(r.docinfo=function(e,r,n){return this.$docinfo(e,r,t(n))})),e},_.prototype.getRefs=function(){return r(this.catalog.$$smap.refs)},_.prototype.getImages=function(){return this.catalog.$$smap.images},_.prototype.getLinks=function(){return this.catalog.$$smap.links},_.prototype.hasFootnotes=function(){return this["$footnotes?"]()},_.prototype.getFootnotes=function(){return this.$footnotes()},_.prototype.getHeader=function(){return this.header},_.prototype.setAttribute=function(e,t){return this.$set_attribute(e,t)},_.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},_.prototype.convert=function(e){const r=this.$convert(t(e));return r===Opal.nil?"":r},_.prototype.write=function(e,t){return this.$write(e,t)},_.prototype.getAuthor=function(){return this.$author()},_.prototype.getSource=function(){return this.$source()},_.prototype.getSourceLines=function(){return this.$source_lines()},_.prototype.isNested=function(){return this["$nested?"]()},_.prototype.isEmbedded=function(){return this["$embedded?"]()},_.prototype.hasExtensions=function(){return this["$extensions?"]()},_.prototype.getDoctype=function(){return this.doctype},_.prototype.getBackend=function(){return this.backend},_.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},_.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},_.prototype.setTitle=function(e){return this["$title="](e)},_.prototype.getDocumentTitle=function(e){const r=this.$doctitle(t(e));return r===Opal.nil?void 0:r},_.prototype.getDoctitle=_.prototype.getDocumentTitle,_.prototype.getCatalog=function(){return r(this.catalog)},_.prototype.getReferences=_.prototype.getCatalog,_.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},_.prototype.getRevdate=function(){return this.getRevisionDate()},_.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},_.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},_.prototype.setHeaderAttribute=function(e,t,r){return void 0===r&&(r=!0),void 0===t&&(t=""),this.$set_header_attribute(e,t,r)},_.prototype.getAuthors=function(){return this.$authors()};const d=_.Footnote;d.prototype.getIndex=function(){const e=this.$$data.index;return e===Opal.nil?void 0:e},d.prototype.getId=function(){const e=this.$$data.id;return e===Opal.nil?void 0:e},d.prototype.getText=function(){const e=this.$$data.text;return e===Opal.nil?void 0:e};const p=_.ImageReference;p.prototype.getTarget=function(){return this.$$data.target},p.prototype.getImagesDirectory=function(){const e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};const h=_.Author;h.prototype.getName=function(){const e=this.$$data.name;return e===Opal.nil?void 0:e},h.prototype.getFirstName=function(){const e=this.$$data.firstname;return e===Opal.nil?void 0:e},h.prototype.getMiddleName=function(){const e=this.$$data.middlename;return e===Opal.nil?void 0:e},h.prototype.getLastName=function(){const e=this.$$data.lastname;return e===Opal.nil?void 0:e},h.prototype.getInitials=function(){const e=this.$$data.initials;return e===Opal.nil?void 0:e},h.prototype.getEmail=function(){const e=this.$$data.email;return e===Opal.nil?void 0:e},_.RevisionInfo=function(e,t,r){this.date=e,this.number=t,this.remark=r};const f=_.RevisionInfo;f.prototype.getDate=function(){return this.date},f.prototype.getNumber=function(){return this.number},f.prototype.getRemark=function(){return this.remark},f.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};const m=Opal.Asciidoctor.SafeMode;m.getValueForName=function(e){return this.$value_for_name(e)},m.getNameForValue=function(e){const t=this.$name_for_value(e);return t===Opal.nil?void 0:t},m.getNames=function(){return this.$names()};const g=Opal.Asciidoctor.Callouts;g.create=function(){return this.$new()},g.prototype.register=function(e){return this.$register(e)},g.prototype.readNextId=function(){return this.$read_next_id()},g.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},g.prototype.getLists=function(){const e=this.lists;if(e&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.length>0)for(let e=0;e<n.length;e++)"object"==typeof n[e]&&"$$smap"in n[e]&&(n[e]=r(n[e]))}return e},g.prototype.getListIndex=function(){return this.list_index},g.prototype.getCurrentList=function(){const e=this.$current_list();if(e&&e.length>0)for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=r(e[t]));return e},g.prototype.nextList=function(){return this.$nextList()},g.prototype.rewind=function(){return this.$rewind()},_.prototype.getRevisionInfo=function(){return new _.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},_.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},_.prototype.getNotitle=function(){return this.$notitle()},_.prototype.getNoheader=function(){return this.$noheader()},_.prototype.getNofooter=function(){return this.$nofooter()},_.prototype.hasHeader=function(){return this["$header?"]()},_.prototype.playbackAttributes=function(e){if(e=t(e)){const t=e["$[]"]("attribute_entries");if(t&&Array.isArray(t)){const r=[];for(let e=0;e<t.length;e++){const n=t[e];n&&"object"==typeof n&&"Object"===n.constructor.name&&(n.$name=function(){return this.name},n.$value=function(){return this.value},n.$negate=function(){return this.negate}),r.push(n)}e["$[]="]("attribute_entries",r)}}this.$playback_attributes(e)},_.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},_.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},_.prototype.restoreAttributes=function(){return this.$restore_attributes()},_.prototype.parse=function(e){return this.$parse(e)},_.prototype.getDocinfo=function(e,t){return this.$docinfo(e,t)},_.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},_.prototype.incrementAndStoreCounter=function(e,t){return this.$increment_and_store_counter(e,t)},_.prototype.counterIncrement=_.prototype.incrementAndStoreCounter,_.prototype.counter=function(e,t){return this.$counter(e,t)},_.prototype.getSafe=function(){return this.safe},_.prototype.getCompatMode=function(){return this.compat_mode},_.prototype.getSourcemap=function(){const e=this.sourcemap;return e!==Opal.nil&&e},_.prototype.setSourcemap=function(e){this.sourcemap=e},_.prototype.getCounters=function(){return r(this.counters)},_.prototype.getCallouts=function(){return this.$callouts()},_.prototype.getBaseDir=function(){return this.base_dir},_.prototype.getOptions=function(){return r(this.options)},_.prototype.getOutfilesuffix=function(){return this.outfilesuffix},_.prototype.getParentDocument=function(){const e=this.parent_document;return e===Opal.nil?void 0:e},_.prototype.getReader=function(){return this.reader},_.prototype.getConverter=function(){return this.converter},_.prototype.getExtensions=function(){const e=this.extensions;return e===Opal.nil?void 0:e};const b=_.Title;b.prototype.getMain=function(){return this.main},b.prototype.getCombined=function(){return this.combined},b.prototype.getSubtitle=function(){const e=this.subtitle;return e===Opal.nil?void 0:e},b.prototype.isSanitized=function(){const e=this["$sanitized?"]();return e!==Opal.nil&&e},b.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const v=Opal.Asciidoctor.Inline;v.create=function(e,t,r,n){return this.$new(e,t,r,i(n))},v.prototype.convert=function(){return this.$convert()},v.prototype.getText=function(){const e=this.$text();return e===Opal.nil?void 0:e},v.prototype.getType=function(){return this.$type()},v.prototype.getTarget=function(){const e=this.$target();return e===Opal.nil?void 0:e},v.prototype.getAlt=function(){return this.$alt()};const y=Opal.Asciidoctor.List;y.prototype.hasItems=function(){return this["$items?"]()},y.prototype.getItems=function(){return this.blocks};const x=Opal.Asciidoctor.ListItem;x.prototype.getText=function(){return this.$text()},x.prototype.setText=function(e){return this["$text="](e)},x.prototype.hasText=function(){return this["$text?"]()},x.prototype.getMarker=function(){return this.marker},x.prototype.setMarker=function(e){this.marker=e},x.prototype.getList=function(){return this.$list()},x.prototype.getParent=x.prototype.getList;const k=Opal.Asciidoctor.Reader;k.prototype.pushInclude=function(e,r,n,i,o){return this.$push_include(e,r,n,i,t(o))},k.prototype.getCursor=function(){return this.$cursor()},k.prototype.getLines=function(){return this.$lines()},k.prototype.getString=function(){return this.$string()},k.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},k.prototype.isEmpty=function(){return this["$empty?"]()},k.prototype.peekLine=function(e){e=e||!1;const t=this.$peek_line(e);return t===Opal.nil?void 0:t},k.prototype.readLine=function(){const e=this.$read_line();return e===Opal.nil?void 0:e},k.prototype.readLines=function(){return this.$read_lines()},k.prototype.read=function(){return this.$read()},k.prototype.advance=function(){return this.$advance()};const w=Opal.Asciidoctor.Reader.Cursor;w.prototype.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},w.prototype.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},w.prototype.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},w.prototype.getLineNumber=function(){return this.lineno};const A=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=A,A.getLogger=function(){return this.$logger()},A.setLogger=function(e){this["$logger="](e)},A.newLogger=function(e,t){return function(e,t){return s(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),e,t,{},{add:function(e){if(e.length>=2&&"object"==typeof e[2]&&"$$smap"in e[2]){const t=e[2],n=r(t);n.getText=function(){return this.text},n.getSourceLocation=function(){return this.source_location},n.$inspect=function(){const e=this.getSourceLocation();return e?e.getPath()+": line "+e.getLineNumber()+": "+this.getText():this.getText()},e[2]=n}return e.length>=1&&(e[1]=e[1]===Opal.nil?void 0:e[1]),e}})}(e,t).$new()},A.newFormatter=function(e,t){return function(e,t){return s(Opal.const_get_qualified(Opal.Logger,"Formatter"),e,t,{},{call:function(e){for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=r(e[t]));return e}})}(e,t).$new()};const E=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=E,E.get=function(e){return E.$constants()[e]};const S=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=S,S.prototype.call=function(e,t,r,n){return this.$call(E.get(e),t,r,n)};const C=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=C,C.create=function(){return this.$new()},C.prototype.getMessages=function(){const e=this.messages,t=[];for(let n=0;n<e.length;n++){const i=e[n],o=r(i);"string"==typeof o.message?o.getText=function(){return this.message}:(o.message=r(o.message),o.getText=function(){return this.message.text}),o.getSeverity=function(){return this.severity.toString()},o.getSourceLocation=function(){return this.message.source_location},t.push(o)}return t};const O=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=O,O.getLogger=function(){return A.$logger()},O.createLogMessage=function(e,r){return O.prototype.$message_with_context(e,t(r))},k.prototype.getLogger=O.getLogger,k.prototype.createLogMessage=O.createLogMessage,c.prototype.getLogger=O.getLogger,c.prototype.createLogMessage=O.createLogMessage;const R=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=R,R.prototype.getMaxSeverity=function(){const e=this.max_severity;return e===Opal.nil?void 0:e},R.prototype.getFormatter=function(){return this.formatter},R.prototype.setFormatter=function(e){this.formatter=e},R.prototype.getLevel=function(){return this.level},R.prototype.setLevel=function(e){this.level=e},R.prototype.getProgramName=function(){return this.progname},R.prototype.setProgramName=function(e){this.progname=e};const I=Opal.const_get_qualified("::","Logger"),T=function(e,t,r){e["$"+t](r)};I.prototype.add=function(e,t,r){const n="string"==typeof e?E[e.toUpperCase()]:e;this.$add(n,t,r)},I.prototype.log=I.prototype.add,I.prototype.debug=function(e){T(this,"debug",e)},I.prototype.info=function(e){T(this,"info",e)},I.prototype.warn=function(e){T(this,"warn",e)},I.prototype.error=function(e){T(this,"error",e)},I.prototype.fatal=function(e){T(this,"fatal",e)},I.prototype.isDebugEnabled=function(){return this["$debug?"]()},I.prototype.isInfoEnabled=function(){return this["$info?"]()},I.prototype.isWarnEnabled=function(){return this["$warn?"]()},I.prototype.isErrorEnabled=function(){return this["$error?"]()},I.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const z=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=z,z.create=function(){return this.$new()},z.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const F=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=F,F.create=function(){return this.$new()},F.prototype.printReport=function(e,t){let r;if(e)if("function"==typeof e.$add)r=function(t){e.$add(1,t)};else if("function"==typeof e.log)r=e.log;else{if("function"!=typeof e.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");r=function(t){e.write(t,"utf-8")}}else r=function(e){Opal.gvars.stdout.$write(e)};t&&r("Input file: "+t),r(" Time to read and parse source: "+this.$read_parse().toFixed(2)),r(" Time to convert document: "+this.$convert().toFixed(2)),r(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const N=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=N,N.register=function(e,t){const i="string"==typeof e?e:e[0];if("function"==typeof t){const e=t.prototype,r=Object.getOwnPropertyNames(e);t={};for(const n in r){const i=r[n];t[i]=e[i]}}const o=s(L,i,t,{},{format:function(e){return e.length>=2&&"object"==typeof e[2]&&"$$smap"in e[2]&&(e[2]=r(e[2])),e.length>=1&&(e[1]=e[1]===Opal.nil?void 0:e[1]),e},highlight:function(e){if(e.length>=3&&"object"==typeof e[3]&&"$$smap"in e[3]){let t=e[3];t=r(t);for(const e in t){const r=t[e];if("callouts"===e){const i=n(r);for(const e in i){const t=i[e];for(let e=0;e<t.length;e++){const r=t[e];for(let e=0;e<r.length;e++)r[e]=r[e]===Opal.nil?void 0:r[e]}}t[e]=i}else t[e]=r===Opal.nil?void 0:r}e[3]=t}return e.length>=2&&(e[2]=e[2]===Opal.nil?void 0:e[2]),e}});for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&function(e){const r=t[e];"handlesHighlighting"===e?Opal.def(o,"$highlight?",(function(){return r.call()})):"hasDocinfo"===e&&Opal.def(o,"$docinfo?",(function(e){return r.apply(this,[e])}))}(e);return Opal.def(o,"$name",(function(){return i})),N.$register(o,e),o},N.get=function(e){const t=N.$for(e);return t===Opal.nil?void 0:t},N.for=N.get;const L=Opal.const_get_qualified(N,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=L,L.prototype.registerFor=function(e){N.$register(this,e)};const D=Opal.Asciidoctor.Table;D.create=function(e,r){return this.$new(e,t(r))},D.prototype.getCaption=function(){return this.caption},D.prototype.getRows=function(){return this.rows},D.prototype.getColumns=function(){return this.columns},D.prototype.getHeadRows=function(){return this.rows.head},D.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},D.prototype.getBodyRows=function(){return this.rows.body},D.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},D.prototype.getFootRows=function(){return this.rows.foot},D.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},D.prototype.hasHeaderOption=function(){return this.has_header_option},D.prototype.hasFooterOption=function(){return this.isOption("footer")},D.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},D.prototype.getRowCount=function(){return this.getAttribute("rowcount")},D.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},D.prototype.getColumnCount=function(){return this.getAttribute("colcount")},D.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};const q=Opal.Asciidoctor.Table.Rows;q.create=function(e,t,r){return this.$new(e,t,r)},q.prototype.getHead=function(){return this.head},q.prototype.getFoot=function(){return this.foot},q.prototype.getBody=function(){return this.body},q.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const B=Opal.Asciidoctor.Table.Column;B.create=function(e,r,n){return this.$new(e,r,t(n))},B.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},B.prototype.getWidth=function(){return this.getAttribute("width")},B.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},B.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},B.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e};const M=Opal.Asciidoctor.Table.Cell;M.create=function(e,r,n,i){return this.$new(e,r,t(n),t(i))},M.prototype.getColumnSpan=function(){const e=this.colspan;return e===Opal.nil?void 0:e},M.prototype.setColumnSpan=function(e){return this["$colspan="](e)},M.prototype.getRowSpan=function(){const e=this.rowspan;return e===Opal.nil?void 0:e},M.prototype.setRowSpan=function(e){return this["$rowspan="](e)},M.prototype.getContent=function(){return this.$content()},M.prototype.getText=function(){return this.$text()},M.prototype.getSource=function(){return this.$source()},M.prototype.getLines=function(){return this.$lines()},M.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},M.prototype.getFile=function(){const e=this.$file();return e===Opal.nil?void 0:e},M.prototype.getStyle=function(){const e=this.$style();return e===Opal.nil?void 0:e},M.prototype.getColumn=function(){const e=this.$column();return e===Opal.nil?void 0:e},M.prototype.getWidth=function(){return this.getAttribute("width")},M.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},M.prototype.getInnerDocument=function(){const e=this.inner_document;return e===Opal.nil?void 0:e};const j=Opal.Asciidoctor.Converter.TemplateConverter;if(j){Opal.Asciidoctor.TemplateConverter=j,j.create=function(e,r,n){n&&n.template_cache&&(n.template_cache=t(n.template_cache)),this.$new(e,r,t(n))},j.getCache=function(){const e=r(this.caches);if(e){if(e.scans){e.scans=r(e.scans);for(const t in e.scans)e.scans[t]=r(e.scans[t])}e.templates&&(e.templates=r(e.templates))}return e},j.clearCache=function(){this.$clear_caches()},j.prototype.convert=function(e,r,n){return this.$convert(e,r,t(n))},j.prototype.handles=function(e){return this["$handles?"](e)},j.prototype.getContentOnly=function(e){return this.$content_only(e)},j.prototype.skip=function(e){this.$skip(e)},j.prototype.getTemplates=function(){return r(this.$templates())},j.prototype.register=function(e,t){return this.$register(e,t)};const e={registry:{}};Opal.Asciidoctor.TemplateEngine=e,e.register=function(e,t){if("string"==typeof e)this.registry[e]=t;else for(let r=0;r<e.length;r++){const n=e[r];this.registry[n]=t}}}const P=Opal.Asciidoctor.Converter.CompositeConverter;P&&(Opal.Asciidoctor.CompositeConverter=P,P.prototype.convert=function(e,r,n){return this.$convert(e,r,t(n))},P.prototype.getContentOnly=function(e){return this.$content_only(e)},P.prototype.skip=function(e){this.$skip(e)},P.prototype.getConverters=function(){return this.converters},P.prototype.getConverter=function(e){const t=this.$converter_for(e);return t===Opal.nil?void 0:t},P.prototype.findConverter=function(e){return this.$find_converter(e)});const U=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=U,U.prototype.convert=function(e,r,n){return this.$convert(e,r,t(n))},U.create=function(e,r){return this.$create(e,t(r))};const H=Opal.Asciidoctor.Converter.Factory,Y=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=H;const G=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=G,H.register=function(e,t){const r=[o(e)].concat(t);return U.$register.apply(U,r)},H.getDefault=function(e){return this.$default(e)},H.prototype.create=function(e,r){return this.$create(e,t(r))},H.getRegistry=function(){return r(U.$registry())},H.for=function(e){const t=U.$for(e);return t===Opal.nil?void 0:t},H.unregisterAll=function(){const e=U.DefaultFactory.$$cvars["@@registry"];U.DefaultFactory.$$cvars["@@registry"]=t({html5:e["$[]"]("html5")})};const W=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=W,W.create=function(){return this.$new()},W.prototype.convert=function(e,t,r){return this.$convert(e,t,r)};const K=function(e){return e.$$arity=e.length,e},X=function(e,t,r,n){return"object"==typeof r||r.$$is_class?e["$"+t](r,n):Opal.send(e,t,n&&[n],K(r))},V=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=V,V.create=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"create",null,K(e)):"function"==typeof t?Opal.send(this,"create",[e],K(t)):this.$create()},V.register=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"register",null,K(e)):Opal.send(this,"register",[e],K(t))},V.getGroups=function(){return r(this.$groups())},V.unregisterAll=function(){this.$unregister_all()},V.unregister=function(){const e=Array.prototype.concat.apply([],arguments),t=this.$groups(),r={};let n=0;const i=t.$$keys;for(;n<i.length;n++){const e=i[n];r[e.toString()]=e}for(let n=0;n<e.length;n++){const i=e[n];i in r&&Opal.hash_delete(t,r[i])}};const J=V.Registry;J.prototype.getGroups=V.getGroups,J.prototype.unregisterAll=function(){this.groups=Opal.hash()},J.prototype.unregister=V.unregister,J.prototype.prefer=function(e,t){return 1===arguments.length&&(t=e,e=null),"object"==typeof t||t.$$is_class?this.$prefer(e,t):Opal.send(this,"prefer",e&&[e],K(t))},J.prototype.block=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"block",t,e)},J.prototype.inlineMacro=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"inline_macro",t,e)},J.prototype.includeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"include_processor",t,e)},J.prototype.blockMacro=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"block_macro",t,e)},J.prototype.treeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"tree_processor",t,e)},J.prototype.postprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"postprocessor",t,e)},J.prototype.preprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"preprocessor",t,e)},J.prototype.docinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),X(this,"docinfo_processor",t,e)},J.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},J.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},J.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},J.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},J.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},J.prototype.hasBlocks=function(){return this["$blocks?"]()},J.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},J.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},J.prototype.getPreprocessors=function(){return this.$preprocessors()},J.prototype.getTreeProcessors=function(){return this.$tree_processors()},J.prototype.getIncludeProcessors=function(){return this.$include_processors()},J.prototype.getPostprocessors=function(){return this.$postprocessors()},J.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},J.prototype.getBlocks=function(){return this.block_extensions.$values()},J.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},J.prototype.getInlineMacros=function(){return this.$inline_macros()},J.prototype.getInlineMacroFor=function(e){const t=this["$registered_for_inline_macro?"](e);return!1===t?void 0:t},J.prototype.getBlockFor=function(e,t){if(void 0===t){const t=this.$find_block_extension(e);return t===Opal.nil?void 0:t}const r=this["$registered_for_block?"](e,t);return!1===r?void 0:r},J.prototype.getBlockMacroFor=function(e){const t=this["$registered_for_block_macro?"](e);return!1===t?void 0:t};const Z=V.Processor;Z.prototype.prepend=function(){this.$option("position",">>")},Z.prototype.process=function(e){const t=new Proxy(e,{apply:function(e,t,n){for(let e=0;e<n.length;e++)"object"==typeof n[e]&&"$$smap"in n[e]&&(n[e]=r(n[e]));return e.apply(t,n)}});return Opal.send(this,"process",null,K(t))},Z.prototype.named=function(e){return this.$named(e)},Z.prototype.createBlock=function(e,r,n,i,o){return this.$create_block(e,r,n,t(i),t(o))},Z.prototype.createList=function(e,r,n){return this.$create_list(e,r,t(n))},Z.prototype.createListItem=function(e,t){return this.$create_list_item(e,t)},Z.prototype.createImageBlock=function(e,r,n){return this.$create_image_block(e,t(r),t(n))},Z.prototype.createParagraph=function(e,r,n,i){return this.$create_paragraph(e,r,t(n),t(i))},Z.prototype.createOpenBlock=function(e,r,n,i){return this.$create_open_block(e,r,t(n),t(i))},Z.prototype.createExampleBlock=function(e,r,n,i){return this.$create_example_block(e,r,t(n),t(i))},Z.prototype.createPassBlock=function(e,r,n,i){return this.$create_pass_block(e,r,t(n),t(i))},Z.prototype.createListingBlock=function(e,r,n,i){return this.$create_listing_block(e,r,t(n),t(i))},Z.prototype.createLiteralBlock=function(e,r,n,i){return this.$create_literal_block(e,r,t(n),t(i))},Z.prototype.createAnchor=function(e,r,n){return n&&n.attributes&&(n.attributes=t(n.attributes)),this.$create_anchor(e,r,t(n))},Z.prototype.createInlinePass=function(e,r,n){return n&&n.attributes&&(n.attributes=t(n.attributes)),this.$create_inline_pass(e,r,t(n))},Z.prototype.createInline=function(e,r,n,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),this.$create_inline(e,r,n,t(i))},Z.prototype.parseContent=function(e,r,n){return this.$parse_content(e,r,t(n))},Z.prototype.parseAttributes=function(e,n,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),r(this.$parse_attributes(e,n,t(i)))},Z.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},Z.prototype.resolveAttributes=function(e){return"object"!=typeof e||Array.isArray(e)?arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):void 0===e?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e):this.$resolves_attributes(t(e))},Z.prototype.resolvesAttributes=Z.prototype.resolveAttributes,Z.prototype.getConfig=function(){return r(this.config)},Z.prototype.option=function(e,t){this.$option(e,t)};const Q=V.BlockProcessor;Q.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},Q.prototype.onContext=function(e){return this.$on_context(e)},Q.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Q.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},Q.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const ee=V.BlockMacroProcessor;ee.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},ee.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},ee.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const te=V.InlineMacroProcessor;te.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},te.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},te.prototype.parseContentAs=function(e){this.$parse_content_as(e)},te.prototype.matchFormat=function(e){this.$match_format(e)},te.prototype.match=function(e){this.$match(e)};const re=V.IncludeProcessor;re.prototype.handles=function(e){return Opal.send(this,"handles?",null,K(e))},re.prototype.prefer=function(){this.$prefer()};V.TreeProcessor.prototype.prefer=function(){this.$prefer()};V.Postprocessor.prototype.prefer=function(){this.$prefer()};V.Preprocessor.prototype.prefer=function(){this.$prefer()};const ne=V.DocinfoProcessor;function ie(e,t,r){return s(Opal.const_get_qualified(V,e),t,r,{"handles?":function(){return!0}})}ne.prototype.prefer=function(){this.$prefer()},ne.prototype.atLocation=function(e){this.$at_location(e)},V.createPostprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("Postprocessor",e,t)},V.newPostprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createPostprocessor(e,t).$new()},V.createPreprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("Preprocessor",e,t)},V.newPreprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createPreprocessor(e,t).$new()},V.createTreeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("TreeProcessor",e,t)},V.newTreeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createTreeProcessor(e,t).$new()},V.createIncludeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("IncludeProcessor",e,t)},V.newIncludeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createIncludeProcessor(e,t).$new()},V.createDocinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("DocinfoProcessor",e,t)},V.newDocinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createDocinfoProcessor(e,t).$new()},V.createBlockProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("BlockProcessor",e,t)},V.newBlockProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createBlockProcessor(e,t).$new()},V.createInlineMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("InlineMacroProcessor",e,t)},V.newInlineMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createInlineMacroProcessor(e,t).$new()},V.createBlockMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("BlockMacroProcessor",e,t)},V.newBlockMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createBlockMacroProcessor(e,t).$new()};return Opal.Asciidoctor.prototype.getVersion=function(){return"3.0.0-alpha.4"},Opal.Asciidoctor}(function(e){var t,r,n,i,o,s,a,$;if("undefined"!=typeof globalThis?e=globalThis:"undefined"!=typeof global?e=global:"undefined"!=typeof window&&(e=window),null==e.console&&(e.console={}),"log"in(t="object"==typeof e.console?e.console:{})||(t.log=function(){}),"warn"in t||(t.warn=t.log),void 0!==e.Opal)return t.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var l=e.Opal={};l.global=e,l.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var u=Function.prototype.call,c=Function.prototype.bind,_=Object.hasOwn||u.bind(Object.prototype.hasOwnProperty),d=Object.setPrototypeOf,p=u.bind(Array.prototype.slice),h=u.bind(Array.prototype.splice),f=4;function m(){return f+=2}l.uid=m,l.id=function(e){return e.$$is_number?2*e+1:(null==e.$$id&&v(e,"$$id",m()),e.$$id)};var g=l.gvars={};function b(e,t){if(e||(e=l.Exception||Error),!$||!$.$raise)throw e.$new?e.$new(t):new e(t);arguments.length>2?$.$raise(e.$new.apply(e,p(arguments,1))):$.$raise(e,t)}function v(e,t,r){"string"==typeof e?e[t]=r:Object.defineProperty(e,t,{value:r,enumerable:!1,configurable:!0,writable:!0})}l.exit=function(e){g.DEBUG&&t.log("Exited with status "+e)},l.exceptions=[],l.pop_exception=function(){var e=l.exceptions.pop();e?(g["!"]=e,g["@"]=e.$backtrace()):g["!"]=g["@"]=r},l.prop=v,l.defineProperty=l.prop,l.slice=p;var y=l.truthy=function(e){return!(!1===e||r===e||null==e||e instanceof Boolean&&!0!==e.valueOf())};function x(e){var t,r,n;for(t=0,r=l.tracers_for_class.length;t<r;t++)(n=l.tracers_for_class[t]).trace_object=e,n.block.$call(n)}function k(e,t){if(e.$$autoload[t].loaded){if(e.$$autoload[t].loaded&&!e.$$autoload[t].required&&e.$$autoload[t].exception)throw e.$$autoload[t].exception}else{e.$$autoload[t].loaded=!0;try{l.Kernel.$require(e.$$autoload[t].path)}catch(r){throw e.$$autoload[t].exception=r,r}if(e.$$autoload[t].required=!0,null!=e.$$const[t])return e.$$autoload[t].success=!0,e.$$const[t]}}function w(e,t){if(e){if(null!=e.$$const[t])return e.$$const[t];if(e.$$autoload&&e.$$autoload[t])return k(e,t)}}function A(e,t){var r,n,i;if(null!=e)for(r=0,n=(i=L(e)).length;r<n;r++){if(i[r].$$const&&_(i[r].$$const,t))return i[r].$$const[t];if(i[r].$$autoload&&i[r].$$autoload[t])return k(i[r],t)}}function E(e,t){return(e||i).$const_missing(t)}function S(e,t,n){var o=!0;return null!=e&&"::"!==e||(e=i),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==r||(n.$$name=t),null==n.$$base_module&&(n.$$base_module=e)),e.$$const=e.$$const||Object.create(null),(t in e.$$const||"$$autoload"in e&&t in e.$$autoload)&&(o=!1),e.$$const[t]=n,e.$$=e.$$const,l.const_cache_version++,e===i&&(l[t]=n),v(e,t,n),o&&e.$const_added&&!e.$const_added.$$pristine&&e.$const_added(t),n}function C(e,t,n){var i;if(i=null!=t&&t.$$bridge?function(){var e=p(arguments),r=new(c.apply(t.$$constructor,[null].concat(e)));return d(r,i.$$prototype),r}:function(){},e&&e!==r&&v(i,"displayName","::"+e),v(i,"$$name",e),v(i,"$$constructor",i),v(i,"$$prototype",i.prototype),v(i,"$$const",{}),v(i,"$$is_class",!0),v(i,"$$is_a_module",!0),v(i,"$$super",t),v(i,"$$cvars",{}),v(i,"$$own_included_modules",[]),v(i,"$$own_prepended_modules",[]),v(i,"$$ancestors",[]),v(i,"$$ancestors_cache_version",null),v(i,"$$subclasses",[]),v(i.$$prototype,"$$class",i),l.Class&&d(i,l.Class.prototype),null!=t){if(d(i.$$prototype,t.$$prototype),!0!==n)if("undefined"!=typeof WeakRef){var o,s,a=[];for(o=0;o<t.$$subclasses.length;o++)void 0!==(s=t.$$subclasses[o]).deref()&&a.push(s);a.push(new WeakRef(i)),t.$$subclasses=a}else t.$$subclasses.push(i);t.$$meta&&l.build_class_singleton_class(i)}return i}function O(e){var t=function(){},r=t;return e&&v(t,"displayName",e+".constructor"),v(r,"$$name",e),v(r,"$$prototype",t.prototype),v(r,"$$const",{}),v(r,"$$is_module",!0),v(r,"$$is_a_module",!0),v(r,"$$cvars",{}),v(r,"$$iclasses",[]),v(r,"$$own_included_modules",[]),v(r,"$$own_prepended_modules",[]),v(r,"$$ancestors",[r]),v(r,"$$ancestors_cache_version",null),d(r,l.Module.prototype),r}function R(e,t){e.hasOwnProperty("$$meta")?e.$$meta=t:v(e,"$$meta",t),e.$$frozen?e.$$meta.$freeze():d(e,t.$$prototype)}function I(e){return e.hasOwnProperty("$$iclass")&&e.hasOwnProperty("$$root")}function T(e){var t=z(e);return e.$$is_module&&e.$$iclasses.push(t),t}function z(e){var t={},r=e.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,i=Object.getOwnPropertyNames(r),o=i.length;for(n=0;n<o;n++){var s=i[n];v(t,s,r[s])}return v(t,"$$iclass",!0),v(t,"$$module",e),t}function F(e){var t=e.length,r=e[0];if(v(r,"$$root",!0),1===t)return{first:r,last:r};for(var n=r,i=1;i<t;i++){var o=e[i];d(n,o),n=o}return{first:e[0],last:e[t-1]}}function N(e){if(!e.hasOwnProperty("$$dummy"))return e.hasOwnProperty("$$iclass")?e.$$module:e.hasOwnProperty("$$class")?e.$$class:void 0}function L(e){if(!e)return[];if(e.$$ancestors_cache_version===l.const_cache_version)return e.$$ancestors;var t,r,n,i=[];for(t=0,r=function(e){return e.$$own_prepended_modules.concat([e]).concat(e.$$own_included_modules)}(e),n=r.length;t<n;t++)i.push(r[t]);if(e.$$super)for(t=0,n=(r=L(e.$$super)).length;t<n;t++)i.push(r[t]);return e.$$ancestors_cache_version=l.const_cache_version,e.$$ancestors=i,i}function D(e){return e.hasOwnProperty("$$meta")&&null!==e.$$meta?L(e.$$meta):L(e.$$class)}function q(e,t){"number"==typeof t?e.$$arity=t:"object"==typeof t&&Object.assign(e,t)}l.falsy=function(e){return!y(e)},l.type_error=function(e,t,r,n){e=e.$$class,n&&r?(n=n.$$class,b(l.TypeError,"can't convert "+e+" into "+t+" ("+e+"#"+r+" gives "+n+")")):b(l.TypeError,"no implicit conversion of "+e+" into "+t)},l.coerce_to=function(e,t,r,n){var i;return"to_int"===r&&t===l.Integer&&e.$$is_number?e<0?Math.ceil(e):Math.floor(e):"to_str"===r&&t===l.String&&e.$$is_string||l.is_a(e,t)?e:e["$respond_to?"].$$pristine&&e.$method_missing.$$pristine?((null==(i=e[M(r)])||i.$$stub)&&l.type_error(e,t),i.apply(e,n)):(e["$respond_to?"](r)||l.type_error(e,t),null==n&&(n=[]),l.send(e,r,n))},l.respond_to=function(e,t,r){if(null==e||!e.$$class)return!1;r=!!r;var n=e[t];return e["$respond_to?"].$$pristine?"function"==typeof n&&!n.$$stub||(e["$respond_to_missing?"].$$pristine?void 0:l.send(e,e["$respond_to_missing?"],[t.substr(1),r])):l.send(e,e["$respond_to?"],[t.substr(1),r])},l.trace_class=!1,l.tracers_for_class=[],l.const_get_local=function(e,t,r){var n;if(null!=e)return"::"===e&&(e=i),e.$$is_module||e.$$is_class||b(l.TypeError,e.toString()+" is not a class/module"),null!=(n=w(e,t))||r?n:E(e,t)},l.const_get_qualified=function(e,t,r){var n,o,s,a=l.const_cache_version;return null==t?null!=(n=w(i,e))?n:l.const_get_qualified(i,e,r):null!=e?("::"===e&&(e=i),e.$$is_module||e.$$is_class||b(l.TypeError,e.toString()+" is not a class/module"),null==(o=e.$$const_cache)&&(v(e,"$$const_cache",Object.create(null)),o=e.$$const_cache),null==(s=o[t])||s[0]!==a?(null!=(n=w(e,t))||(n=A(e,t)),o[t]=[a,n]):n=s[1],null!=n||r?n:E(e,t)):void 0},l.const_cache_version=1,l.const_get_relative=function(e,t,r){var n,o,s,a=e[0],$=l.const_cache_version;return null==(o=e.$$const_cache)&&(v(e,"$$const_cache",Object.create(null)),o=e.$$const_cache),null==(s=o[t])||s[0]!==$?(null!=(n=w(a,t))||null!=(n=function(e,t){var r,n,i;if(0!==e.length)for(r=0,n=e.length;r<n;r++){if(null!=(i=e[r].$$const[t]))return i;if(e[r].$$autoload&&e[r].$$autoload[t])return k(e[r],t)}}(e,t))||null!=(n=A(a,t))||(n=function(e,t){if(null==e||e.$$is_module)return A(i,t)}(a,t)),o[t]=[$,n]):n=s[1],null!=n||r?n:E(a,t)},l.const_set=S,l.constants=function(e,t){null==t&&(t=!0);var r,n,o,s,a=[e],$={};for(t&&(a=a.concat(L(e))),t&&e.$$is_module&&(a=a.concat([l.Object]).concat(L(l.Object))),n=0,o=a.length;n<o&&(r=a[n],e===i||r!=i);n++){for(s in r.$$const)$[s]=!0;if(r.$$autoload)for(s in r.$$autoload)$[s]=!0}return Object.keys($)},l.const_remove=function(e,t){if(l.const_cache_version++,null!=e.$$const[t]){var n=e.$$const[t];return delete e.$$const[t],n}if(e.$$autoload&&e.$$autoload[t])return delete e.$$autoload[t],r;b(l.NameError,"constant "+e+"::"+e.$name()+" not defined")},l.const_get_relative_factory=function(e){return function(t,r){return l.$$(e,t,r)}},l.$$=l.const_get_relative,l.$$$=l.const_get_qualified,l.$r=l.const_get_relative_factory,l.allocate_class=C,l.klass=function(e,t,r){var n;null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),null==t||t.hasOwnProperty&&(!t.hasOwnProperty||t.hasOwnProperty("$$is_class"))||(t.constructor&&"Function"==t.constructor.name?(n=t,t=i):b(l.TypeError,"superclass must be a Class ("+(t.constructor&&(t.constructor.name||t.constructor.$$name)||typeof t)+" given)"));var o=function(e,t){var r=w(e,t);if(r)return r.$$is_class||b(l.TypeError,t+" is not a class"),r}(e,r);return null!=o?t&&function(e,t){e.$$super!==t&&b(l.TypeError,"superclass mismatch for class "+e.$$name)}(o,t):(null==t&&(t=i),S(e,r,o=C(r,t)),t.$inherited&&t.$inherited(o),n&&l.bridge(n,o)),l.trace_class&&x(o),o},l.allocate_module=O,l.module=function(e,t){var r;return null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),r=function(e,t){var r=w(e,t);return null==r&&e===i&&(r=A(i,t)),r&&(r.$$is_module||r===i||b(l.TypeError,t+" is not a module")),r}(e,t),null==r&&S(e,t,r=O(t)),l.trace_class&&x(r),r},l.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.hasOwnProperty("$$is_class")?l.build_class_singleton_class(e):e.hasOwnProperty("$$is_module")?l.build_module_singleton_class(e):l.build_object_singleton_class(e)},l.build_class_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=C(null,e===n?s:l.get_singleton_class(e.$$super),!0);return v(t,"$$is_singleton",!0),v(t,"$$singleton_of",e),R(e,t),v(e,"$$class",l.Class),t},l.build_module_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=C(null,l.Module,!0);return v(t,"$$is_singleton",!0),v(t,"$$singleton_of",e),R(e,t),v(e,"$$class",l.Module),t},l.build_object_singleton_class=function(e){var t=e.$$class,n=C(r,t,!0);return v(n,"$$is_singleton",!0),v(n,"$$singleton_of",e),delete n.$$prototype.$$class,R(e,n),n},l.is_method=function(e){return"$"===e[0]&&"$"!==e[1]},l.instance_methods=function(e){for(var t=[],r=[],n=L(e),i=0,o=n.length;i<o;i++){var s=n[i].$$prototype;s.hasOwnProperty("$$dummy")&&(s=s.$$define_methods_on);for(var a=Object.getOwnPropertyNames(s),$=0,u=a.length;$<u;$++){var c=a[$];if(l.is_method(c)){var _=c.slice(1),d=s[c];d.$$stub&&-1===t.indexOf(_)&&t.push(_),d.$$stub||-1!==r.indexOf(_)||-1!==t.indexOf(_)||r.push(_)}}}return r},l.own_instance_methods=function(e){var t=[],r=e.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),i=0,o=n.length;i<o;i++){var s=n[i];if(l.is_method(s))if(!r[s].$$stub){var a=s.slice(1);t.push(a)}}return t},l.methods=function(e){return l.instance_methods(e.$$meta||e.$$class)},l.own_methods=function(e){return e.$$meta?l.own_instance_methods(e.$$meta):[]},l.receiver_methods=function(e){var t=l.get_singleton_class(e),r=l.own_instance_methods(t),n=l.own_instance_methods(t.$$super);return r.concat(n)},l.class_variables=function(e){var t,r=L(e),n={};for(t=r.length-1;t>=0;t--){var i=r[t];for(var o in i.$$cvars)n[o]=i.$$cvars[o]}return n},l.class_variable_set=function(e,t,r){var n,i=L(e);for(n=i.length-2;n>=0;n--){var o=i[n];if(_(o.$$cvars,t))return o.$$cvars[t]=r,r}return e.$$cvars[t]=r,r},l.class_variable_get=function(e,t,n){if(_(e.$$cvars,t))return e.$$cvars[t];var i,o=L(e),s=o.length;for(i=0;i<s;i++){var a=o[i];if(_(a.$$cvars,t))return a.$$cvars[t]}return n||b(l.NameError,"uninitialized class variable "+t+" in "+e.$name()),r},l.append_features=function(e,t){var r=L(e),n=[];-1!==r.indexOf(t)&&b(l.ArgumentError,"cyclic include detected");for(var i=0,o=r.length;i<o;i++){var s=T(r[i]);v(s,"$$included",!0),n.push(s)}var a,$,u=L(t),c=F(n);if(-1===u.indexOf(e))a=t.$$prototype,$=Object.getPrototypeOf(t.$$prototype);else{for(var _=t.$$prototype,p=Object.getPrototypeOf(_);null!=p&&(p.$$module!==e||!I(p));)_=p,p=Object.getPrototypeOf(p);if(p){for(var h=Object.getPrototypeOf(p);h.hasOwnProperty("$$iclass")&&!I(h);)h=Object.getPrototypeOf(h);a=_,$=h}else a=t.$$prototype,$=Object.getPrototypeOf(t.$$prototype)}d(a,c.first),d(c.last,$),t.$$own_included_modules=function(e){for(var t,r=[],n=Object.getPrototypeOf(e.$$prototype);n&&!n.hasOwnProperty("$$class");)(t=N(n))&&r.push(t),n=Object.getPrototypeOf(n);return r}(t),l.const_cache_version++},l.prepend_features=function(e,t){var r=L(e),n=[];-1!==r.indexOf(t)&&b(l.ArgumentError,"cyclic prepend detected");for(var i=0,o=r.length;i<o;i++){var s=T(r[i]);v(s,"$$prepended",!0),n.push(s)}var a,$,u,c=F(n),_=t.$$prototype,p=Object.getPrototypeOf(_);if(_.hasOwnProperty("$$dummy")?a=_.$$define_methods_on:(a=z(t),function(e){for(var t=e.$$prototype,r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n];l.is_method(i)&&delete t[i]}}(t),v(_,"$$dummy",!0),v(_,"$$define_methods_on",a),d(_,a),d(a,p)),-1===L(t).indexOf(e))for($=_,u=Object.getPrototypeOf(_);null!=u&&!u.hasOwnProperty("$$root")&&u!==a&&u.hasOwnProperty("$$iclass");)u=Object.getPrototypeOf(u);else b(l.RuntimeError,"Prepending a module multiple times is not supported");d($,c.first),d(c.last,u),t.$$own_prepended_modules=function(e){var t,r=[],n=Object.getPrototypeOf(e.$$prototype);if(e.$$prototype.hasOwnProperty("$$dummy"))for(;n&&n!==e.$$prototype.$$define_methods_on;)(t=N(n))&&r.push(t),n=Object.getPrototypeOf(n);return r}(t),l.const_cache_version++},l.bridge=function(e,t){e.hasOwnProperty("$$bridge")&&b(l.ArgumentError,"already bridged"),v(e,"$$bridge",t),d(e.prototype,(t.$$super||l.Object).$$prototype),v(t,"$$prototype",e.prototype),v(t.$$prototype,"$$class",t),v(t,"$$constructor",e),v(t,"$$bridge",!0)},l.ancestors=L,l.included_modules=function(e){for(var t=[],r=null,n=Object.getPrototypeOf(e.$$prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=N(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&t.push(r);return t},l.add_stubs=function(e){for(var t,r,n=l.BasicObject.$$prototype,i=0,o=(e=e.split(",")).length;i<o;i++)(null==(r=n[t=M(e[i])])||r.$$stub)&&l.add_stub_for(n,t)},l.add_stub_for=function(e,t){v(e,t,l.stub_for(t))},l.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[e.slice(1)].concat(r))}return t.$$stub=!0,t},l.ac=function(e,t,r,n){var i="";r.$$is_a_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,b(l.ArgumentError,"["+i+"] wrong number of arguments (given "+e+", expected "+t+")")},l.block_ac=function(e,t,r){var n="`block in "+r+"'";b(l.ArgumentError,n+": wrong number of arguments (given "+e+", expected "+t+")")},l.find_super=function(e,t,r,n,i){for(var o,s,a=M(t),$=(o=D(e)).indexOf(r.$$owner)+1;$<o.length;$++){var u=o[$].$$prototype;if(u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on),u.hasOwnProperty(a)){s=u[a];break}}return!n&&s&&s.$$stub&&e.$method_missing.$$pristine&&b(l.NoMethodError,"super: no superclass method `"+t+"' for "+e,t),s.$$stub&&!i?null:s},l.find_block_super=function(e,t,r,n,i){var o=t;return r||b(l.RuntimeError,"super called outside of method"),i&&r.$$define_meth&&b(l.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),r.$$def&&(o=r.$$jsid),l.find_super(e,o,r,n)},l.find_super_dispatcher=l.find_super,l.find_iter_super_dispatcher=l.find_block_super,l.yield1=function(e,t){"function"!=typeof e&&b(l.LocalJumpError,"no block given");var r=e.$$has_top_level_mlhs_arg,n=e.$$has_trailing_comma_in_args;return(e.length>1||(r||n)&&1===e.length)&&(t=l.to_ary(t)),(e.length>1||n&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},l.yieldX=function(e,t){if("function"!=typeof e&&b(l.LocalJumpError,"no block given"),e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var r=new Array(t.length),n=0,i=r.length;n<i;n++)r[n]=t[n];return e.apply(null,r)}return e.apply(null,t)},l.rescue=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.$$is_array){var i=l.rescue(e,n);if(i)return i}else if(n===l.JS.Error||n["$==="](e))return n}return null},l.is_a=function(e,t){return null!=t&&e.$$meta===t||e.$$class===t||(e.$$is_number&&t.$$is_number_class?!t.$$is_integer_class||e%1==0:-1!==L(e.$$is_class?l.get_singleton_class(e):e.$$meta||e.$$class).indexOf(t))},l.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;b(l.TypeError,"Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}else b(l.TypeError,"no implicit conversion of "+e.$$class+" into Hash")},l.to_ary=function(e){if(e.$$is_array)return e;if(!e["$respond_to?"]("to_ary",!0))return[e];var t=e.$to_ary();return t===r?[e]:t.$$is_array?t:void b(l.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")},l.to_a=function(e){if(e.$$is_array)return e.slice();if(!e["$respond_to?"]("to_a",!0))return[e];var t=e.$to_a();return t===r?[e]:t.$$is_array?t:void b(l.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")},l.extract_kwargs=function(e){var t=e[e.length-1];if(null!=t&&l.respond_to(t,"$to_hash",!0))return h(e,e.length-1),t},l.kwrestargs=function(e,t){var r,n=[],i={},o=e.$$smap;for(r in o)t[r]||(n.push(r),i[r]=o[r]);return l.hash2(n,i)};var B={};function M(e){return B[e]||(B[e]="$"+e)}function j(e){return"function"==typeof e&&!e.$$stub}l.jsid=M,l.send=function(e,t,r,n,i){var o;return"function"==typeof t?(o=t,t=null):"string"==typeof t?o=e[M(t)]:b(l.NameError,"Passed method should be a string or a function"),l.send2(e,o,t,r,n,i)},l.send2=function(e,t,r,n,i,o){return null==t&&null!=r&&e.$method_missing&&(t=e.$method_missing,n=[r].concat(n)),q(i,o),"function"==typeof i&&(t.$$p=i),t.apply(e,n)},l.refined_send=function(e,t,r,n,i,o){var s,a,$,u,c,_,d,p,h,f;for(u=D(t),s=0;s<u.length;s++)for(c=l.id(u[s]),a=0;a<e.length;a++)for($=(_=e[a]).length-1;$>=0;$--)if(void 0!==(d=_[$]).$$refine_modules&&void 0!==(p=d.$$refine_modules)[c]&&void 0!==(h=p[c]).$$prototype[M(r)])return f=h.$$prototype[M(r)],l.send2(t,f,r,n,i,o);return l.send(t,r,n,i,o)},l.lambda=function(e,t){return e.$$is_lambda=!0,q(e,t),e},l.def=function(e,t,r,n){return q(r,n),e===l.top?l.defn(l.Object,t,r):!e.$$eval&&e.$$is_a_module?l.defn(e,t,r):l.defs(e,t,r)},l.defn=function(e,t,r){U(e),r.displayName=t,r.$$owner=e;var n=t.substr(1),i=e.$$prototype;if(i.hasOwnProperty("$$dummy")&&(i=i.$$define_methods_on),v(i,t,r),e.$$is_module){e.$$module_function&&l.defs(e,t,r);for(var o=0,s=e.$$iclasses,a=s.length;o<a;o++){v(s[o],t,r)}}var $=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(n):e.$method_added(n),n},l.defs=function(e,t,r,n){return q(r,n),(e.$$is_string||e.$$is_number)&&b(l.TypeError,"can't define singleton"),l.defn(l.get_singleton_class(e),t,r)},l.rdef=function(e,t){_(e.$$prototype,t)||b(l.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),delete e.$$prototype[t],e.$$is_singleton?e.$$prototype.$singleton_method_removed&&!e.$$prototype.$singleton_method_removed.$$stub&&e.$$prototype.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},l.udef=function(e,t){e.$$prototype[t]&&!e.$$prototype[t].$$stub||b(l.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),l.add_stub_for(e.$$prototype,t),e.$$is_singleton?e.$$prototype.$singleton_method_undefined&&!e.$$prototype.$singleton_method_undefined.$$stub&&e.$$prototype.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},l.alias=function(e,t,r){var n,i,o=M(t),s=M(r);if(void 0===e.$$prototype&&(e=l.Object),n=e.$$prototype[s],e.$$eval)return l.alias(l.get_singleton_class(e),t,r);if(!j(n)){for(var a=e.$$super;"function"!=typeof n&&a;)n=a[s],a=a.$$super;!j(n)&&e.$$is_module&&(n=l.Object.$$prototype[s]),j(n)||b(l.NameError,"undefined method `"+r+"' for class `"+e.$name()+"'")}n.$$alias_of&&(n=n.$$alias_of),i=function(){var e,t,r,o=i.$$p;for(e=new Array(arguments.length),t=0,r=arguments.length;t<r;t++)e[t]=arguments[t];return i.$$p=null,l.send(this,n,e,o)};try{Object.defineProperty(i,"length",{value:n.length})}catch(e){}return i.displayName=t,i.$$arity=null==n.$$arity?n.length:n.$$arity,i.$$parameters=n.$$parameters,i.$$source_location=n.$$source_location,i.$$alias_of=n,i.$$alias_name=t,l.defn(e,o,i),e},l.alias_gvar=function(e,t){return Object.defineProperty(g,e,{configurable:!0,enumerable:!0,get:function(){return g[t]},set:function(e){g[t]=e}}),r},l.alias_native=function(e,t,r){var n=M(t),i=e.$$prototype[r];return("function"!=typeof i||i.$$stub)&&b(l.NameError,"undefined native method `"+r+"' for class `"+e.$name()+"'"),l.defn(e,n,i),e},l.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},l.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var r,n,i=0,o=e.$$keys,s=e.$$smap,a=o.length;i<a;i++)(r=o[i]).$$is_string?n=s[r]:(n=r.value,r=r.key),l.hash_put(t,r,n)},l.hash_put=function(e,t,r){if(t.$$is_string)return _(e.$$smap,t)||e.$$keys.push(t),void(e.$$smap[t]=r);var n,i,o;if(n=e.$$by_identity?l.id(t):t.$hash(),!_(e.$$map,n))return i={key:t,key_hash:n,value:r},e.$$keys.push(i),void(e.$$map[n]=i);for(i=e.$$map[n];i;){if(t===i.key||t["$eql?"](i.key)){o=void 0,i.value=r;break}o=i,i=i.next}o&&(i={key:t,key_hash:n,value:r},e.$$keys.push(i),o.next=i)},l.hash_get=function(e,t){if(t.$$is_string)return _(e.$$smap,t)?e.$$smap[t]:void 0;var r,n;if(r=e.$$by_identity?l.id(t):t.$hash(),_(e.$$map,r))for(n=e.$$map[r];n;){if(t===n.key||t["$eql?"](n.key))return n.value;n=n.next}},l.hash_delete=function(e,t){var r,n,i,o=e.$$keys,s=o.length;if(t.$$is_string){if("string"!=typeof t&&(t=t.valueOf()),!_(e.$$smap,t))return;for(r=0;r<s;r++)if((i=o[r]).$$is_string&&"string"!=typeof i&&(i=i.valueOf()),i===t){o.splice(r,1);break}return n=e.$$smap[t],delete e.$$smap[t],n}var a=t.$hash();if(_(e.$$map,a))for(var $,l=e.$$map[a];l;){if(t===l.key||t["$eql?"](l.key)){for(n=l.value,r=0;r<s;r++)if(o[r]===l){o.splice(r,1);break}return $&&l.next?$.next=l.next:$?delete $.next:l.next?e.$$map[a]=l.next:delete e.$$map[a],n}$=l,l=l.next}},l.hash_rehash=function(e){for(var t,r,n,i=0,o=e.$$keys.length;i<o;i++)if(!e.$$keys[i].$$is_string&&(t=e.$$keys[i].key.$hash())!==e.$$keys[i].key_hash){for(r=e.$$map[e.$$keys[i].key_hash],n=void 0;r;){if(r===e.$$keys[i]){n&&r.next?n.next=r.next:n?delete n.next:r.next?e.$$map[e.$$keys[i].key_hash]=r.next:delete e.$$map[e.$$keys[i].key_hash];break}n=r,r=r.next}if(e.$$keys[i].key_hash=t,_(e.$$map,t)){for(r=e.$$map[t],n=void 0;r;){if(r===e.$$keys[i]){n=void 0;break}n=r,r=r.next}n&&(n.next=e.$$keys[i])}else e.$$map[t]=e.$$keys[i]}},l.hash=function(){var e,t,r,n,i,o,s=arguments.length;if(1===s&&arguments[0].$$is_hash)return arguments[0];if(t=new l.Hash,l.hash_init(t),1===s){if(e=arguments[0],arguments[0].$$is_array){for(n=e.length,r=0;r<n;r++)2!==e[r].length&&b(l.ArgumentError,"value not of length 2: "+e[r].$inspect()),i=e[r][0],o=e[r][1],l.hash_put(t,i,o);return t}for(i in e=arguments[0])_(e,i)&&(o=e[i],l.hash_put(t,i,o));return t}for(s%2!=0&&b(l.ArgumentError,"odd number of arguments for Hash"),r=0;r<s;r+=2)i=arguments[r],o=arguments[r+1],l.hash_put(t,i,o);return t},l.hash2=function(e,t){var r=new l.Hash;return r.$$smap=t,r.$$map=Object.create(null),r.$$keys=e,r},l.range=function(e,t,r){var n=new l.Range;return n.begin=e,n.end=t,n.excl=r,n};var P=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];function U(e){e.$$frozen&&b(l.FrozenError,"can't modify frozen "+e.$class()+": "+e,l.hash2(["receiver"],{receiver:e}))}function H(e,t){return"number"==typeof e&&"number"==typeof t}function Y(e,t){return"number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t}function G(e){return function(){return e}}l.ivar=function(e){return-1!==P.indexOf(e)&&(e+="$"),e},l.deny_frozen_access=U,l.freeze=function(e){return v(e,"$$frozen",!0),e.hasOwnProperty("$$id")||v(e,"$$id",m()),e.hasOwnProperty("$$meta")?e.$$meta.$freeze():v(e,"$$meta",null),e.hasOwnProperty("$$comparable")||v(e,"$$comparable",null),Object.seal(e),e},l.freeze_props=function(e){var t,r,n;for(t in e)("string"!==(r=typeof t)&&"object"!==r||"$"!==t[0])&&(n=Object.getOwnPropertyDescriptor(e,t))&&n.enumerable&&n.writable&&function(){var r=e[t];Object.defineProperty(e,t,{get:function(){return r},set:function(t){U(e)},enumerable:!0})}()},l.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},l.global_regexp=function(e){return e.global?e:(null==e.$$g?e.$$g=new RegExp(e.source,(e.multiline?"gm":"g")+(e.ignoreCase?"i":"")):e.$$g.lastIndex=null,e.$$g)},l.global_multiline_regexp=function(e){var t,r;return e.global&&e.multiline?e:(r="gm"+(e.ignoreCase?"i":""),e.multiline?(null==e.$$g&&(e.$$g=new RegExp(e.source,r)),t=e.$$g):(null==e.$$gm&&(e.$$gm=new RegExp(e.source,r)),t=e.$$gm),t.lastIndex=null,t)},l.regexp=function(e,t){for(var r,n=void 0!==t&&t&&t.indexOf("i")>=0,i=0,o=e.length;i<o;i++)(r=e[i])instanceof RegExp&&(r.ignoreCase!==n&&l.Kernel.$warn("ignore case doesn't match for "+r.source.$inspect(),l.hash({uplevel:1})),r=r.source),""===r&&(r="(?:"+r+")"),e[i]=r;return t?new RegExp(e.join(""),t):new RegExp(e.join(""))},l.modules={},l.loaded_features=["corelib/runtime"],l.current_dir=".",l.require_table={"corelib/runtime":!0},l.normalize=function(e){var t,r,n=[];"."!==l.current_dir&&(e=l.current_dir.replace(/\/*$/,"/")+e);for(var i=0,o=(t=(e=(e=e.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<o;i++)""!==(r=t[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},l.loaded=function(e){var t,r,n;for(t=0,r=e.length;t<r;t++)n=l.normalize(e[t]),l.require_table[n]||(l.loaded_features.push(n),l.require_table[n]=!0)},l.load_normalized=function(e){l.loaded([e]);var r=l.modules[e];if(r){var n=r(l);if("undefined"!=typeof Promise&&n instanceof Promise)return n.then(G(!0))}else{var i=l.config.missing_require_severity,o="cannot load such file -- "+e;"error"===i?b(l.LoadError,o):"warning"===i&&t.warn("WARNING: LoadError: "+o)}return!0},l.load=function(e){return e=l.normalize(e),l.load_normalized(e)},l.require=function(e){return e=l.normalize(e),!l.require_table[e]&&l.load_normalized(e)},l.encodings=Object.create(null),l.set_encoding=function(e,t,r){void 0===r&&(r="encoding"),"string"!=typeof e&&!0!==e.$$frozen||b(l.FrozenError,"can't modify frozen String");var n=l.find_encoding(t);return n===e[r]||(e[r]=n),e},l.find_encoding=function(e){var t=l.encodings,r=t[e]||t[e.toUpperCase()];return r||b(l.ArgumentError,"unknown encoding name - "+e),r},l.enc=function(e,t){var r=new String(e);return(r=l.set_encoding(r,t)).internal_encoding=r.encoding,r},l.binary=function(e){var t=new String(e);return l.set_encoding(t,"binary","internal_encoding")},l.last_promise=null,l.promise_unhandled_exception=!1,l.queue=function(e){if(l.last_promise)return l.last_promise=l.last_promise.then((function(){if(!l.promise_unhandled_exception)return e(l)})).catch((function(e){l.respond_to(e,"$full_message")&&(e=e.$full_message()),t.error(e),l.promise_unhandled_exception=!0,l.exit(1)})),l.last_promise;var r=e(l);return"function"==typeof Promise&&"object"==typeof r&&r instanceof Promise&&(l.last_promise=r),r},l.rb_plus=function(e,t){return H(e,t)?e+t:e["$+"](t)},l.rb_minus=function(e,t){return H(e,t)?e-t:e["$-"](t)},l.rb_times=function(e,t){return H(e,t)?e*t:e["$*"](t)},l.rb_divide=function(e,t){return H(e,t)?e/t:e["$/"](t)},l.rb_lt=function(e,t){return H(e,t)?e<t:e["$<"](t)},l.rb_gt=function(e,t){return H(e,t)?e>t:e["$>"](t)},l.rb_le=function(e,t){return H(e,t)?e<=t:e["$<="](t)},l.rb_ge=function(e,t){return H(e,t)?e>=t:e["$>="](t)},l.eqeq=function(e,t){return Y(e,t)?e===t:y(e["$=="](t))},l.eqeqeq=function(e,t){return Y(e,t)?e===t:y(e["$==="](t))},l.neqeq=function(e,t){return Y(e,t)?e!==t:y(e["$!="](t))},l.not=function(e){return null==e||!1===e||r===e||!0!==e&&!e["$!"].$$pristine&&y(e["$!"]())},l.return_val=G,l.return_self=function(){return this},l.return_ivar=function(e){return function(){return null==this[e]?r:this[e]}},l.assign_ivar=function(e){return function(t){return U(this),this[e]=t}},l.assign_ivar_val=function(e,t){return function(){return U(this),this[e]=t}},l.ensure_kwargs=function(e){return null==e?l.hash2([],{}):e.$$is_hash?e:void b(l.ArgumentError,"expected kwargs")},l.get_kwarg=function(e,t){return _(e.$$smap,t)||b(l.ArgumentError,"missing keyword: "+t),e.$$smap[t]},l.large_array_unpack=function(e){var t,n=e.split(","),i=n.length;for(t=0;t<i;t++)switch(n[t][0]){case void 0:n[t]=r;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n[t]=+n[t]}return n},l.BasicObject=n=C("BasicObject",null),l.Object=i=C("Object",l.BasicObject),l.Module=o=C("Module",l.Object),l.Class=s=C("Class",l.Module),l.Opal=a=O("Opal"),l.Kernel=$=O("Kernel"),d(l.BasicObject,l.Class.$$prototype),d(l.Object,l.Class.$$prototype),d(l.Module,l.Class.$$prototype),d(l.Class,l.Class.$$prototype),n.$$const.BasicObject=n,S(i,"BasicObject",n),S(i,"Object",i),S(i,"Module",o),S(i,"Class",s),S(i,"Opal",a),S(i,"Kernel",$),n.$$class=s,i.$$class=s,o.$$class=s,s.$$class=s,a.$$class=o,$.$$class=o,v(i.$$prototype,"toString",(function(){var e=this.$to_s();return e.$$is_string&&"object"==typeof e?e.valueOf():e})),v(i.$$prototype,"$require",l.require),l.top=new i,l.top.$to_s=l.top.$inspect=G("main"),l.top.$define_method=function e(){var t=p(arguments),r=e.$$p;return e.$$p=null,l.send(i,"define_method",t,r)},l.NilClass=C("NilClass",l.Object),S(i,"NilClass",l.NilClass),(r=l.nil=new l.NilClass).$$id=4,r.call=r.apply=function(){b(l.LocalJumpError,"no block given")},r.$$frozen=!0,r.$$comparable=!1,Object.seal(r),l.thrower=function(e){var t=new Error("unexpected "+e);return t.$thrower_type=e,t.$throw=function(e){throw null==e&&(e=r),t.$v=e,t},t},l.t_eval_return=l.thrower("return"),TypeError.$$super=Error,l.file_sources={}}).call(void 0),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(e){var t=e.type_error,r=e.coerce_to,n=e.module,i=e.defs,o=e.slice,s=e.eqeqeq,a=e.Kernel,$=e.truthy,l=e.Opal,u=e.nil,c=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(_){var d=n("::","Opal");i(d,"$bridge",(function(t,r){return e.bridge(t,r)})),i(d,"$coerce_to!",(function(e,n,i,$){var l,u;return l=o(arguments,3),u=r(e,n,i,l),s(n,u)||a.$raise(t(e,n,i,u)),u}),-4),i(d,"$coerce_to?",(function(e,n,i,l){var c,_=u;return c=o(arguments,3),$(e["$respond_to?"](i))?(_=r(e,n,i,c),$(_["$nil?"]())?u:(s(n,_)||a.$raise(t(e,n,i,_)),_)):u}),-4),i(d,"$try_convert",(function(e,t,r){return s(t,e)?e:$(e["$respond_to?"](r))?e.$__send__(r):u})),i(d,"$compare",(function(e,t){var r;return r=e["$<=>"](t),$(r===u)&&a.$raise(c("ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),r})),i(d,"$destructure",(function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),r=0,n=t.length;r<n;r++)t[r]=e[r];return t})),i(d,"$respond_to?",(function(e,t,r){return null==r&&(r=!1),!(null==e||!e.$$class)&&e["$respond_to?"](t,r)}),-3),i(d,"$instance_variable_name!",(function(e){return e=l["$coerce_to!"](e,c("String"),"to_str"),$(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||a.$raise(c("NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e})),i(d,"$class_variable_name!",(function(e){return e=l["$coerce_to!"](e,c("String"),"to_str"),$(e.length<3||"@@"!==e.slice(0,2))&&a.$raise(c("NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e})),i(d,"$const_name?",(function(e){return"string"!=typeof e&&(e=l["$coerce_to!"](e,c("String"),"to_str")),e[0]===e[0].toUpperCase()})),i(d,"$const_name!",(function(e){return $(c("::","String","skip_raise")?"constant":u)&&(e=l["$coerce_to!"](e,c("String"),"to_str")),e&&e[0]==e[0].toUpperCase()||this.$raise(c("NameError"),"wrong constant name "+e),e})),i(d,"$pristine",(function(t,r){for(var n,i,s,a=(n=o(arguments,1)).length-1;a>=0;a--)i=n[a],(s=t.$$prototype[e.jsid(i)])&&!s.$$stub&&(s.$$pristine=!0);return u}),-2);var p=[];return i(d,"$inspect",(function(t){var r=!1;return function(){try{try{return null===t?"null":void 0===t?"undefined":void 0===t.$$class?Object.prototype.toString.apply(t):"function"!=typeof t.$inspect||t.$inspect.$$stub||-1!==p.indexOf(t.$__id__())?"#<"+t.$$class+":0x"+t.$__id__().$to_s(16)+">":(p.push(t.$__id__()),r=!0,t.$inspect())}catch(r){if(!e.rescue(r,[c("Exception")]))throw r;r;try{return"#<"+t.$$class+":0x"+t.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}}finally{r&&p.pop()}}()}),-1)}()},Opal.modules["corelib/module"]=function(e){var t,r,n=e.truthy,i=e.coerce_to,o=e.const_set,s=e.Object,a=e.return_ivar,$=e.assign_ivar,l=e.ivar,u=e.deny_frozen_access,c=e.freeze,_=e.prop,d=e.jsid,p=e.klass,h=e.defs,f=e.send,m=e.def,g=e.eqeqeq,b=e.Module,v=e.Kernel,y=e.rb_lt,x=e.rb_gt,k=e.slice,w=e.to_a,A=e.hash2,E=e.Opal,S=e.return_val,C=e.eqeq,O=e.lambda,R=e.range,I=e.send2,T=e.find_super,z=e.alias,F=e.nil,N=e.$$$;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(t,r,L){var D=p("::",null,"Module"),q=[D].concat(L),B=e.$r(q);h(D,"$allocate",(function(){var t=e.allocate_module(F,(function(){}));return this!==e.Module&&Object.setPrototypeOf(t,this.$$prototype),t})),m(D,"$initialize",(function e(){var t=e.$$p||F;return e.$$p=null,t!==F?f(this,"module_eval",[],t.$to_proc()):F})),m(D,"$===",(function(t){return!n(null==t)&&e.is_a(t,this)})),m(D,"$<",(function(t){var r,n,i,o=this;if(g(b,t)||v.$raise(N("TypeError"),"compared with non class/module"),o===t)return!1;for(n=0,i=(r=e.ancestors(o)).length;n<i;n++)if(r[n]===t)return!0;for(n=0,i=(r=e.ancestors(t)).length;n<i;n++)if(r[n]===o)return!1;return F})),m(D,"$<=",(function(e){var t;return n(t=this["$equal?"](e))?t:y(this,e)})),m(D,"$>",(function(e){return g(b,e)||v.$raise(N("TypeError"),"compared with non class/module"),y(e,this)})),m(D,"$>=",(function(e){var t;return n(t=this["$equal?"](e))?t:x(this,e)})),m(D,"$<=>",(function(e){var t=F;return this===e?0:g(b,e)?(t=y(this,e),n(t["$nil?"]())?F:n(t)?-1:1):F})),m(D,"$alias_method",(function(t,r){var n=this;return u(n),t=i(t,N("String"),"to_str"),r=i(r,N("String"),"to_str"),e.alias(n,t,r),n})),m(D,"$alias_native",(function(t,r){var n=this;return null==r&&(r=t),u(n),e.alias_native(n,t,r),n}),-2),m(D,"$ancestors",(function(){return e.ancestors(this)})),m(D,"$append_features",(function(t){return u(t),e.append_features(this,t),this})),m(D,"$attr_accessor",(function(e){var t,r;return t=k(arguments),f(this,"attr_reader",w(r=t)),f(this,"attr_writer",w(r))}),-1),m(D,"$attr",(function(e){var t,r=this;return 2!=(t=k(arguments)).length||!0!==t[1]&&!1!==t[1]?f(r,"attr_reader",w(t)):(r.$warn("optional boolean argument is obsoleted",A(["uplevel"],{uplevel:1})),t[1]?r.$attr_accessor(t[0]):r.$attr_reader(t[0]),F)}),-1),m(D,"$attr_reader",(function(t){var r,n=this;r=k(arguments),u(n);for(var i=n.$$prototype,o=r.length-1;o>=0;o--){var s=r[o],$=d(s),c=l(s),_=a(c);e.prop(i,c,F),_.$$parameters=[],_.$$arity=0,e.defn(n,$,_)}return F}),-1),m(D,"$attr_writer",(function(t){var r,n=this;r=k(arguments),u(n);for(var i=n.$$prototype,o=r.length-1;o>=0;o--){var s=r[o],a=d(s+"="),c=l(s),_=$(c);_.$$parameters=[["req"]],_.$$arity=1,e.prop(i,c,F),e.defn(n,a,_)}return F}),-1),m(D,"$autoload",(function(t,r){var n=this;return u(n),B("Opal")["$const_name?"](t)||v.$raise(N("NameError"),"autoload must be constant name: "+t),""==r&&v.$raise(N("ArgumentError"),"empty file name"),n.$$const.hasOwnProperty(t)||(n.$$autoload||(n.$$autoload={}),e.const_cache_version++,n.$$autoload[t]={path:r,loaded:!1,required:!1,success:!1,exception:!1},n.$const_added&&!n.$const_added.$$pristine&&n.$const_added(t)),F})),m(D,"$autoload?",(function(e){var t=this;if(t.$$autoload&&t.$$autoload[e]&&!t.$$autoload[e].required&&!t.$$autoload[e].success)return t.$$autoload[e].path;for(var r=t.$ancestors(),n=0,i=r.length;n<i;n++)if(r[n].$$autoload&&r[n].$$autoload[e]&&!r[n].$$autoload[e].required&&!r[n].$$autoload[e].success)return r[n].$$autoload[e].path;return F})),m(D,"$class_variables",(function(){return Object.keys(e.class_variables(this))})),m(D,"$class_variable_get",(function(t){return t=E["$class_variable_name!"](t),e.class_variable_get(this,t,!1)})),m(D,"$class_variable_set",(function(t,r){return u(this),t=E["$class_variable_name!"](t),e.class_variable_set(this,t,r)})),m(D,"$class_variable_defined?",(function(t){return t=E["$class_variable_name!"](t),e.class_variables(this).hasOwnProperty(t)})),m(D,"$const_added",S(F)),E.$pristine(D,"const_added"),m(D,"$remove_class_variable",(function(t){var r=this;if(u(r),t=E["$class_variable_name!"](t),e.hasOwnProperty.call(r.$$cvars,t)){var n=r.$$cvars[t];return delete r.$$cvars[t],n}v.$raise(N("NameError"),"cannot remove "+t+" for "+r)})),m(D,"$constants",(function(t){return null==t&&(t=!0),e.constants(this,t)}),-1),h(D,"$constants",(function(t){if(null==t){var r,n,i,o=(this.$$nesting||[]).concat(s),a={};for(n=0,i=o.length;n<i;n++)for(r in o[n].$$const)a[r]=!0;return Object.keys(a)}return e.constants(this,t)}),-1),h(D,"$nesting",(function(){return this.$$nesting||[]})),m(D,"$const_defined?",(function(t,r){var i=this;null==r&&(r=!0),t=B("Opal")["$const_name!"](t),n(t["$=~"](N(E,"CONST_NAME_REGEXP")))||v.$raise(N("NameError").$new("wrong constant name "+t,t));var o,a,$,l=[i];for(r&&(l=l.concat(e.ancestors(i)),i.$$is_module&&(l=l.concat([s]).concat(e.ancestors(s)))),a=0,$=l.length;a<$;a++){if(null!=(o=l[a]).$$const[t])return!0;if(o.$$autoload&&o.$$autoload[t]&&!o.$$autoload[t].required&&!o.$$autoload[t].success)return!0}return!1}),-2),m(D,"$const_get",(function(t,r){var i=this;return null==r&&(r=!0),0===(t=B("Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),n(-1!=t.indexOf("::")&&"::"!=t)?f(t.$split("::"),"inject",[i],(function(e,t){return null==e&&(e=F),null==t&&(t=F),e.$const_get(t)})):(n(t["$=~"](N(E,"CONST_NAME_REGEXP")))||v.$raise(N("NameError").$new("wrong constant name "+t,t)),r?e.$$([i],t):e.const_get_local(i,t))}),-2),m(D,"$const_missing",(function(e){var t;return t=C(this,s)?e:this+"::"+e,v.$raise(N("NameError").$new("uninitialized constant "+t,e))})),m(D,"$const_set",(function(e,t){return u(this),e=E["$const_name!"](e),(n(e["$!~"](N(E,"CONST_NAME_REGEXP")))||n(e["$start_with?"]("::")))&&v.$raise(N("NameError").$new("wrong constant name "+e,e)),o(this,e,t),t})),m(D,"$public_constant",S(F)),m(D,"$define_method",(function t(r,i){var o,s=t.$$p||F,a=this,$=F;return t.$$p=null,u(a),void 0===i&&s===F&&v.$raise(N("ArgumentError"),"tried to create a Proc object without a block"),s=n(o=s)?o:g(N("Proc"),$=i)?i:g(N("Method"),$)?i.$to_proc().$$unbound:g(N("UnboundMethod"),$)?O((function e(t){var r,n,o=null==e.$$s?this:e.$$s;return r=k(arguments),n=i.$bind(o),f(n,"call",w(r))}),{$$arity:-1,$$s:a}):v.$raise(N("TypeError"),"wrong argument type "+s.$class()+" (expected Proc/Method)"),"undefined"!=typeof Proxy&&(s.$$proxy_target=s,s=new Proxy(s,{apply:function(e,t,n){var i=e.$$jsid;e.$$jsid=r;try{return e.apply(t,n)}catch(t){if(t===e.$$brk||t===e.$$ret)return t.$v;throw t}finally{e.$$jsid=i}}})),s.$$jsid=r,s.$$s=null,s.$$def=s,s.$$define_meth=!0,e.defn(a,d(r),s)}),-2),m(D,"$freeze",(function(){var e=this;return n(e["$frozen?"]())?e:(e.hasOwnProperty("$$base_module")||_(e,"$$base_module",null),c(e))})),m(D,"$remove_method",(function(t){var r,n=this;r=k(arguments);for(var i=0;i<r.length;i++){var o=r[i];"string"==typeof o||o.$$is_string||n.$raise(N("TypeError"),n.$name()+" is not a symbol nor a string"),u(n),e.rdef(n,"$"+o)}return n}),-1),m(D,"$singleton_class?",(function(){return!!this.$$is_singleton})),m(D,"$include",(function(e){for(var t,r=this,n=(t=k(arguments)).length-1;n>=0;n--){var i=t[n];i.$$is_module||v.$raise(N("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(r),i.$included(r)}return r}),-1),m(D,"$included_modules",(function(){return e.included_modules(this)})),m(D,"$include?",(function(t){t.$$is_module||v.$raise(N("TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,i,o=e.ancestors(this);for(r=0,n=o.length;r<n;r++)if((i=o[r])===t&&i!==this)return!0;return!1})),m(D,"$instance_method",(function(e){var t=this,r=t.$$prototype[d(e)];return r&&!r.$$stub||v.$raise(N("NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),N("UnboundMethod").$new(t,r.$$owner||t,r,e)})),m(D,"$instance_methods",(function(t){return null==t&&(t=!0),n(t)?e.instance_methods(this):e.own_instance_methods(this)}),-1),m(D,"$included",S(F)),m(D,"$extended",S(F)),m(D,"$extend_object",(function(e){return u(e),F})),m(D,"$method_added",(function(e){return k(arguments),F}),-1),m(D,"$method_removed",(function(e){return k(arguments),F}),-1),m(D,"$method_undefined",(function(e){return k(arguments),F}),-1),m(D,"$module_eval",(function t(r){var i,o,s=t.$$p||F,a=this,$=F,l=F,u=F,c=F,_=F,d=F;t.$$p=null,i=k(arguments),n(s["$nil?"]())&&n(!!e.compile)?(n(R(1,3,!1)["$cover?"](i.$size()))||v.$raise(N("ArgumentError"),"wrong number of arguments (0 for 1..3)"),$=null==(o=[].concat(w(i)))[0]?F:o[0],l=null==o[1]?F:o[1],null==o[2]||o[2],u=A(["file","eval"],{file:n(c=l)?c:"(eval)",eval:!0}),_=e.hash({arity_check:!1}).$merge(u),d=E.$compile($,_),s=f(v,"proc",[],(function t(){var r=null==t.$$s?this:t.$$s;return new Function("Opal,self","return "+d)(e,r)}),{$$s:a})):n(i["$any?"]())&&v.$raise(N("ArgumentError"),"wrong number of arguments ("+i.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var p,h=s.$$s;return s.$$s=null,p=s.apply(a,[a]),s.$$s=h,p}),-1),m(D,"$module_exec",(function e(t){var r,n=e.$$p||F;e.$$p=null,r=k(arguments),n===F&&v.$raise(N("LocalJumpError"),"no block given");var i,o=n.$$s;return n.$$s=null,i=n.apply(this,r),n.$$s=o,i}),-1),m(D,"$method_defined?",(function(e){var t=this.$$prototype[d(e)];return!!t&&!t.$$stub})),m(D,"$module_function",(function(t){var r,n=this;if(r=k(arguments),u(n),0===r.length)return n.$$module_function=!0,F;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=d(s),$=n.$$prototype[a];e.defs(n,a,$)}return 1===r.length?r[0]:r}),-1),m(D,"$name",(function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],r=e;r;){if(r.$$name===F||null==r.$$name)return F;if(t.unshift(r.$$name),(r=r.$$base_module)===s)break}return 0===t.length?F:e.$$full_name=t.join("::")})),m(D,"$prepend",(function(e){var t,r=this;0===(t=k(arguments)).length&&v.$raise(N("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var n=t.length-1;n>=0;n--){var i=t[n];i.$$is_module||v.$raise(N("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$prepend_features(r),i.$prepended(r)}return r}),-1),m(D,"$prepend_features",(function(t){var r=this;return u(t),r.$$is_module||v.$raise(N("TypeError"),"wrong argument type "+r.$class()+" (expected Module)"),e.prepend_features(r,t),r})),m(D,"$prepended",S(F)),m(D,"$remove_const",(function(t){return u(this),e.const_remove(this,t)})),m(D,"$to_s",(function(){var t,r=this;return n(t=e.Module.$name.call(r))?t:"#<"+(r.$$is_module?"Module":"Class")+":0x"+r.$__id__().$to_s(16)+">"})),m(D,"$undef_method",(function(t){var r,n=this;r=k(arguments);for(var i=0;i<r.length;i++){var o=r[i];"string"==typeof o||o.$$is_string||n.$raise(N("TypeError"),n.$name()+" is not a symbol nor a string"),u(n),e.udef(n,"$"+r[i])}return n}),-1),m(D,"$instance_variables",(function(){var t=this,r=F;e.Module.$$nesting=q,r=t.$constants();var n=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&"constructor"!==i&&!r["$include?"](i)&&n.push("@"+i);return n})),m(D,"$dup",(function e(){var t=e.$$p||F,r=this,n=F;return e.$$p=null,(n=I(r,T(r,"dup",e,!1,!0),"dup",[],t)).$copy_class_variables(r),n.$copy_constants(r),n})),m(D,"$copy_class_variables",(function(e){for(var t in e.$$cvars)this.$$cvars[t]=e.$$cvars[t]})),m(D,"$copy_constants",(function(e){var t,r=e.$$const;for(t in r)o(this,t,r[t])})),m(D,"$refine",(function t(r){var n,i,o,s=t.$$p||F,a=this,$=F;return t.$$p=null,i=(n=[a,F,F])[0],$=n[1],n[2],o=e.id(r),void 0===a.$$refine_modules&&(a.$$refine_modules=Object.create(null)),($=void 0===a.$$refine_modules[o]?a.$$refine_modules[o]=N("Refinement").$new():a.$$refine_modules[o]).refinement_module=i,$.refined_class=r,f($,"class_exec",[],s.$to_proc()),$})),m(D,"$refinements",(function(){var e=this.$$refine_modules,t=A([],{});if(void 0===e)return t;for(var r in e)t["$[]="](e[r].refined_class,e[r]);return t})),m(D,"$using",(function(e){return v.$raise("Module#using is not permitted in methods")})),z(D,"class_eval","module_eval"),z(D,"class_exec","module_exec"),z(D,"inspect","to_s")}(0,0,[]),t=p("::",b,"Refinement"),(r=t.$$prototype).refinement_module=r.refined_class=F,t.$attr_reader("refined_class"),m(t,"$inspect",(function e(){var t=e.$$p||F,r=this;return e.$$p=null,n(r.refinement_module)?"#<refinement:"+r.refined_class.$inspect()+"@"+r.refinement_module.$inspect()+">":I(r,T(r,"inspect",e,!1,!0),"inspect",[],t)}))},Opal.modules["corelib/class"]=function(e){var t=e.klass,r=e.send,n=e.defs,i=e.def,o=e.rb_plus,s=e.return_val,a=e.slice,$=e.send2,l=e.find_super,u=e.Kernel,c=e.alias,_=e.top,d=e.nil,p=e.$$$;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),_.$require("corelib/module"),function(_,h,f){var m=t("::",null,"Class"),g=[m].concat(f),b=e.$r(g);return n(m,"$new",(function t(n){var i=t.$$p||d;if(t.$$p=null,null==n&&(n=b("Object")),!n.$$is_class)throw e.TypeError.$new("superclass must be a Class");var o=e.allocate_class(d,n);return n.$inherited(o),i!==d&&r(o,"class_eval",[],i.$to_proc()),o}),-1),i(m,"$allocate",(function(){var t=new this.$$constructor;return t.$$id=e.uid(),t})),i(m,"$descendants",(function(){return o(this.$subclasses(),r(this.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())})),i(m,"$inherited",s(d)),i(m,"$initialize_dup",(function(e){var t=this;t.$initialize_copy(e),t.$$name=null,t.$$full_name=null})),i(m,"$new",(function t(r){var n,i=t.$$p||d;t.$$p=null,n=a(arguments);var o=this.$allocate();return e.send(o,o.$initialize,n,i),o}),-1),i(m,"$subclasses",(function(){var e=this;if("undefined"!=typeof WeakRef){var t,r,n=[];for(t=0;t<e.$$subclasses.length;t++)void 0!==(r=e.$$subclasses[t].deref())&&n.push(r);return n}return e.$$subclasses})),i(m,"$superclass",(function(){return this.$$super||d})),i(m,"$to_s",(function t(){var r=this;t.$$p=null;var n=r.$$singleton_of;return n&&n.$$is_a_module?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+e.id(n).$to_s(16)+">>":$(r,l(r,"to_s",t,!1,!0),"to_s",[],null)})),i(m,"$attached_object",(function(){var e=this;if(null!=e.$$singleton_of)return e.$$singleton_of;u.$raise(p("TypeError"),"`"+e+"' is not a singleton class")})),c(m,"inspect","to_s")}(0,0,[])},Opal.modules["corelib/basic_object"]=function(e){var t,r=e.klass,n=e.slice,i=e.def,o=e.alias,s=e.return_val,a=e.Opal,$=e.truthy,l=e.range,u=e.Kernel,c=e.to_a,_=e.hash2,d=e.send,p=e.eqeq,h=e.rb_ge,f=e.nil,m=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),t=r("::",null,"BasicObject"),i(t,"$initialize",(function(e){return n(arguments),f}),-1),i(t,"$==",(function(e){return this===e})),i(t,"$eql?",(function(e){return this["$=="](e)})),o(t,"equal?","=="),i(t,"$__id__",(function(){var t=this;return null!=t.$$id||e.prop(t,"$$id",e.uid()),t.$$id})),i(t,"$__send__",(function t(r,i){var o,s=t.$$p||f,a=this;t.$$p=null,o=n(arguments,1),r.$$is_string||a.$raise(m("TypeError"),a.$inspect()+" is not a symbol nor a string");var $=a[e.jsid(r)];return $?(s!==f&&($.$$p=s),$.apply(a,o)):(s!==f&&(a.$method_missing.$$p=s),a.$method_missing.apply(a,[r].concat(o)))}),-2),i(t,"$!",s(!1)),a.$pristine("!"),i(t,"$!=",(function(e){return this["$=="](e)["$!"]()})),i(t,"$instance_eval",(function t(r){var i,o,s=t.$$p||f,g=this,b=f,v=f,y=f,x=f,k=f,w=f;if(t.$$p=null,i=n(arguments),$(s["$nil?"]())&&$(!!e.compile))$(l(1,3,!1)["$cover?"](i.$size()))||u.$raise(m("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=null==(o=[].concat(c(i)))[0]?f:o[0],v=null==o[1]?f:o[1],null==o[2]||o[2],y=_(["file","eval"],{file:$(x=v)?x:"(eval)",eval:!0}),k=e.hash({arity_check:!1}).$merge(y),w=a.$compile(b,k),s=d(u,"proc",[],(function t(){var r=null==t.$$s?this:t.$$s;return new Function("Opal,self","return "+w)(e,r)}),{$$s:g});else{if($(s["$nil?"]())&&$(h(i.$length(),1))&&p(i.$first()["$[]"](0),"@"))return g.$instance_variable_get(i.$first());$(i["$any?"]())&&u.$raise(m("ArgumentError"),"wrong number of arguments ("+i.$size()+" for 0)")}var A,E=s.$$s;if(s.$$s=null,g.$$is_a_module){g.$$eval=!0;try{A=s.call(g,g)}finally{g.$$eval=!1}}else A=s.call(g,g);return s.$$s=E,A}),-1),i(t,"$instance_exec",(function e(t){var r,i=e.$$p||f,o=this;e.$$p=null,r=n(arguments),$(i)||u.$raise(m("ArgumentError"),"no block given");var s,a=i.$$s;if(i.$$s=null,o.$$is_a_module){o.$$eval=!0;try{s=i.apply(o,r)}finally{o.$$eval=!1}}else s=i.apply(o,r);return i.$$s=a,s}),-1),i(t,"$singleton_method_added",(function(e){return n(arguments),f}),-1),i(t,"$singleton_method_removed",(function(e){return n(arguments),f}),-1),i(t,"$singleton_method_undefined",(function(e){return n(arguments),f}),-1),i(t,"$method_missing",(function e(t,r){var i,o;return e.$$p=null,i=n(arguments,1),o=a.$inspect(this),u.$raise(m("NoMethodError").$new("undefined method `"+t+"' for "+o,t,i),f,u.$caller(1))}),-2),a.$pristine(t,"method_missing"),i(t,"$respond_to_missing?",(function(e,t){return!1}),-2)},Opal.modules["corelib/kernel"]=function(e){var t,r=e.truthy,n=e.coerce_to,i=e.respond_to,o=e.Opal,s=e.deny_frozen_access,a=e.freeze,$=e.freeze_props,l=e.jsid,u=e.module,c=e.return_val,_=e.def,d=e.Kernel,p=e.gvars,h=e.slice,f=e.send,m=e.to_a,g=e.ensure_kwargs,b=e.eqeq,v=e.hash2,y=e.rb_plus,x=e.eqeqeq,k=e.return_self,w=e.rb_le,A=e.extract_kwargs,E=e.rb_lt,S=e.Object,C=e.alias,O=e.klass,R=e.nil,I=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(t,O){var T=u("::","Kernel"),z=[T].concat(O),F=e.$r(z);_(T,"$=~",c(!1)),_(T,"$!~",(function(e){return this["$=~"](e)["$!"]()})),_(T,"$===",(function(e){var t;return r(t=this.$object_id()["$=="](e.$object_id()))?t:this["$=="](e)})),_(T,"$<=>",(function(e){this.$$comparable=!0;var t=this["$=="](e);return t&&t!==R?0:R})),_(T,"$method",(function(e){var t=this,r=t[l(e)];return r&&!r.$$stub||d.$raise(I("NameError").$new("undefined method `"+e+"' for class `"+t.$class()+"'",e)),I("Method").$new(t,r.$$owner||t.$class(),r,e)})),_(T,"$methods",(function(t){return null==t&&(t=!0),r(t)?e.methods(this):e.own_methods(this)}),-1),_(T,"$public_methods",(function(t){return null==t&&(t=!0),r(t)?e.methods(this):e.receiver_methods(this)}),-1),_(T,"$Array",(function(e){var t;return e===R?[]:e.$$is_array?e:(t=o["$coerce_to?"](e,I("Array"),"to_ary"))!==R||(t=o["$coerce_to?"](e,I("Array"),"to_a"))!==R?t:[e]})),_(T,"$at_exit",(function e(){var t,n=e.$$p||R;return null==p.__at_exit__&&(p.__at_exit__=R),e.$$p=null,p.__at_exit__=r(t=p.__at_exit__)?t:[],p.__at_exit__["$<<"](n),n})),_(T,"$caller",(function(e,t){var r,n;null==e&&(e=1),null==t&&(t=R),n=[];for(var i=e+1,o=(r=(new Error).$backtrace()).length;i<o;i++)r[i].match(/runtime\.js/)||n.push(r[i]);return t!=R&&(n=n.slice(0,t)),n}),-1),_(T,"$caller_locations",(function(e){var t;return t=h(arguments),f(f(this,"caller",m(t)),"map",[],(function(e){return null==e&&(e=R),I(I(I("Thread"),"Backtrace"),"Location").$new(e)}))}),-1),_(T,"$class",(function(){return this.$$class})),_(T,"$copy_instance_variables",(function(e){var t,r,n,i=Object.keys(e);for(t=0,r=i.length;t<r;t++)"$"!==(n=i[t]).charAt(0)&&e.hasOwnProperty(n)&&(this[n]=e[n])})),_(T,"$copy_singleton_methods",(function(t){var r,n,i,o;if(t.hasOwnProperty("$$meta")&&null!==t.$$meta){var s=e.get_singleton_class(t),a=e.get_singleton_class(this);for(r=0,o=(i=Object.getOwnPropertyNames(s.$$prototype)).length;r<o;r++)n=i[r],e.is_method(n)&&(a.$$prototype[n]=s.$$prototype[n]);a.$$const=Object.assign({},s.$$const),Object.setPrototypeOf(a.$$prototype,Object.getPrototypeOf(s.$$prototype))}for(r=0,o=(i=Object.getOwnPropertyNames(t)).length;r<o;r++)"$"===(n=i[r]).charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&(this[n]=t[n])})),_(T,"$clone",(function(e){var t,n=this,i=R;return null==(t=(e=g(e)).$$smap.freeze)&&(t=R),r(t["$nil?"]())||b(t,!0)||b(t,!1)||n.$raise(F("ArgumentError"),"unexpected value for freeze: "+t.$class()),(i=n.$class().$allocate()).$copy_instance_variables(n),i.$copy_singleton_methods(n),i.$initialize_clone(n,v(["freeze"],{freeze:t})),(b(t,!0)||r(t["$nil?"]())&&r(n["$frozen?"]()))&&i.$freeze(),i}),-1),_(T,"$initialize_clone",(function(e,t){return(t=g(t)).$$smap.freeze,this.$initialize_copy(e),this}),-2),_(T,"$define_singleton_method",(function e(t,r){var n=e.$$p||R;return e.$$p=null,f(this.$singleton_class(),"define_method",[t,r],n.$to_proc())}),-2),_(T,"$dup",(function(){var e=this,t=R;return(t=e.$class().$allocate()).$copy_instance_variables(e),t.$initialize_dup(e),t})),_(T,"$initialize_dup",(function(e){return this.$initialize_copy(e)})),_(T,"$enum_for",(function e(t,r){var n,i,o,s=e.$$p||R,a=this;return e.$$p=null,(n=h(arguments)).length>0&&(i=n.shift()),null==i&&(i="each"),o=n,f(I("Enumerator"),"for",[a,i].concat(m(o)),s.$to_proc())}),-1),_(T,"$equal?",(function(e){return this===e})),_(T,"$exit",(function(t){var i;for(null==p.__at_exit__&&(p.__at_exit__=R),null==t&&(t=!0),p.__at_exit__=r(i=p.__at_exit__)?i:[];!r(p.__at_exit__["$empty?"]());)p.__at_exit__.$pop().$call();return t=t.$$is_boolean?t?0:1:n(t,I("Integer"),"to_int"),e.exit(t),R}),-1),_(T,"$extend",(function(e){var t,r=this;0==(t=h(arguments)).length&&r.$raise(I("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),s(r);for(var n=r.$singleton_class(),i=t.length-1;i>=0;i--){var o=t[i];o.$$is_module||d.$raise(I("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(n),o.$extend_object(r),o.$extended(r)}return r}),-1),_(T,"$freeze",(function(){var e=this;return r(e["$frozen?"]())?e:"object"==typeof e?($(e),a(e)):e})),_(T,"$frozen?",(function(){switch(typeof this){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return this.$$frozen||!1;default:return!1}})),_(T,"$gets",(function(e){var t;return null==p.stdin&&(p.stdin=R),t=h(arguments),f(p.stdin,"gets",m(t))}),-1),_(T,"$hash",(function(){return this.$__id__()})),_(T,"$initialize_copy",c(R));var N=[];_(T,"$inspect",(function(){var t=this,n=R,i=R,o=R;return function(){try{try{return n="",i=t.$__id__(),r(N["$include?"](i))?n=" ...":(N["$<<"](i),o=!0,f(t.$instance_variables(),"each",[],(function e(t){var r,i;return null==t&&(t=R),r=(null==e.$$s?this:e.$$s).$instance_variable_get(t),i=F("Opal").$inspect(r),n=y(n," "+t+"="+i)}),{$$s:t})),"#<"+t.$class()+":0x"+i.$to_s(16)+n+">"}catch(r){if(!e.rescue(r,[F("StandardError")]))throw r;r;try{return"#<"+t.$class()+":0x"+i.$to_s(16)+">"}finally{e.pop_exception()}}}finally{r(o)&&N.$pop()}}()})),_(T,"$instance_of?",(function(e){return e.$$is_class||e.$$is_module||d.$raise(I("TypeError"),"class or module required"),this.$$class===e})),_(T,"$instance_variable_defined?",(function(t){return t=o["$instance_variable_name!"](t),e.hasOwnProperty.call(this,t.substr(1))})),_(T,"$instance_variable_get",(function(t){t=o["$instance_variable_name!"](t);var r=this[e.ivar(t.substr(1))];return null==r?R:r})),_(T,"$instance_variable_set",(function(t,r){return s(this),t=o["$instance_variable_name!"](t),this[e.ivar(t.substr(1))]=r})),_(T,"$remove_instance_variable",(function(t){var r=this;t=o["$instance_variable_name!"](t);var n,i=e.ivar(t.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):d.$raise(I("NameError"),"instance variable "+t+" not defined")})),_(T,"$instance_variables",(function(){var e,t=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(e="$"===r.substr(-1)?r.slice(0,r.length-1):r,t.push("@"+e));return t})),_(T,"$Integer",(function(e,t){var r,i,s;return e.$$is_string?"0"===e?0:(void 0===t?t=0:(1===(t=n(t,I("Integer"),"to_int"))||t<0||t>36)&&d.$raise(I("ArgumentError"),"invalid radix "+t),i=(i=(i=e.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,(function(r,n,i){switch(i){case"0b":if(0===t||2===t)return t=2,n;case"0":case"0o":if(0===t||8===t)return t=8,n;case"0d":if(0===t||10===t)return t=10,n;case"0x":if(0===t||16===t)return t=16,n}d.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"')})),s="0-"+((t=0===t?10:t)<=10?t-1:"9a-"+String.fromCharCode(t-11+97)),new RegExp("^\\s*[+-]?["+s+"]+\\s*$").test(i)||d.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"'),r=parseInt(i,t),isNaN(r)&&d.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"'),r):(void 0!==t&&d.$raise(I("ArgumentError"),"base specified for non string value"),e===R&&d.$raise(I("TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-1/0||isNaN(e))&&d.$raise(I("FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(r=e.$to_int())!==R?r:o["$coerce_to!"](e,I("Integer"),"to_i"))}),-2),_(T,"$Float",(function(e){var t;return e===R&&d.$raise(I("TypeError"),"can't convert nil into Float"),e.$$is_string?(t=(t=e.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(t)?d.$Integer(t):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(t)||d.$raise(I("ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(t))):o["$coerce_to!"](e,I("Float"),"to_f")})),_(T,"$Hash",(function(e){return r(e["$nil?"]())||b(e,[])?v([],{}):x(I("Hash"),e)?e:o["$coerce_to!"](e,I("Hash"),"to_hash")})),_(T,"$is_a?",(function(t){return t.$$is_class||t.$$is_module||d.$raise(I("TypeError"),"class or module required"),e.is_a(this,t)})),_(T,"$itself",k),_(T,"$lambda",(function t(){var r=t.$$p||R;return t.$$p=null,e.lambda(r)})),_(T,"$load",(function(t){return t=o["$coerce_to!"](t,I("String"),"to_str"),e.load(t)})),_(T,"$loop",(function t(){var n=t.$$p||R,i=R;if(t.$$p=null,n===R)return f(this,"enum_for",["loop"],(function(){return I(I("Float"),"INFINITY")}));for(;r(!0);)try{e.yieldX(n,[])}catch(t){if(!e.rescue(t,[I("StopIteration")]))throw t;i=t;try{return i.$result()}finally{e.pop_exception()}}return this})),_(T,"$nil?",c(!1)),_(T,"$printf",(function(e){var t,n;return t=h(arguments),r((n=t)["$any?"]())&&this.$print(f(this,"format",m(n))),R}),-1),_(T,"$proc",(function e(){var t=e.$$p||R;return e.$$p=null,r(t)||d.$raise(I("ArgumentError"),"tried to create Proc object without a block"),t.$$is_lambda=!1,t})),_(T,"$puts",(function(e){var t;return null==p.stdout&&(p.stdout=R),t=h(arguments),f(p.stdout,"puts",m(t))}),-1),_(T,"$p",(function(e){var t,n;return t=h(arguments),f(n=t,"each",[],(function(e){return null==p.stdout&&(p.stdout=R),null==e&&(e=R),p.stdout.$puts(e.$inspect())})),r(w(n.$length(),1))?n["$[]"](0):n}),-1),_(T,"$print",(function(e){var t;return null==p.stdout&&(p.stdout=R),t=h(arguments),f(p.stdout,"print",m(t))}),-1),_(T,"$readline",(function(e){var t;return null==p.stdin&&(p.stdin=R),t=h(arguments),f(p.stdin,"readline",m(t))}),-1),_(T,"$warn",(function(e,t){var n,i,s,a,$,l,u=R;return null==p.VERBOSE&&(p.VERBOSE=R),null==p.stderr&&(p.stderr=R),n=h(arguments),i=A(n),s=n,null==(a=(i=g(i)).$$smap.uplevel)&&(a=R),r(a)&&(a=o["$coerce_to!"](a,I("Integer"),"to_str"),r(E(a,0))&&d.$raise(I("ArgumentError"),"negative level ("+a+")"),$=(l=this.$caller(y(a,1),1).$first())===R||null==l?R:l.$split(":in `"),u=$===R||null==$?R:$.$first(),r(u)&&(u+=": "),s=f(s,"map",[],(function(e){return null==e&&(e=R),u+"warning: "+e}))),r(p.VERBOSE["$nil?"]())||r(s["$empty?"]())?R:f(p.stderr,"puts",m(s))}),-1),_(T,"$raise",(function(t,r,n){if(null==p["!"]&&(p["!"]=R),null==p["@"]&&(p["@"]=R),null==r&&(r=R),null==n&&(n=R),null==t&&p["!"]!==R)throw p["!"];throw null==t?t=I("RuntimeError").$new(""):i(t,"$to_str")?t=I("RuntimeError").$new(t.$to_str()):t.$$is_class&&i(t,"$exception")?t=t.$exception(r):t.$$is_exception||(t=I("TypeError").$new("exception class/object expected")),n!==R&&t.$set_backtrace(n),p["!"]!==R&&e.exceptions.push(p["!"]),p["!"]=t,p["@"]=t.$backtrace(),t}),-1),_(T,"$rand",(function(e){return void 0===e?I(I("Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!=0&&(e=e.$to_i()),0===e&&(e=void 0)),I(I("Random"),"DEFAULT").$rand(e))}),-1),_(T,"$respond_to?",(function(e,t){var r=this;null==t&&(t=!1);var n=r[l(e)];return"function"==typeof n&&!n.$$stub||!0!==r["$respond_to_missing?"].$$pristine&&r["$respond_to_missing?"](e,t)}),-2),_(T,"$respond_to_missing?",(function(e,t){return!1}),-2),o.$pristine(T,"respond_to?","respond_to_missing?"),_(T,"$require",(function(t){return"string"!=typeof t&&e.String&&e.Array&&(t=o["$coerce_to!"](t,I("String"),"to_str")),e.require(t)})),_(T,"$require_relative",(function(t){return o["$try_convert!"](t,I("String"),"to_str"),t=I("File").$expand_path(I("File").$join(e.current_file,"..",t)),e.require(t)})),_(T,"$require_tree",(function(t,r){var n;null==(n=(r=g(r)).$$smap.autoload)&&(n=!1);var i=[];for(var o in t=I("File").$expand_path(t),"."===(t=e.normalize(t))&&(t=""),e.modules)o["$start_with?"](t)&&(n?i.push([o,!0]):i.push([o,e.require(o)]));return i}),-2),_(T,"$singleton_class",(function(){return e.get_singleton_class(this)})),_(T,"$sleep",(function(t){null==t&&(t=R),t===R&&d.$raise(I("TypeError"),"can't convert NilClass into time interval"),t.$$is_number||d.$raise(I("TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&d.$raise(I("ArgumentError"),"time interval must be positive");for(var r=e.global.performance?function(){return performance.now()}:function(){return new Date},n=r();r()-n<=1e3*t;);return Math.round(t)}),-1),_(T,"$srand",(function(e){return null==e&&(e=F("Random").$new_seed()),I("Random").$srand(e)}),-1),_(T,"$String",(function(e){var t;return r(t=o["$coerce_to?"](e,I("String"),"to_str"))?t:o["$coerce_to!"](e,I("String"),"to_s")})),_(T,"$tap",(function t(){var r=t.$$p||R;return t.$$p=null,e.yield1(r,this),this})),_(T,"$to_proc",k),_(T,"$to_s",(function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"})),_(T,"$catch",(function t(n){var i=t.$$p||R,o=R,s=R;t.$$p=null,null==n&&(n=R);try{return n=r(o=n)?o:S.$new(),e.yield1(i,n)}catch(t){if(!e.rescue(t,[I("UncaughtThrowError")]))throw t;s=t;try{return b(s.$tag(),n)?s.$value():d.$raise()}finally{e.pop_exception()}}}),-1),_(T,"$throw",(function(e,t){return null==t&&(t=R),d.$raise(I("UncaughtThrowError").$new(e,t))}),-2),_(T,"$open",(function e(t){var r,n=e.$$p||R;return e.$$p=null,r=h(arguments),f(I("File"),"open",m(r),n.$to_proc())}),-1),_(T,"$yield_self",(function t(){var r=t.$$p||R;return t.$$p=null,r===R?f(this,"enum_for",["yield_self"],c(1)):e.yield1(r,this)})),C(T,"fail","raise"),C(T,"kind_of?","is_a?"),C(T,"object_id","__id__"),C(T,"public_send","__send__"),C(T,"send","__send__"),C(T,"then","yield_self"),C(T,"to_enum","enum_for")}(0,[]),t=O("::",null,"Object"),delete S.$$prototype.$require,t.$include(d)},Opal.modules["corelib/main"]=function(e){var t=e.return_val,r=e.def,n=e.Object,i=e.slice,o=e.Kernel,s=e.top;return e.nil,e.add_stubs("include,raise"),function(s,a){return r(s,"$to_s",t("main")),r(s,"$include",(function(e){return n.$include(e)})),r(s,"$autoload",(function(t){var r;return r=i(arguments),e.Object.$autoload.apply(e.Object,r)}),-1),r(s,"$using",(function(e){return o.$raise("main.using is permitted only at toplevel")}))}(e.get_singleton_class(s))},Opal.modules["corelib/error/errno"]=function(e){var t,r,n=e.module,i=e.truthy,o=e.rb_plus,s=e.send2,a=e.find_super,$=e.def,l=e.klass,u=e.nil,c=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(t,r){var l,c,_=n("::","Errno"),d=u;for(l=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],d=u,c=0;c<l.length;c++)!function(){var t=l[c][0],r=l[c][1],n=l[c][2];(d=e.klass(_,e.SystemCallError,t)).errno=n,function(e,t){$(e,"$new",(function e(t){var n=u;return e.$$p=null,null==t&&(t=u),n=r,i(t)&&(n=o(n," - "+t)),s(this,a(this,"new",e,!1,!0),"new",[n],null)}),-1)}(e.get_singleton_class(d))}()}(),t=c("StandardError"),r=l("::",t,"SystemCallError"),$(r,"$errno",(function(){return this.$class().$errno()})),function(e,t){return e.$attr_reader("errno")}(e.get_singleton_class(r))},Opal.modules["corelib/error"]=function(e){var t,r,n=e.klass,i=e.slice,o=e.gvars,s=e.defs,a=e.send,$=e.to_a,l=e.def,u=e.truthy,c=e.hash2,_=e.Kernel,d=e.not,p=e.rb_plus,h=e.eqeq,f=e.Object,m=e.ensure_kwargs,g=e.send2,b=e.find_super,v=e.module,y=[],x=e.nil,k=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(t,r,f){var m,g=n("::",r,"Exception"),b=[g].concat(f),v=e.$r(b);function y(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n];i&&i.$$is_string&&((t=i.match(/^    at (.*?) \((.*?)\)$/))?r.push(t[2]+":in `"+t[1]+"'"):(t=i.match(/^    at (.*?)$/))?r.push(t[1]+":in `undefined'"):(t=i.match(/^  from (.*?)$/))?r.push(t[1]):(t=i.match(/^(.*?)@(.*?)$/))&&r.push(t[2]+":in `"+t[1]+"'"))}return r}g.$$prototype.message=x,e.prop(g.$$prototype,"$$is_exception",!0),Error.stackTraceLimit=100,s(g,"$new",(function(t){var r;null==o["!"]&&(o["!"]=x);var n=(r=i(arguments)).length>0?r[0]:x,s=new this.$$constructor(n);return s.name=this.$$name,s.message=n,s.cause=o["!"],e.send(s,s.$initialize,r),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,m),s}),-1),m=g.$new,s(g,"$exception",(function(e){var t;return t=i(arguments),a(this,"new",$(t))}),-1),l(g,"$initialize",(function(e){var t;return t=i(arguments),this.message=t.length>0?t[0]:x}),-1),l(g,"$backtrace",(function(){var e=this;if(e.backtrace)return e.backtrace;var t=e.stack;return void 0!==t&&t.$$is_string?e.backtrace=y(t.split("\n")):t?e.backtrace=y(t):[]})),l(g,"$backtrace_locations",(function(){var e,t=this;return t.backtrace_locations||(t.backtrace_locations=(e=t.$backtrace())===x||null==e?x:a(e,"map",[],(function(e){return null==e&&(e=x),k(k(k("Thread"),"Backtrace"),"Location").$new(e)}))),t.backtrace_locations})),l(g,"$cause",(function(){return this.cause||x})),l(g,"$exception",(function(e){var t=this;if(null==e&&(e=x),e===x||t===e)return t;var r=t.$clone();return r.message=e,t.backtrace&&(r.backtrace=t.backtrace.$dup()),r.stack=t.stack,r.cause=t.cause,r}),-1),l(g,"$message",(function(){return this.$to_s()})),l(g,"$full_message",(function(e){var t,r,n,i,s,$=this,l=x,f=x,m=x,g=x,b=x;return null==o.stderr&&(o.stderr=x),null==e&&(e=x),u(v("Hash","skip_raise")?"constant":x)?(i=(t=[(e=c(["highlight","order"],{highlight:o.stderr["$tty?"](),order:"top"}).$merge(u(r=e)?r:c([],{})))["$[]"]("highlight"),e["$[]"]("order")])[1],u([!0,!1]["$include?"](n=t[0]))||_.$raise(k("ArgumentError"),"expected true or false as highlight: "+n),u(["top","bottom"]["$include?"](i))||_.$raise(k("ArgumentError"),"expected :top or :bottom as order: "+i),u(n)?(l="[1;4m",f="[1m",m="[m"):l=f=m="",g=$.$backtrace().$dup(),(d(g)||u(g["$empty?"]()))&&(g=$.$caller()),s=g.$shift(),b=p(b=s+": ",""+f+$.$to_s()+" ("+l+$.$class()+m+f+")"+m+"\n"),b=p(b,a(g,"map",[],(function(e){return null==e&&(e=x),"\tfrom "+e+"\n"})).$join()),u($.$cause())&&(b=p(b,$.$cause().$full_message(c(["highlight"],{highlight:n})))),h(i,"bottom")&&(b=b.$split("\n").$reverse().$join("\n"),b=p(f+"Traceback"+m+" (most recent call last):\n",b)),b):$.message+"\n"+$.stack}),-1),l(g,"$inspect",(function(){var e=this,t=x;return t=e.$to_s(),u(t["$empty?"]())?e.$class().$to_s():"#<"+e.$class().$to_s()+": "+e.$to_s()+">"})),l(g,"$set_backtrace",(function(e){var t,r,n=this,i=!0;if(e===x)n.backtrace=x,n.stack="";else if(e.$$is_string)n.backtrace=[e],n.stack="  from "+e;else{if(e.$$is_array){for(t=0,r=e.length;t<r;t++)if(!e[t].$$is_string){i=!1;break}}else i=!1;!1===i&&_.$raise(k("TypeError"),"backtrace must be Array of String"),n.backtrace=e,n.stack=a(e,"map",[],(function(e){return null==e&&(e=x),p("  from ",e)})).join("\n")}return e})),l(g,"$to_s",(function(){var e,t,r=this;return u(e=u(t=r.message)?r.message.$to_s():t)?e:r.$class().$to_s()}))}(0,Error,y),n("::",k("Exception"),"ScriptError"),n("::",k("ScriptError"),"SyntaxError"),n("::",k("ScriptError"),"LoadError"),n("::",k("ScriptError"),"NotImplementedError"),n("::",k("Exception"),"SystemExit"),n("::",k("Exception"),"NoMemoryError"),n("::",k("Exception"),"SignalException"),n("::",k("SignalException"),"Interrupt"),n("::",k("Exception"),"SecurityError"),n("::",k("Exception"),"SystemStackError"),n("::",k("Exception"),"StandardError"),n("::",k("StandardError"),"EncodingError"),n("::",k("StandardError"),"ZeroDivisionError"),n("::",k("StandardError"),"NameError"),n("::",k("NameError"),"NoMethodError"),n("::",k("StandardError"),"RuntimeError"),n("::",k("RuntimeError"),"FrozenError"),n("::",k("StandardError"),"LocalJumpError"),n("::",k("StandardError"),"TypeError"),n("::",k("StandardError"),"ArgumentError"),n("::",k("ArgumentError"),"UncaughtThrowError"),n("::",k("StandardError"),"IndexError"),n("::",k("IndexError"),"StopIteration"),n("::",k("StopIteration"),"ClosedQueueError"),n("::",k("IndexError"),"KeyError"),n("::",k("StandardError"),"RangeError"),n("::",k("RangeError"),"FloatDomainError"),n("::",k("StandardError"),"IOError"),n("::",k("IOError"),"EOFError"),n("::",k("StandardError"),"SystemCallError"),n("::",k("StandardError"),"RegexpError"),n("::",k("StandardError"),"ThreadError"),n("::",k("StandardError"),"FiberError"),f.$autoload("Errno","corelib/error/errno"),t=k("RuntimeError"),(r=n("::",t,"FrozenError")).$attr_reader("receiver"),l(r,"$initialize",(function e(t,r){var n,i=this;return e.$$p=null,null==(n=(r=m(r)).$$smap.receiver)&&(n=x),g(i,b(i,"initialize",e,!1,!0),"initialize",[t],null),i.receiver=n}),-2),function(e,t){var r=n("::",t,"UncaughtThrowError");r.$$prototype.tag=x,r.$attr_reader("tag","value"),l(r,"$initialize",(function e(t,r){var n=this;return e.$$p=null,null==r&&(r=x),n.tag=t,n.value=r,g(n,b(n,"initialize",e,!1,!0),"initialize",["uncaught throw "+n.tag.$inspect()],null)}),-2)}(0,k("ArgumentError")),function(e,t){var r=n("::",null,"NameError");r.$attr_reader("name"),l(r,"$initialize",(function e(t,r){var n=this;return e.$$p=null,null==r&&(r=x),g(n,b(n,"initialize",e,!1,!0),"initialize",[t],null),n.name=r}),-2)}(),function(e,t){var r=n("::",null,"NoMethodError");r.$attr_reader("args"),l(r,"$initialize",(function e(t,r,n){var i=this;return e.$$p=null,null==r&&(r=x),null==n&&(n=[]),g(i,b(i,"initialize",e,!1,!0),"initialize",[t,r],null),i.args=n}),-2)}(),n("::",null,"StopIteration").$attr_reader("result"),function(e,t){var r=n("::",null,"KeyError"),i=r.$$prototype;i.receiver=i.key=x,l(r,"$initialize",(function e(t,r){var n,i,o=this;return e.$$p=null,null==(n=(r=m(r)).$$smap.receiver)&&(n=x),null==(i=r.$$smap.key)&&(i=x),g(o,b(o,"initialize",e,!1,!0),"initialize",[t],null),o.receiver=n,o.key=i}),-2),l(r,"$receiver",(function(){var e;return u(e=this.receiver)?e:_.$raise(k("ArgumentError"),"no receiver is available")})),l(r,"$key",(function(){var e;return u(e=this.key)?e:_.$raise(k("ArgumentError"),"no key is available")}))}(),function(e,t){var r=[v("::","JS")].concat(t);return n(r[0],null,"Error"),x}(0,y)},Opal.modules["corelib/constants"]=function(e){var t=e.const_set;e.nil;var r=e.$$$;return t("::","RUBY_PLATFORM","opal"),t("::","RUBY_ENGINE","opal"),t("::","RUBY_VERSION","3.2.0"),t("::","RUBY_ENGINE_VERSION","1.7.1"),t("::","RUBY_RELEASE_DATE","2023-01-06"),t("::","RUBY_PATCHLEVEL",0),t("::","RUBY_REVISION","0"),t("::","RUBY_COPYRIGHT","opal - Copyright (C) 2013-2022 Adam Beynon and the Opal contributors"),t("::","RUBY_DESCRIPTION","opal "+r("RUBY_ENGINE_VERSION")+" ("+r("RUBY_RELEASE_DATE")+" revision "+r("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/main"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){var t,r=e.klass,n=e.Kernel,i=e.def,o=e.return_val,s=e.ensure_kwargs,a=e.NilClass,$=e.slice,l=e.truthy,u=e.rb_gt,c=e.alias,_=e.nil,d=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),(t=r("::",null,"NilClass")).$$prototype.$$meta=t,function(t,r){i(t,"$allocate",(function(){return n.$raise(d("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(t)),i(t,"$!",o(!0)),i(t,"$&",o(!1)),i(t,"$|",(function(e){return!1!==e&&e!==_})),i(t,"$^",(function(e){return!1!==e&&e!==_})),i(t,"$==",(function(e){return e===_})),i(t,"$dup",o(_)),i(t,"$clone",(function(e){return(e=s(e)).$$smap.freeze,_}),-1),i(t,"$inspect",o("nil")),i(t,"$nil?",o(!0)),i(t,"$singleton_class",(function(){return a})),i(t,"$to_a",(function(){return[]})),i(t,"$to_h",(function(){return e.hash()})),i(t,"$to_i",o(0)),i(t,"$to_s",o("")),i(t,"$to_c",(function(){return d("Complex").$new(0,0)})),i(t,"$rationalize",(function(e){var t;return t=$(arguments),l(u(t.$length(),1))&&n.$raise(d("ArgumentError")),n.$Rational(0,1)}),-1),i(t,"$to_r",(function(){return n.$Rational(0,1)})),i(t,"$instance_variables",(function(){return[]})),c(t,"to_f","to_i")},Opal.modules["corelib/boolean"]=function(e){var t=e.klass,r=e.Kernel,n=e.def,i=e.return_self,o=e.ensure_kwargs,s=e.slice,a=e.truthy,$=e.send2,l=e.find_super,u=e.to_a,c=e.alias,_=e.nil,d=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(p,h,f){var m=t("::",h,"Boolean");e.prop(m.$$prototype,"$$is_boolean",!0);for(var g=["$$class","$$meta"],b=0;b<g.length;b++)Object.defineProperty(m.$$prototype,g[b],{configurable:!0,enumerable:!1,get:function(){return 1==this?e.TrueClass:0==this?e.FalseClass:e.Boolean}});Object.defineProperty(m.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return 1==this?2:0==this?0:_}}),function(t,i){n(t,"$allocate",(function(){return r.$raise(d("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(m)),n(m,"$__id__",(function(){return this.valueOf()?2:0})),n(m,"$!",(function(){return 1!=this})),n(m,"$&",(function(e){return 1==this&&(!1!==e&&e!==_)})),n(m,"$|",(function(e){return 1==this||!1!==e&&e!==_})),n(m,"$^",(function(e){return 1==this?!1===e||e===_:!1!==e&&e!==_})),n(m,"$==",(function(e){return 1==this===e.valueOf()})),n(m,"$singleton_class",(function(){return this.$$meta})),n(m,"$to_s",(function(){return 1==this?"true":"false"})),n(m,"$dup",i),n(m,"$clone",(function(e){return(e=o(e)).$$smap.freeze,this}),-1),n(m,"$method_missing",(function t(r,n){var i,o=t.$$p||_,c=this;t.$$p=null,i=s(arguments,1);var d=c.$$class.$$prototype[e.jsid(r)];return a(void 0!==d&&!d.$$stub)||$(c,l(c,"method_missing",t,!1,!0),"method_missing",[r].concat(u(i)),o),e.send(c,d,i,o)}),-2),n(m,"$respond_to_missing?",(function(t,r){var n=this.$$class.$$prototype[e.jsid(t)];return void 0!==n&&!n.$$stub}),-2),c(m,"eql?","=="),c(m,"equal?","=="),c(m,"inspect","to_s"),c(m,"object_id","__id__")}(0,Boolean),t("::",d("Boolean"),"TrueClass"),t("::",d("Boolean"),"FalseClass"),_},Opal.modules["corelib/comparable"]=function(e){var t=e.truthy,r=e.module,n=e.rb_gt,i=e.rb_lt,o=e.eqeqeq,s=e.Kernel,a=e.def,$=e.nil,l=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(u){var c=r("::","Comparable"),_=$;function d(t){return e.is_a(t,e.Integer)?t:n(t,0)?1:i(t,0)?-1:0}function p(e,r){var n=e["$<=>"](r);return t(n)||function(e,t){var r;r=o($,_=t)||o(!0,_)||o(!1,_)||o(l("Integer"),_)||o(l("Float"),_)?t.$inspect():t.$$class,s.$raise(l("ArgumentError"),"comparison of "+e.$class()+" with "+r+" failed")}(e,r),d(n)}return a(c,"$==",(function(r){var n,i=this;return!!t(i["$equal?"](r))||i["$<=>"]!=e.Kernel["$<=>"]&&(i.$$comparable?(i.$$comparable=!1,!1):!!t(n=i["$<=>"](r))&&0==d(n))})),a(c,"$>",(function(e){return p(this,e)>0})),a(c,"$>=",(function(e){return p(this,e)>=0})),a(c,"$<",(function(e){return p(this,e)<0})),a(c,"$<=",(function(e){return p(this,e)<=0})),a(c,"$between?",(function(e,t){return!i(this,e)&&!n(this,t)})),a(c,"$clamp",(function(t,r){var n,i,o=this;if(null==r&&(r=$),r===$&&(e.is_a(t,e.Range)||s.$raise(l("TypeError"),"wrong argument type "+t.$class()+" (expected Range)"),i=t.excl,r=t.end,t=t.begin,r!==$&&i&&s.$raise(l("ArgumentError"),"cannot clamp with an exclusive range")),t!==$&&r!==$&&p(t,r)>0&&s.$raise(l("ArgumentError"),"min argument must be smaller than max argument"),t!==$){if(0==(n=p(o,t)))return o;if(n<0)return t}return r!==$&&(n=p(o,r))>0?r:o}),-2)}()},Opal.modules["corelib/regexp"]=function(e){var t=e.coerce_to,r=e.prop,n=e.freeze,i=e.klass,o=e.const_set,s=e.send2,a=e.find_super,$=e.def,l=e.truthy,u=e.gvars,c=e.slice,_=e.Kernel,d=e.Opal,p=e.alias,h=e.send,f=e.hash2,m=e.rb_plus,g=e.ensure_kwargs,b=e.rb_ge,v=e.to_a,y=e.eqeqeq,x=e.rb_minus,k=e.return_ivar,w=[],A=e.nil,E=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),i("::",E("StandardError"),"RegexpError"),function(g,b,v){var y=i("::",b,"Regexp"),x=[y].concat(v),k=e.$r(x);o(y,"IGNORECASE",1),o(y,"EXTENDED",2),o(y,"MULTILINE",4),e.prop(y.$$prototype,"$$is_regexp",!0),function(t,r){var n=[t].concat(r),i=e.$r(n);$(t,"$allocate",(function e(){var t=e.$$p||A,r=A;return e.$$p=null,(r=s(this,a(this,"allocate",e,!1,!0),"allocate",[],t)).uninitialized=!0,r})),$(t,"$escape",(function(t){return e.escape_regexp(t)})),$(t,"$last_match",(function(e){return null==u["~"]&&(u["~"]=A),null==e&&(e=A),l(e["$nil?"]())?u["~"]:l(u["~"])?u["~"]["$[]"](e):A}),-1),$(t,"$union",(function(e){var t,r,n,i,o,s,a=this;if(0==(t=c(arguments)).length)return/(?!)/;if(1==t.length&&t[0].$$is_regexp)return t[0];r=t[0].$$is_array,t.length>1&&r&&_.$raise(E("TypeError"),"no implicit conversion of Array into String"),r&&(t=t[0]),o=void 0,n=[];for(var $=0;$<t.length;$++)(i=t[$]).$$is_string?n.push(a.$escape(i)):i.$$is_regexp?(s=i.$options(),null!=o&&o!=s&&_.$raise(E("TypeError"),"All expressions must use the same options"),o=s,n.push("("+i.source+")")):n.push(a.$escape(i.$to_str()));return a.$new(n.$join("|"),o)}),-1),$(t,"$new",(function(e,t){if(e.$$is_regexp)return new RegExp(e);if("\\"===(e=d["$coerce_to!"](e,E("String"),"to_str")).charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&_.$raise(E("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),void 0===t||t["$!"]())return new RegExp(e);if(t.$$is_number){var r="";i("IGNORECASE")&t&&(r+="i"),i("MULTILINE")&t&&(r+="m"),t=r}else t="i";return new RegExp(e,t)}),-2),p(t,"compile","new"),p(t,"quote","escape")}(e.get_singleton_class(y),x),$(y,"$==",(function(e){return e instanceof RegExp&&this.toString()===e.toString()})),$(y,"$===",(function(e){return this.$match(d["$coerce_to?"](e,E("String"),"to_str"))!==A})),$(y,"$=~",(function(e){var t;return null==u["~"]&&(u["~"]=A),l(t=this.$match(e))?u["~"].$begin(0):t})),$(y,"$freeze",(function(){var e=this;return l(e["$frozen?"]())?e:(e.hasOwnProperty("$$g")||r(e,"$$g",null),e.hasOwnProperty("$$gm")||r(e,"$$gm",null),n(e))})),$(y,"$inspect",(function(){var e=this.toString(),t=/^\/(.*)\/([^\/]*)$/.exec(e);if(t){for(var r=t[1],n=t[2],i=r.split(""),o=i.length,s=!1,a="",$=0;$<o;$++){var l=i[$];s||"/"!=l||(a=a.concat("\\")),a=a.concat(l),s="\\"==l&&!s}return"/"+a+"/"+n}return e})),$(y,"$match",(function r(n,i){var o=r.$$p||A,s=this;if(null==u["~"]&&(u["~"]=A),r.$$p=null,s.uninitialized&&_.$raise(E("TypeError"),"uninitialized Regexp"),void 0===i){if(n===A)return u["~"]=A;var a=s.exec(t(n,E("String"),"to_str"));return a?(u["~"]=E("MatchData").$new(s,a),o===A?u["~"]:e.yield1(o,u["~"])):u["~"]=A}if(i=t(i,E("Integer"),"to_int"),n===A)return u["~"]=A;if(n=t(n,E("String"),"to_str"),i<0&&(i+=n.length)<0)return u["~"]=A;for(var $,l=e.global_regexp(s);;){if(null===($=l.exec(n)))return u["~"]=A;if($.index>=i)return u["~"]=E("MatchData").$new(l,$),o===A?u["~"]:e.yield1(o,u["~"]);l.lastIndex=$.index+1}}),-2),$(y,"$match?",(function(r,n){var i,o=this;return o.uninitialized&&_.$raise(E("TypeError"),"uninitialized Regexp"),void 0===n?r!==A&&o.test(t(r,E("String"),"to_str")):(n=t(n,E("Integer"),"to_int"),r!==A&&(r=t(r,E("String"),"to_str"),!(n<0&&(n+=r.length)<0)&&!(null===(i=e.global_regexp(o).exec(r))||i.index<n)))}),-2),$(y,"$names",(function(){return h(this.$source().$scan(/\(?<(\w+)>/,f(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()})),$(y,"$named_captures",(function(){return h(h(h(this.$source().$scan(/\(?<(\w+)>/,f(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],(function(e){return null==e&&(e=A),h(e,"map",[],(function(e){return null==e&&(e=A),m(e.$last(),1)}))}))})),$(y,"$~",(function(){return null==u._&&(u._=A),this["$=~"](u._)})),$(y,"$source",(function(){return this.source})),$(y,"$options",(function(){var e=this;e.uninitialized&&_.$raise(E("TypeError"),"uninitialized Regexp");var t=0;return e.multiline&&(t|=k("MULTILINE")),e.ignoreCase&&(t|=k("IGNORECASE")),t})),$(y,"$casefold?",(function(){return this.ignoreCase})),p(y,"eql?","=="),p(y,"to_s","source")}(0,RegExp,w),function(t,r,n){var o=i(t,null,"MatchData"),s=[o].concat(n),a=e.$r(s);return o.$$prototype.matches=A,o.$attr_reader("post_match","pre_match","regexp","string"),$(o,"$initialize",(function(e,t,r){var n,i=this;null==(n=(r=g(r)).$$smap.no_matchdata)&&(n=!1),l(n)||(u["~"]=i),i.regexp=e,i.begin=t.index,i.string=t.input,i.pre_match=t.input.slice(0,t.index),i.post_match=t.input.slice(t.index+t[0].length),i.matches=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];null==a?i.matches.push(A):i.matches.push(a)}}),-3),$(o,"$match",(function(e){var t;return l(t=this["$[]"](e))?t:l(e["$is_a?"](a("Integer")))&&l(b(e,this.$length()))?_.$raise(E("IndexError"),"index "+e+" out of matches"):A})),$(o,"$match_length",(function(e){var t;return(t=this.$match(e))===A||null==t?A:t.$length()})),$(o,"$[]",(function(e){var t,r=this;return(t=c(arguments))[0].$$is_string?(r.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&_.$raise(E("IndexError"),"undefined group name reference: "+t["$[]"](0)),r.$named_captures()["$[]"](t["$[]"](0))):h(r.matches,"[]",v(t))}),-1),$(o,"$offset",(function(e){var t=this;return 0!==e&&_.$raise(E("ArgumentError"),"MatchData#offset only supports 0th element"),[t.begin,t.begin+t.matches[e].length]})),$(o,"$==",(function(e){var t,r,n,i,o=this;return!!y(E("MatchData"),e)&&(l(t=l(r=l(n=l(i=o.string==e.string)?o.regexp.toString()==e.regexp.toString():i)?o.pre_match==e.pre_match:n)?o.post_match==e.post_match:r)?o.begin==e.begin:t)})),$(o,"$begin",(function(e){return 0!==e&&_.$raise(E("ArgumentError"),"MatchData#begin only supports 0th element"),this.begin})),$(o,"$end",(function(e){return 0!==e&&_.$raise(E("ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[e].length})),$(o,"$captures",(function(){return this.matches.slice(1)})),$(o,"$named_captures",(function(){var e=A;return e=this.$captures(),h(this.$regexp().$named_captures(),"transform_values",[],(function(t){return null==t&&(t=A),e["$[]"](x(t.$last(),1))}))})),$(o,"$names",(function(){return this.$regexp().$names()})),$(o,"$inspect",(function(){var e=this,t="#<MatchData "+e.matches[0].$inspect();if(e.$regexp().$names()["$empty?"]())for(var r=1,n=e.matches.length;r<n;r++)t+=" "+r+":"+e.matches[r].$inspect();else h(e.$named_captures(),"each",[],(function(e,r){return null==e&&(e=A),null==r&&(r=A),t+=" "+e+":"+r.$inspect()}));return t+">"})),$(o,"$length",(function(){return this.matches.length})),$(o,"$to_a",k("matches")),$(o,"$to_s",(function(){return this.matches[0]})),$(o,"$values_at",(function(e){var t;t=c(arguments);var r,n,i,o=[];for(r=0;r<t.length;r++)t[r].$$is_range&&((n=t[r].$to_a()).unshift(r,1),Array.prototype.splice.apply(t,n)),(i=d["$coerce_to!"](t[r],E("Integer"),"to_int"))<0&&(i+=this.matches.length)<0?o.push(A):o.push(this.matches[i]);return o}),-1),p(o,"eql?","=="),p(o,"size","length")}(w[0],0,w)},Opal.modules["corelib/string"]=function(e){var t=e.coerce_to,r=e.respond_to,n=e.global_multiline_regexp,i=e.prop,o=e.klass,s=e.def,a=e.Opal,$=e.defs,l=e.slice,u=e.send,c=e.to_a,_=e.extract_kwargs,d=e.ensure_kwargs,p=e.eqeqeq,h=e.Kernel,f=e.truthy,m=e.gvars,g=e.rb_divide,b=e.rb_plus,v=e.eqeq,y=e.hash2,x=e.alias,k=e.const_set,w=e.top,A=[],E=e.$r(A),S=e.nil,C=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),w.$require("corelib/comparable"),w.$require("corelib/regexp"),function(k,w,A){var E=o("::",String,"String"),O=[E].concat(A),R=e.$r(O);function I(e){function r(e){var t,r,n,i,o,s,a="",$=e.length;for(t=0;t<$;t++)if("-"===(r=e.charAt(t))&&t>0&&t<$-1&&!n){for((i=e.charCodeAt(t-1))>(o=e.charCodeAt(t+1))&&h.$raise(C("ArgumentError"),'invalid range "'+i+"-"+o+'" in string transliteration'),s=i+1;s<o+1;s++)a+=String.fromCharCode(s);n=!0,t++}else n="\\"===r,a+=r;return a}function n(e,t){if(0===e.length)return t;var r,n,i="",o=e.length;for(r=0;r<o;r++)n=e.charAt(r),-1!==t.indexOf(n)&&(i+=n);return i}var i,o,s,a,$,l,u="",c="";for(i=0,o=e.length;i<o;i++)a="^"===(s=t(e[i],C("String"),"to_str")).charAt(0)&&s.length>1,s=r(a?s.slice(1):s),a?c=n(c,s):u=n(u,s);if(u.length>0&&c.length>0){for(l="",i=0,o=u.length;i<o;i++)$=u.charAt(i),-1===c.indexOf($)&&(l+=$);u=l,c=""}return u.length>0?"["+C("Regexp").$escape(u)+"]":c.length>0?"[^"+C("Regexp").$escape(c)+"]":null}E.$include(C("Comparable")),e.prop(E.$$prototype,"$$is_string",!0),s(E,"$__id__",(function(){return this.toString()})),$(E,"$try_convert",(function(e){return a["$coerce_to?"](e,C("String"),"to_str")})),$(E,"$new",(function(e){var r,n=(r=l(arguments))[0]||"",i=r[r.length-1];return n=t(n,C("String"),"to_str"),i&&i.$$is_hash&&i.$$smap.encoding&&(n=n.$force_encoding(i.$$smap.encoding)),(n=new this.$$constructor(n)).$initialize.$$pristine||u(n,"initialize",c(r)),n}),-1),s(E,"$initialize",(function(e,t){var r,n;return r=l(arguments),n=_(r),n=d(n),r.length>0&&r.shift(),n.$$smap.encoding,n.$$smap.capacity,S}),-1),s(E,"$%",(function(e){var t=this;return p(C("Array"),e)?u(t,"format",[t].concat(c(e))):t.$format(t,e)})),s(E,"$*",(function(e){if((e=t(e,C("Integer"),"to_int"))<0&&h.$raise(C("ArgumentError"),"negative argument"),0===e)return"";var r="",n=this.toString();for(n.length*e>=1<<28&&h.$raise(C("RangeError"),"multiply count must not overflow maximum string size");1==(1&e)&&(r+=n),0!==(e>>>=1);)n+=n;return r})),s(E,"$+",(function(r){var n=this;if(""==(r=t(r,C("String"),"to_str"))&&n.$$class===e.String)return n;if(""==n&&r.$$class===e.String)return r;var i=n+r;return n.encoding===i.encoding&&r.encoding===i.encoding||"UTF-8"===n.encoding.name||"UTF-8"===r.encoding.name?i:e.enc(i,n.encoding)})),s(E,"$<=>",(function(e){var t=this;if(f(e["$respond_to?"]("to_str")))return t>(e=e.$to_str().$to_s())?1:t<e?-1:0;var r=e["$<=>"](t);return r===S?S:r>0?-1:r<0?1:0})),s(E,"$==",(function(e){return e.$$is_string?this.toString()===e.toString():!!r(e,"$to_str")&&e["$=="](this)})),s(E,"$=~",(function(e){return e.$$is_string&&h.$raise(C("TypeError"),"type mismatch: String given"),e["$=~"](this)})),s(E,"$[]",(function(e,r){var n,i,o=this,s=o.length;if(e.$$is_range)return n=e.excl,i=e,r=e.end===S?-1:t(e.end,C("Integer"),"to_int"),e=e.begin===S?0:t(e.begin,C("Integer"),"to_int"),Math.abs(e)>s?S:(e<0&&(e+=s),r<0&&(r+=s),n&&i.end!==S||(r+=1),(r-=e)<0&&(r=0),o.substr(e,r));if(e.$$is_string)return null!=r&&h.$raise(C("TypeError")),-1!==o.indexOf(e)?e:S;if(e.$$is_regexp){var a=o.match(e);return null===a?(m["~"]=S,S):(m["~"]=C("MatchData").$new(e,a),null==r?a[0]:(r=t(r,C("Integer"),"to_int"))<0&&-r<a.length?a[r+=a.length]:r>=0&&r<a.length?a[r]:S)}return(e=t(e,C("Integer"),"to_int"))<0&&(e+=s),null==r?e>=s||e<0?S:o.substr(e,1):(r=t(r,C("Integer"),"to_int"))<0||e>s||e<0?S:o.substr(e,r)}),-2),s(E,"$b",(function(){return new String(this).$force_encoding("binary")})),s(E,"$capitalize",(function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()})),s(E,"$casecmp",(function(e){var r=this;if(!f(e["$respond_to?"]("to_str")))return S;e=t(e,C("String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(r)&&n.test(e)&&(r=r.toLowerCase(),e=e.toLowerCase()),r["$<=>"](e)})),s(E,"$casecmp?",(function(e){var t=this.$casecmp(e);return t===S?S:0===t})),s(E,"$center",(function(e,r){var n=this;if(null==r&&(r=" "),e=t(e,C("Integer"),"to_int"),r=t(r,C("String"),"to_str").$to_s(),f(r["$empty?"]())&&h.$raise(C("ArgumentError"),"zero width padding"),f(e<=n.length))return n;var i=n.$ljust(g(b(e,n.length),2).$ceil(),r);return n.$rjust(g(b(e,n.length),2).$floor(),r)+i.slice(n.length)}),-2),s(E,"$chomp",(function(e){var t,r=this;if(null==m["/"]&&(m["/"]=S),null==e&&(e=m["/"]),f(e===S||0===r.length))return r;if("\n"===(e=a["$coerce_to!"](e,C("String"),"to_str").$to_s()))t=r.replace(/\r?\n?$/,"");else if(""===e)t=r.replace(/(\r?\n)+$/,"");else if(r.length>=e.length){r.substr(r.length-e.length,e.length)===e&&(t=r.substr(0,r.length-e.length))}return null!=t?t:r}),-1),s(E,"$chop",(function(){var e=this,t=e.length;return t<=1?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)})),s(E,"$chr",(function(){return this.charAt(0)})),s(E,"$clone",(function(e){var t,r=this,n=S;return null==(t=(e=d(e)).$$smap.freeze)&&(t=S),f(t["$nil?"]())||v(t,!0)||v(t,!1)||r.$raise(R("ArgumentError"),"unexpected value for freeze: "+t.$class()),(n=new String(r)).$copy_singleton_methods(r),n.$initialize_clone(r,y(["freeze"],{freeze:t})),v(t,!0)?n.$$frozen||(n.$$frozen=!0):f(t["$nil?"]())&&r.$$frozen&&(n.$$frozen=!0),n}),-1),s(E,"$dup",(function(){var e=S;return(e=new String(this)).$initialize_dup(this),e})),s(E,"$count",(function(e){var t;0===(t=l(arguments)).length&&h.$raise(C("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r=I(t);return null===r?0:this.length-this.replace(new RegExp(r,"g"),"").length}),-1),s(E,"$delete",(function(e){var t;0===(t=l(arguments)).length&&h.$raise(C("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r=I(t);return null===r?this:this.replace(new RegExp(r,"g"),"")}),-1),s(E,"$delete_prefix",(function(e){var r=this;return e.$$is_string||(e=t(e,C("String"),"to_str")),r.slice(0,e.length)===e?r.slice(e.length):r})),s(E,"$delete_suffix",(function(e){var r=this;return e.$$is_string||(e=t(e,C("String"),"to_str")),r.slice(r.length-e.length)===e?r.slice(0,r.length-e.length):r})),s(E,"$downcase",(function(){return this.toLowerCase()})),s(E,"$each_line",(function r(n,i){var o,s,a,$,u,c,p,h,f,g,b,v,x=r.$$p||S,k=this;if(null==m["/"]&&(m["/"]=S),r.$$p=null,o=l(arguments),s=_(o),s=d(s),o.length>0&&(a=o.shift()),null==a&&(a=m["/"]),null==($=s.$$smap.chomp)&&($=!1),x===S)return k.$enum_for("each_line",a,y(["chomp"],{chomp:$}));if(a===S)return e.yield1(x,k),k;if(0===(a=t(a,C("String"),"to_str")).length){for(c=0,p=(u=k.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/)).length;c<p;c+=2)(u[c]||u[c+1])&&(v=(u[c]||"")+(u[c+1]||""),$&&(v=v.$chomp("\n")),e.yield1(x,v));return k}for(f=k.$chomp(a),g=k.length!=f.length,c=0,h=(b=f.split(a)).length;c<h;c++)v=b[c],(c<h-1||g)&&(v+=a),$&&(v=v.$chomp(a)),e.yield1(x,v);return k}),-1),s(E,"$empty?",(function(){return 0===this.length})),s(E,"$end_with?",(function(e){for(var r,n=this,i=0,o=(r=l(arguments)).length;i<o;i++){var s=t(r[i],C("String"),"to_str").$to_s();if(n.length>=s.length&&n.substr(n.length-s.length,s.length)==s)return!0}return!1}),-1),s(E,"$gsub",(function e(r,i){var o=e.$$p||S,s=this;if(e.$$p=null,void 0===i&&o===S)return s.$enum_for("gsub",r);var a,$,l,u="",c=S,_=0;for(r.$$is_regexp?r=n(r):(r=t(r,C("String"),"to_str"),r=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(a=r.exec(s))){m["~"]=S,u+=s.slice(_);break}c=C("MatchData").$new(r,a),void 0===i?(l=r.lastIndex,$=o(a[0]),r.lastIndex=l):i.$$is_hash?$=i["$[]"](a[0]).$to_s():(i.$$is_string||(i=t(i,C("String"),"to_str")),$=i.replace(/([\\]+)([0-9+&`'])/g,(function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return t.slice(1)+a[n];return"";case"&":return t.slice(1)+a[0];case"`":return t.slice(1)+s.slice(0,a.index);case"'":return t.slice(1)+s.slice(a.index+a[0].length);default:return t.slice(1)+(a[r]||"")}})).replace(/\\\\/g,"\\")),r.lastIndex===a.index?(u+=s.slice(_,a.index)+$+(s[a.index]||""),r.lastIndex+=1):u+=s.slice(_,a.index)+$,_=r.lastIndex}return m["~"]=c,u}),-2),s(E,"$hash",(function(){return this.toString()})),s(E,"$hex",(function(){return this.$to_i(16)})),s(E,"$include?",(function(e){return e.$$is_string||(e=t(e,C("String"),"to_str")),-1!==this.indexOf(e)})),s(E,"$index",(function(e,r){var i,o,s,a=this;if(void 0===r)r=0;else if((r=t(r,C("Integer"),"to_int"))<0&&(r+=a.length)<0)return S;if(e.$$is_regexp)for(s=n(e);;){if(null===(o=s.exec(a))){m["~"]=S,i=-1;break}if(o.index>=r){m["~"]=C("MatchData").$new(s,o),i=o.index;break}s.lastIndex=o.index+1}else i=0===(e=t(e,C("String"),"to_str")).length&&r>a.length?-1:a.indexOf(e,r);return-1===i?S:i}),-2),s(E,"$inspect",(function(){var e=this,t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,(function(r){return t[r]?t[r]:(r=r.charCodeAt(0))<=255&&(e.encoding["$binary?"]()||e.internal_encoding["$binary?"]())?"\\x"+("00"+r.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+r.toString(16).toUpperCase()).slice(-4)})).replace(/\#[\$\@\{]/g,"\\$&")+'"'})),s(E,"$intern",(function(){return this.toString()})),s(E,"$length",(function(){return this.length})),x(E,"size","length"),s(E,"$lines",(function e(t,r){var n,i,o,s,a=e.$$p||S,$=S;return null==m["/"]&&(m["/"]=S),e.$$p=null,n=l(arguments),i=_(n),i=d(i),n.length>0&&(o=n.shift()),null==o&&(o=m["/"]),null==(s=i.$$smap.chomp)&&(s=!1),$=u(this,"each_line",[o,y(["chomp"],{chomp:s})],a.$to_proc()),f(a)?this:$.$to_a()}),-1),s(E,"$ljust",(function(e,r){var n=this;if(null==r&&(r=" "),e=t(e,C("Integer"),"to_int"),r=t(r,C("String"),"to_str").$to_s(),f(r["$empty?"]())&&h.$raise(C("ArgumentError"),"zero width padding"),f(e<=n.length))return n;var i=-1,o="";for(e-=n.length;++i<e;)o+=r;return n+o.slice(0,e)}),-2),s(E,"$lstrip",(function(){return this.replace(/^[\u0000\s]*/,"")})),s(E,"$ascii_only?",(function(){return!!this.encoding.ascii&&/^[\x00-\x7F]*$/.test(this)})),s(E,"$match",(function e(t,r){var n=e.$$p||S;return e.$$p=null,(p(R("String"),t)||f(t["$respond_to?"]("to_str")))&&(t=C("Regexp").$new(t.$to_str())),p(C("Regexp"),t)||h.$raise(C("TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),u(t,"match",[this,r],n.$to_proc())}),-2),s(E,"$match?",(function(e,t){return(p(R("String"),e)||f(e["$respond_to?"]("to_str")))&&(e=C("Regexp").$new(e.$to_str())),p(C("Regexp"),e)||h.$raise(C("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),e["$match?"](this,t)}),-2),s(E,"$next",(function(){var e=this,t=e.length;if(0===t)return"";for(var r,n=e,i=e.search(/[a-zA-Z0-9]/),o=!1;t--;){if((r=e.charCodeAt(t))>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:o=!0,r=48;break;case 90:o=!0,r=65;break;case 122:o=!0,r=97;break;default:o=!1,r+=1}else-1===i?255===r?(o=!0,r=0):(o=!1,r+=1):o=!0;if(n=n.slice(0,t)+String.fromCharCode(r)+n.slice(t+1),o&&(0===t||t===i)){switch(r){case 65:case 97:break;default:r+=1}n=0===t?String.fromCharCode(r)+n:n.slice(0,t)+String.fromCharCode(r)+n.slice(t),o=!1}if(!o)break}return n})),s(E,"$oct",(function(){var e,t=this,r=8;return/^\s*_/.test(t)?0:(t=t.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,(function(e,t,n,i){switch(i.charAt(0)){case"+":case"-":return e;case"0":if("x"===i.charAt(1)&&"0x"===n)return e}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return t+i})),e=parseInt(t.replace(/_(?!_)/g,""),r),isNaN(e)?0:e)})),s(E,"$ord",(function(){var e=this;return"function"==typeof e.codePointAt?e.codePointAt(0):e.charCodeAt(0)})),s(E,"$partition",(function(e){var r,n,i=this;return e.$$is_regexp?null===(n=e.exec(i))?r=-1:(C("MatchData").$new(e,n),e=n[0],r=n.index):(e=t(e,C("String"),"to_str"),r=i.indexOf(e)),-1===r?[i,"",""]:[i.slice(0,r),i.slice(r,r+e.length),i.slice(r+e.length)]})),s(E,"$reverse",(function(){return this.split("").reverse().join("")})),s(E,"$rindex",(function(e,r){var i,o,s,a,$=this;if(void 0===r)r=$.length;else if((r=t(r,C("Integer"),"to_int"))<0&&(r+=$.length)<0)return S;if(e.$$is_regexp){for(o=null,s=n(e);!(null===(a=s.exec($))||a.index>r);)o=a,s.lastIndex=o.index+1;null===o?(m["~"]=S,i=-1):(C("MatchData").$new(s,o),i=o.index)}else e=t(e,C("String"),"to_str"),i=$.lastIndexOf(e,r);return-1===i?S:i}),-2),s(E,"$rjust",(function(e,r){var n=this;if(null==r&&(r=" "),e=t(e,C("Integer"),"to_int"),r=t(r,C("String"),"to_str").$to_s(),f(r["$empty?"]())&&h.$raise(C("ArgumentError"),"zero width padding"),f(e<=n.length))return n;var i=Math.floor(e-n.length),o=Math.floor(i/r.length),s=Array(o+1).join(r),a=i-s.length;return s+r.slice(0,a)+n}),-2),s(E,"$rpartition",(function(e){var r,i,o,s,a=this;if(e.$$is_regexp){for(i=null,o=n(e);null!==(s=o.exec(a));)i=s,o.lastIndex=i.index+1;null===i?r=-1:(C("MatchData").$new(o,i),e=i[0],r=i.index)}else e=t(e,C("String"),"to_str"),r=a.lastIndexOf(e);return-1===r?["","",a]:[a.slice(0,r),a.slice(r,r+e.length),a.slice(r+e.length)]})),s(E,"$rstrip",(function(){return this.replace(/[\s\u0000]*$/,"")})),s(E,"$scan",(function r(i,o){var s,a=r.$$p||S;r.$$p=null,null==(s=(o=d(o)).$$smap.no_matchdata)&&(s=!1);var $,l=[],u=S;for(i.$$is_regexp?i=n(i):(i=t(i,C("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=($=i.exec(this));)u=C("MatchData").$new(i,$,y(["no_matchdata"],{no_matchdata:s})),a===S?1==$.length?l.push($[0]):l.push(u.$captures()):1==$.length?e.yield1(a,$[0]):e.yield1(a,u.$captures()),i.lastIndex===$.index&&(i.lastIndex+=1);return s||(m["~"]=u),a!==S?this:l}),-2),s(E,"$singleton_class",(function(){return e.get_singleton_class(this)})),s(E,"$split",(function(e,r){var i=this,o=S;if(null==m[";"]&&(m[";"]=S),0===i.length)return[];if(void 0===r)r=0;else if(1===(r=a["$coerce_to!"](r,C("Integer"),"to_int")))return[i];void 0!==e&&e!==S||(e=f(o=m[";"])?o:" ");var s,$,l,u=[],c=i.toString(),_=0;if(e.$$is_regexp?e=n(e):" "===(e=t(e,C("String"),"to_str").$to_s())?(e=/\s+/gm,c=c.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(u=c.split(e)).length&&u[0]===c)return[u[0]];for(;-1!==($=u.indexOf(void 0));)u.splice($,1);if(0===r){for(;""===u[u.length-1];)u.length-=1;return u}if(s=e.exec(c),r<0){if(null!==s&&""===s[0]&&-1===e.source.indexOf("(?="))for($=0,l=s.length;$<l;$++)u.push("");return u}if(null!==s&&""===s[0])return u.splice(r-1,u.length-1,u.slice(r-1).join("")),u;if(r>=u.length)return u;for($=0;null!==s&&($++,_=e.lastIndex,$+1!==r);)s=e.exec(c);return u.splice(r-1,u.length-1,c.slice(_)),u}),-1),s(E,"$squeeze",(function(e){var t,r=this;if(0===(t=l(arguments)).length)return r.replace(/(.)\1+/g,"$1");var n=I(t);return null===n?r:r.replace(new RegExp("("+n+")\\1+","g"),"$1")}),-1),s(E,"$start_with?",(function(e){for(var r,n=0,i=(r=l(arguments)).length;n<i;n++)if(r[n].$$is_regexp){var o=r[n],s=o.exec(this);if(null!=s&&0===s.index)return m["~"]=C("MatchData").$new(o,s),!0;m["~"]=S}else{var a=t(r[n],C("String"),"to_str").$to_s();if(0===this.indexOf(a))return!0}return!1}),-1),s(E,"$strip",(function(){return this.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")})),s(E,"$sub",(function e(r,n){var i=e.$$p||S,o=this;e.$$p=null,r.$$is_regexp||(r=t(r,C("String"),"to_str"),r=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var s,a=r.exec(o);return null===a?(m["~"]=S,s=o.toString()):(C("MatchData").$new(r,a),void 0===n?(i===S&&h.$raise(C("ArgumentError"),"wrong number of arguments (1 for 2)"),s=o.slice(0,a.index)+i(a[0])+o.slice(a.index+a[0].length)):n.$$is_hash?s=o.slice(0,a.index)+n["$[]"](a[0]).$to_s()+o.slice(a.index+a[0].length):(n=(n=t(n,C("String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,(function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return t.slice(1)+a[n];return"";case"&":return t.slice(1)+a[0];case"`":return t.slice(1)+o.slice(0,a.index);case"'":return t.slice(1)+o.slice(a.index+a[0].length);default:return t.slice(1)+(a[r]||"")}})).replace(/\\\\/g,"\\"),s=o.slice(0,a.index)+n+o.slice(a.index+a[0].length))),s}),-2),s(E,"$sum",(function(e){null==e&&(e=16),e=t(e,C("Integer"),"to_int");for(var r=0,n=this.length,i=0;i<n;i++)r+=this.charCodeAt(i);return e<=0?r:r&Math.pow(2,e)-1}),-1),s(E,"$swapcase",(function(){return this.replace(/([a-z]+)|([A-Z]+)/g,(function(e,t,r){return t?e.toUpperCase():e.toLowerCase()}))})),s(E,"$to_f",(function(){if("_"===this.charAt(0))return 0;var e=parseFloat(this.replace(/_/g,""));return isNaN(e)||e==1/0||e==-1/0?0:e})),s(E,"$to_i",(function(e){null==e&&(e=10);var r,n=this.toLowerCase(),i=t(e,C("Integer"),"to_int");return(1===i||i<0||i>36)&&h.$raise(C("ArgumentError"),"invalid radix "+i),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,(function(e,t,r,n){switch(n.charAt(0)){case"+":case"-":return e;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return e}switch(r){case"0b":if(0===i||2===i)return i=2,t+n;break;case"0":case"0o":if(0===i||8===i)return i=8,t+n;break;case"0d":if(0===i||10===i)return i=10,t+n;break;case"0x":if(0===i||16===i)return i=16,t+n}return e})),r=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)}),-1),s(E,"$to_proc",(function t(){var r=S,n=S,i=S;return t.$$p=null,r=this.valueOf(),n=e.jsid(r),i=u(h,"proc",[],(function e(t){var i,o=e.$$p||S;e.$$p=null,0===(i=l(arguments)).length&&h.$raise(C("ArgumentError"),"no receiver given");var s=i[0];null==s&&(s=S);var a=s[n];return a?i=i.slice(1):(a=s.$method_missing,i[0]=r),"function"==typeof o&&(a.$$p=o),0===i.length?a.call(s):a.apply(s,i)}),-1),i.$$source_location=S,i})),s(E,"$to_s",(function(){return this.toString()})),s(E,"$tr",(function(e,r){var n,i,o,s,a,$,l,u=this;if(e=t(e,C("String"),"to_str").$to_s(),r=t(r,C("String"),"to_str").$to_s(),0==e.length||e===r)return u;var c={},_=e.split(""),d=_.length,p=r.split(""),f=p.length,m=!1,g=null;"^"===_[0]&&_.length>1&&(m=!0,_.shift(),g=p[f-1],d-=1);var b=[],v=null;for(i=!1,n=0;n<d;n++)if(s=_[n],null==v)v=s,b.push(s);else if("-"===s)"-"===v?(b.push("-"),b.push("-")):n==d-1?b.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>($=s.charCodeAt(0))&&h.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode($)+'" in string transliteration'),o=a+1;o<$;o++)b.push(String.fromCharCode(o));b.push(s),i=null,v=null}else b.push(s);if(d=(_=b).length,m)for(n=0;n<d;n++)c[_[n]]=!0;else{if(f>0){var y=[],x=null;for(i=!1,n=0;n<f;n++)if(s=p[n],null==x)x=s,y.push(s);else if("-"===s)"-"===x?(y.push("-"),y.push("-")):n==f-1?y.push("-"):i=!0;else if(i){for((a=x.charCodeAt(0))>($=s.charCodeAt(0))&&h.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode($)+'" in string transliteration'),o=a+1;o<$;o++)y.push(String.fromCharCode(o));y.push(s),i=null,x=null}else y.push(s);f=(p=y).length}var k=d-f;if(k>0){var w=f>0?p[f-1]:"";for(n=0;n<k;n++)p.push(w)}for(n=0;n<d;n++)c[_[n]]=p[n]}var A="";for(n=0,l=u.length;n<l;n++){var E=c[s=u.charAt(n)];A+=m?null==E?g:s:null!=E?E:s}return A})),s(E,"$tr_s",(function(e,r){var n,i,o,s,a,$,l,u=this;if(e=t(e,C("String"),"to_str").$to_s(),r=t(r,C("String"),"to_str").$to_s(),0==e.length)return u;var c={},_=e.split(""),d=_.length,p=r.split(""),f=p.length,m=!1,g=null;"^"===_[0]&&_.length>1&&(m=!0,_.shift(),g=p[f-1],d-=1);var b=[],v=null;for(i=!1,n=0;n<d;n++)if(s=_[n],null==v)v=s,b.push(s);else if("-"===s)"-"===v?(b.push("-"),b.push("-")):n==d-1?b.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>($=s.charCodeAt(0))&&h.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode($)+'" in string transliteration'),o=a+1;o<$;o++)b.push(String.fromCharCode(o));b.push(s),i=null,v=null}else b.push(s);if(d=(_=b).length,m)for(n=0;n<d;n++)c[_[n]]=!0;else{if(f>0){var y=[];for(i=!1,n=0;n<f;n++)if(s=p[n],null==v)v=s,y.push(s);else if("-"===s)n==f-1?y.push("-"):i=!0;else if(i){for((a=v.charCodeAt(0))>($=s.charCodeAt(0))&&h.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode($)+'" in string transliteration'),o=a+1;o<$;o++)y.push(String.fromCharCode(o));y.push(s),i=null,v=null}else y.push(s);f=(p=y).length}var x=d-f;if(x>0){var k=f>0?p[f-1]:"";for(n=0;n<x;n++)p.push(k)}for(n=0;n<d;n++)c[_[n]]=p[n]}var w="",A=null;for(n=0,l=u.length;n<l;n++){var E=c[s=u.charAt(n)];m?null==E?null==A&&(w+=g,A=!0):(w+=s,A=null):null!=E?null!=A&&A===E||(w+=E,A=E):(w+=s,A=null)}return w})),s(E,"$upcase",(function(){return this.toUpperCase()})),s(E,"$upto",(function e(r,n){var i=e.$$p||S,o=this;if(e.$$p=null,null==n&&(n=!1),i===S)return o.$enum_for("upto",r,n);var s,a,$=o.toString();if(r=t(r,C("String"),"to_str"),1===$.length&&1===r.length)for(s=$.charCodeAt(0),a=r.charCodeAt(0);s<=a&&(!n||s!==a);)i(String.fromCharCode(s)),s+=1;else if(parseInt($,10).toString()===$&&parseInt(r,10).toString()===r)for(s=parseInt($,10),a=parseInt(r,10);s<=a&&(!n||s!==a);)i(s.toString()),s+=1;else for(;$.length<=r.length&&$<=r&&(!n||$!==r);)i($),$=$.$succ();return o}),-2),s(E,"$instance_variables",(function(){return[]})),$(E,"$_load",(function(e){var t;return t=l(arguments),u(this,"new",c(t))}),-1),s(E,"$unicode_normalize",(function(e){return null==e&&(e="nfc"),f(["nfc","nfd","nfkc","nfkd"]["$include?"](e))||h.$raise(C("ArgumentError"),"Invalid normalization form "+e),this.normalize(e.$upcase())}),-1),s(E,"$unicode_normalized?",(function(e){return null==e&&(e="nfc"),this.$unicode_normalize(e)["$=="](this)}),-1),s(E,"$unpack",(function(e){return h.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")})),s(E,"$unpack1",(function(e){return h.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")})),s(E,"$freeze",(function(){var e=this;return"string"==typeof e||i(e,"$$frozen",!0),e})),s(E,"$-@",(function(){var e=this;return"string"==typeof e||e.$$frozen?e:"UTF-8"==e.encoding.name&&"UTF-8"==e.internal_encoding.name?e.toString():e.$dup().$freeze()})),s(E,"$frozen?",(function(){return"string"==typeof this||!0===this.$$frozen})),x(E,"+@","dup"),x(E,"===","=="),x(E,"byteslice","[]"),x(E,"eql?","=="),x(E,"equal?","==="),x(E,"object_id","__id__"),x(E,"slice","[]"),x(E,"succ","next"),x(E,"to_str","to_s"),x(E,"to_sym","intern"),a.$pristine(E,"initialize")}(0,0,A),k(A[0],"Symbol",E("String"))},Opal.modules["corelib/enumerable"]=function(e){var t=e.truthy,r=e.coerce_to,n=e.yield1,i=e.yieldX,o=e.deny_frozen_access,s=e.module,a=e.send,$=e.slice,l=e.to_a,u=e.Opal,c=e.thrower,_=e.def,d=e.Kernel,p=e.return_val,h=e.rb_gt,f=e.rb_times,m=e.rb_lt,g=e.eqeq,b=e.rb_plus,v=e.rb_minus,y=e.rb_divide,x=e.rb_le,k=e.hash2,w=e.lambda,A=e.not,E=e.alias,S=e.nil,C=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(O,R){var I=s("::","Enumerable"),T=[I].concat(R),z=e.$r(T);function F(e){return 0===e.length&&(e=[S]),e.length>1&&(e=[e]),e}return _(I,"$all?",(function r(n){try{var i=c("return"),o=r.$$p||S,s=this;return r.$$p=null,t(void 0!==n)?a(s,"each",[],(function(e){var r;if(r=F($(arguments)),t(a(n,"public_send",["==="].concat(l(r)))))return S;i.$throw(!1)}),{$$arity:-1,$$ret:i}):a(s,"each",[],o!==S?function(r){var n;if(n=$(arguments),t(e.yieldX(o,l(n))))return S;i.$throw(!1)}:function(e){var r;if(r=$(arguments),t(u.$destructure(r)))return S;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$any?",(function r(n){try{var i=c("return"),o=r.$$p||S,s=this;return r.$$p=null,t(void 0!==n)?a(s,"each",[],(function(e){var r;if(r=F($(arguments)),!t(a(n,"public_send",["==="].concat(l(r)))))return S;i.$throw(!0)}),{$$arity:-1,$$ret:i}):a(s,"each",[],o!==S?function(r){var n;if(n=$(arguments),!t(e.yieldX(o,l(n))))return S;i.$throw(!0)}:function(e){var r;if(r=$(arguments),!t(u.$destructure(r)))return S;i.$throw(!0)},{$$arity:-1,$$ret:i}),!1}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$chunk",(function e(){var t=e.$$p||S,r=this;return e.$$p=null,t===S?a(r,"to_enum",["chunk"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r}):a(C("Enumerator"),"new",[],(function e(r){var i=null==e.$$s?this:e.$$s;null==r&&(r=S);var o=S,s=[];function a(){s.length>0&&r.$yield(o,s)}i.$each.$$p=function(e){var r=n(t,e);r===S?(a(),s=[],o=S):(o===S||o===r?s.push(e):(a(),s=[e]),o=r)},i.$each(),a()}),{$$s:r})})),_(I,"$chunk_while",(function t(){var r=t.$$p||S;return t.$$p=null,r===S&&d.$raise(C("ArgumentError"),"no block given"),a(this,"slice_when",[],(function(t,n){return null==t&&(t=S),null==n&&(n=S),e.yieldX(r,[t,n])["$!"]()}))})),_(I,"$collect",(function e(){var t=e.$$p||S,r=this;if(e.$$p=null,t===S)return a(r,"enum_for",["collect"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r});var n=[];return r.$each.$$p=function(){var e=i(t,arguments);n.push(e)},r.$each(),n})),_(I,"$collect_concat",(function e(){var t=e.$$p||S,r=this;return e.$$p=null,t===S?a(r,"enum_for",["collect_concat"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r}):a(r,"map",[],t.$to_proc()).$flatten(1)})),_(I,"$compact",(function(){return this.$to_a().$compact()})),_(I,"$count",(function e(r){var n=e.$$p||S,o=S;return e.$$p=null,o=0,null!=r&&n!==S&&this.$warn("warning: given block not used"),t(null!=r)?n=a(d,"proc",[],(function(e){var t;return t=$(arguments),u.$destructure(t)["$=="](r)}),-1):t(n["$nil?"]())&&(n=a(d,"proc",[],p(!0))),a(this,"each",[],(function(e){var r;return r=$(arguments),t(i(n,r))?o++:S}),-1),o}),-1),_(I,"$cycle",(function e(r){var i=e.$$p||S,o=this;if(e.$$p=null,null==r&&(r=S),i===S)return a(o,"enum_for",["cycle",r],(function e(){var n=null==e.$$s?this:e.$$s;return t(r["$nil?"]())?t(n["$respond_to?"]("size"))?C(C("Float"),"INFINITY"):S:(r=u["$coerce_to!"](r,C("Integer"),"to_int"),t(h(r,0))?f(n.$enumerator_size(),r):0)}),{$$s:o});if(!t(r["$nil?"]())&&(r=u["$coerce_to!"](r,C("Integer"),"to_int"),t(r<=0)))return S;var s,$,l=[];if(o.$each.$$p=function(){var e=u.$destructure(arguments);n(i,e),l.push(e)},o.$each(),0===l.length)return S;if(r===S)for(;;)for(s=0,$=l.length;s<$;s++)n(i,l[s]);else for(;r>1;){for(s=0,$=l.length;s<$;s++)n(i,l[s]);r--}}),-1),_(I,"$detect",(function r(n){try{var i=c("return"),o=r.$$p||S;return r.$$p=null,o===S?this.$enum_for("detect",n):(a(this,"each",[],(function(r){var n,s;if(n=$(arguments),s=u.$destructure(n),!t(e.yield1(o,s)))return S;i.$throw(s)}),{$$arity:-1,$$ret:i}),void 0!==n?"function"==typeof n?n():n:S)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$drop",(function(e){e=r(e,C("Integer"),"to_int"),t(e<0)&&d.$raise(C("ArgumentError"),"attempt to drop negative size");var n=[],i=0;return this.$each.$$p=function(){e<=i&&n.push(u.$destructure(arguments)),i++},this.$each(),n})),_(I,"$drop_while",(function e(){var r=e.$$p||S,i=this;if(e.$$p=null,r===S)return i.$enum_for("drop_while");var o=[],s=!0;return i.$each.$$p=function(){var e=u.$destructure(arguments);if(s){var i=n(r,e);t(i)||(s=!1,o.push(e))}else o.push(e)},i.$each(),o})),_(I,"$each_cons",(function e(r){var i=e.$$p||S,o=this;if(e.$$p=null,t(1!=arguments.length)&&d.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),r=u.$try_convert(r,C("Integer"),"to_int"),t(r<=0)&&d.$raise(C("ArgumentError"),"invalid size"),i===S)return a(o,"enum_for",["each_cons",r],(function e(){var n=S;return n=(null==e.$$s?this:e.$$s).$enumerator_size(),t(n["$nil?"]())?S:g(n,0)||t(m(n,r))?0:b(v(n,r),1)}),{$$s:o});var s=[];return o.$each.$$p=function(){var e=u.$destructure(arguments);s.push(e),s.length>r&&s.shift(),s.length==r&&n(i,s.slice(0,r))},o.$each(),o})),_(I,"$each_entry",(function e(t){var r,i=e.$$p||S,o=this;return e.$$p=null,r=$(arguments),i===S?a(o,"to_enum",["each_entry"].concat(l(r)),(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:o}):(o.$each.$$p=function(){var e=u.$destructure(arguments);n(i,e)},o.$each.apply(o,r),o)}),-1),_(I,"$each_slice",(function e(i){var o=e.$$p||S,s=this;if(e.$$p=null,i=r(i,C("Integer"),"to_int"),t(i<=0)&&d.$raise(C("ArgumentError"),"invalid slice size"),o===S)return a(s,"enum_for",["each_slice",i],(function e(){var r=null==e.$$s?this:e.$$s;return t(r["$respond_to?"]("size"))?y(r.$size(),i).$ceil():S}),{$$s:s});var $=[];return s.$each.$$p=function(){var e=u.$destructure(arguments);$.push(e),$.length===i&&(n(o,$),$=[])},s.$each(),$.length>0&&n(o,$),s})),_(I,"$each_with_index",(function e(t){var r,n=e.$$p||S,i=this;if(e.$$p=null,r=$(arguments),n===S)return a(i,"enum_for",["each_with_index"].concat(l(r)),(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=0;return i.$each.$$p=function(){var e=u.$destructure(arguments);n(e,o),o++},i.$each.apply(i,r),i}),-1),_(I,"$each_with_object",(function e(t){var r=e.$$p||S,n=this;return e.$$p=null,r===S?a(n,"enum_for",["each_with_object",t],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n}):(n.$each.$$p=function(){var e=u.$destructure(arguments);r(e,t)},n.$each(),t)})),_(I,"$entries",(function(e){var t,r=this;t=$(arguments);var n=[];return r.$each.$$p=function(){n.push(u.$destructure(arguments))},r.$each.apply(r,t),n}),-1),_(I,"$filter_map",(function e(){var t=e.$$p||S,r=this;return e.$$p=null,t===S?a(r,"enum_for",["filter_map"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r}):a(a(r,"map",[],t.$to_proc()),"select",[],"itself".$to_proc())})),_(I,"$find_all",(function e(){var r=e.$$p||S,i=this;if(e.$$p=null,r===S)return a(i,"enum_for",["find_all"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[];return i.$each.$$p=function(){var e=u.$destructure(arguments),i=n(r,e);t(i)&&o.push(e)},i.$each(),o})),_(I,"$find_index",(function r(n){try{var i=c("return"),o=r.$$p||S,s=this,_=S;return r.$$p=null,t(void 0===n&&o===S)?s.$enum_for("find_index"):(null!=n&&o!==S&&s.$warn("warning: given block not used"),_=0,t(null!=n)?a(s,"each",[],(function(e){var t;return t=$(arguments),g(u.$destructure(t),n)&&i.$throw(_),_+=1}),{$$arity:-1,$$ret:i}):a(s,"each",[],(function(r){var n;return n=$(arguments),t(e.yieldX(o,l(n)))&&i.$throw(_),_+=1}),{$$arity:-1,$$ret:i}),S)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$first",(function(e){try{var n=c("return"),i=S,o=S;return t(void 0===e)?a(this,"each",[],(function(e){null==e&&(e=S),n.$throw(e)}),{$$ret:n}):(i=[],e=r(e,C("Integer"),"to_int"),t(e<0)&&d.$raise(C("ArgumentError"),"attempt to take negative size"),t(0==e)?[]:(o=0,a(this,"each",[],(function(r){var s;if(s=$(arguments),i.push(u.$destructure(s)),!t(e<=++o))return S;n.$throw(i)}),{$$arity:-1,$$ret:n}),i))}catch(e){if(e===n)return e.$v;throw e}}),-1),_(I,"$grep",(function r(n){var i=r.$$p||S,o=S;return r.$$p=null,o=[],a(this,"each",[],(function(r){var s,u;return u=F(s=$(arguments)),t(a(n,"__send__",["==="].concat(l(u))))?(i!==S?(t(h(s.$length(),1))&&(s=[s]),s=e.yieldX(i,l(s))):t(x(s.$length(),1))&&(s=s["$[]"](0)),o.$push(s)):S}),-1),o})),_(I,"$grep_v",(function r(n){var i=r.$$p||S,o=S;return r.$$p=null,o=[],a(this,"each",[],(function(r){var s,u;return u=F(s=$(arguments)),t(a(n,"__send__",["==="].concat(l(u))))?S:(i!==S?(t(h(s.$length(),1))&&(s=[s]),s=e.yieldX(i,l(s))):t(x(s.$length(),1))&&(s=s["$[]"](0)),o.$push(s))}),-1),o})),_(I,"$group_by",(function e(){var r,i=e.$$p||S,o=this,s=S,$=S;return e.$$p=null,i===S?a(o,"enum_for",["group_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:o}):(s=k([],{}),o.$each.$$p=function(){var e=u.$destructure(arguments),o=n(i,e);(t($=s["$[]"](o))?$:(r=[o,[]],a(s,"[]=",r),r[r.length-1]))["$<<"](e)},o.$each(),s)})),_(I,"$include?",(function(e){try{var t=c("return");return a(this,"each",[],(function(r){var n;if(n=$(arguments),!g(u.$destructure(n),e))return S;t.$throw(!0)}),{$$arity:-1,$$ret:t}),!1}catch(e){if(e===t)return e.$v;throw e}})),_(I,"$inject",(function e(t,r){var n=e.$$p||S,o=this;e.$$p=null;var s=t;return n!==S&&void 0===r?o.$each.$$p=function(){var e=u.$destructure(arguments);void 0!==s?(e=i(n,[s,e]),s=e):s=e}:(void 0===r&&(C("Symbol")["$==="](t)||d.$raise(C("TypeError"),t.$inspect()+" is not a Symbol"),r=t,s=void 0),o.$each.$$p=function(){var e=u.$destructure(arguments);s=void 0!==s?s.$__send__(r,e):e}),o.$each(),null==s?S:s}),-1),_(I,"$lazy",(function(){return a(C(C("Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(function(e,t){var r;return null==e&&(e=S),r=$(arguments,1),a(e,"yield",l(r))}),-2)})),_(I,"$enumerator_size",(function(){return t(this["$respond_to?"]("size"))?this.$size():S})),_(I,"$max",(function e(t){var n,o,s=e.$$p||S,$=this;return e.$$p=null,void 0===t||t===S?($.$each.$$p=function(){var e=u.$destructure(arguments);void 0!==n?((o=s!==S?i(s,[e,n]):e["$<=>"](n))===S&&d.$raise(C("ArgumentError"),"comparison failed"),o>0&&(n=e)):n=e},$.$each(),void 0===n?S:n):(t=r(t,C("Integer"),"to_int"),a($,"sort",[],s.$to_proc()).$reverse().$first(t))}),-1),_(I,"$max_by",(function e(r){var i,o,s=e.$$p||S,$=this;return e.$$p=null,null==r&&(r=S),t(s)?t(r["$nil?"]())?($.$each.$$p=function(){var e=u.$destructure(arguments),t=n(s,e);if(void 0===i)return i=e,void(o=t);t["$<=>"](o)>0&&(i=e,o=t)},$.$each(),void 0===i?S:i):a($,"sort_by",[],s.$to_proc()).$reverse().$take(r):a($,"enum_for",["max_by",r],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:$})}),-1),_(I,"$min",(function r(n){var i,o=r.$$p||S,s=this;return r.$$p=null,null==n&&(n=S),t(n["$nil?"]())?(s.$each.$$p=o!==S?function(){var e=u.$destructure(arguments);if(void 0!==i){var t=o(e,i);t===S&&d.$raise(C("ArgumentError"),"comparison failed"),t<0&&(i=e)}else i=e}:function(){var e=u.$destructure(arguments);void 0!==i?u.$compare(e,i)<0&&(i=e):i=e},s.$each(),void 0===i?S:i):o!==S?a(s,"sort",[],(function(t,r){return null==t&&(t=S),null==r&&(r=S),e.yieldX(o,[t,r])})).$take(n):s.$sort().$take(n)}),-1),_(I,"$min_by",(function e(r){var i,o,s=e.$$p||S,$=this;return e.$$p=null,null==r&&(r=S),t(s)?t(r["$nil?"]())?($.$each.$$p=function(){var e=u.$destructure(arguments),t=n(s,e);if(void 0===i)return i=e,void(o=t);t["$<=>"](o)<0&&(i=e,o=t)},$.$each(),void 0===i?S:i):a($,"sort_by",[],s.$to_proc()).$take(r):a($,"enum_for",["min_by",r],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:$})}),-1),_(I,"$minmax",(function e(){var r,n=e.$$p||S;e.$$p=null,n=t(r=n)?r:a(d,"proc",[],(function(e,t){return null==e&&(e=S),null==t&&(t=S),e["$<=>"](t)}));var i=S,o=S,s=!0;return this.$each.$$p=function(){var e=u.$destructure(arguments);if(s)i=o=e,s=!1;else{var t=n.$call(i,e);t===S?d.$raise(C("ArgumentError"),"comparison failed"):t>0&&(i=e);var r=n.$call(o,e);r===S?d.$raise(C("ArgumentError"),"comparison failed"):r<0&&(o=e)}},this.$each(),[i,o]})),_(I,"$minmax_by",(function e(){var r=e.$$p||S,i=this;if(e.$$p=null,!t(r))return a(i,"enum_for",["minmax_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o,s,$=S,l=S;return i.$each.$$p=function(){var e=u.$destructure(arguments),t=n(r,e);(void 0===o||t["$<=>"](o)<0)&&($=e,o=t),(void 0===s||t["$<=>"](s)>0)&&(l=e,s=t)},i.$each(),[$,l]})),_(I,"$none?",(function r(n){try{var i=c("return"),o=r.$$p||S,s=this;return r.$$p=null,t(void 0!==n)?a(s,"each",[],(function(e){var r;if(r=F($(arguments)),!t(a(n,"public_send",["==="].concat(l(r)))))return S;i.$throw(!1)}),{$$arity:-1,$$ret:i}):a(s,"each",[],o!==S?function(r){var n;if(n=$(arguments),!t(e.yieldX(o,l(n))))return S;i.$throw(!1)}:function(e){var r,n;if(r=$(arguments),n=u.$destructure(r),!t(n))return S;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$one?",(function r(n){try{var i=c("return"),o=r.$$p||S,s=this,_=S;return r.$$p=null,_=0,t(void 0!==n)?a(s,"each",[],(function(e){var r;return r=F($(arguments)),t(a(n,"public_send",["==="].concat(l(r))))?(_=b(_,1),t(h(_,1))?void i.$throw(!1):S):S}),{$$arity:-1,$$ret:i}):a(s,"each",[],o!==S?function(r){var n;return n=$(arguments),t(e.yieldX(o,l(n)))?(_=b(_,1),t(h(_,1))?void i.$throw(!1):S):S}:function(e){var r;return r=$(arguments),t(u.$destructure(r))?(_=b(_,1),t(h(_,1))?void i.$throw(!1):S):S},{$$arity:-1,$$ret:i}),_["$=="](1)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$partition",(function e(){var r=e.$$p||S,i=this;if(e.$$p=null,r===S)return a(i,"enum_for",["partition"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[],s=[];return i.$each.$$p=function(){var e=u.$destructure(arguments),i=n(r,e);t(i)?o.push(e):s.push(e)},i.$each(),[o,s]})),_(I,"$reject",(function e(){var r=e.$$p||S,i=this;if(e.$$p=null,r===S)return a(i,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[];return i.$each.$$p=function(){var e=u.$destructure(arguments),i=n(r,e);t(i)||o.push(e)},i.$each(),o})),_(I,"$reverse_each",(function e(){var t=e.$$p||S,r=this;if(e.$$p=null,t===S)return a(r,"enum_for",["reverse_each"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r});var n=[];r.$each.$$p=function(){n.push(arguments)},r.$each();for(var o=n.length-1;o>=0;o--)i(t,n[o]);return n})),_(I,"$slice_before",(function e(r){var i=e.$$p||S;return e.$$p=null,t(void 0===r&&i===S)&&d.$raise(C("ArgumentError"),"both pattern and block are given"),t(void 0!==r&&i!==S||arguments.length>1)&&d.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),a(C("Enumerator"),"new",[],(function e(o){var s=null==e.$$s?this:e.$$s;null==o&&(o=S);var a=[];s.$each.$$p=i!==S?void 0===r?function(){var e=u.$destructure(arguments),r=n(i,e);t(r)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)}:function(){var e=u.$destructure(arguments),n=i(e,r.$dup());t(n)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)}:function(){var e=u.$destructure(arguments),n=r["$==="](e);t(n)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)},s.$each(),a.length>0&&o["$<<"](a)}),{$$s:this})}),-1),_(I,"$slice_after",(function e(r){var i=e.$$p||S;return e.$$p=null,t(void 0===r&&i===S)&&d.$raise(C("ArgumentError"),"both pattern and block are given"),t(void 0!==r&&i!==S||arguments.length>1)&&d.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),t(void 0!==r)&&(i=a(d,"proc",[],(function(e){return null==e&&(e=S),r["$==="](e)}))),a(C("Enumerator"),"new",[],(function e(r){var o,s=null==e.$$s?this:e.$$s;null==r&&(r=S),s.$each.$$p=function(){var e=u.$destructure(arguments),s=n(i,e);null==o&&(o=[]),t(s)?(o.push(e),r.$yield(o),o=null):o.push(e)},s.$each(),null!=o&&r.$yield(o)}),{$$s:this})}),-1),_(I,"$slice_when",(function e(){var r=e.$$p||S;return e.$$p=null,r===S&&d.$raise(C("ArgumentError"),"wrong number of arguments (0 for 1)"),a(C("Enumerator"),"new",[],(function e(n){var o=null==e.$$s?this:e.$$s;null==n&&(n=S);var s=S,a=S;o.$each_cons.$$p=function(){var e=u.$destructure(arguments),o=e[0],$=e[1],l=i(r,[o,$]);a=$,s===S&&(s=[]),t(l)?(s.push(o),n.$yield(s),s=[]):s.push(o)},o.$each_cons(2),s!==S&&(s.push(a),n.$yield(s))}),{$$s:this})})),_(I,"$sort",(function e(){var t,r=e.$$p||S;return e.$$p=null,t=this.$to_a(),r===S&&(r=w((function(e,t){return null==e&&(e=S),null==t&&(t=S),e["$<=>"](t)}))),a(t,"sort",[],r.$to_proc())})),_(I,"$sort_by",(function t(){var r,n=t.$$p||S,i=this;return t.$$p=null,n===S?a(i,"enum_for",["sort_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i}):(r=a(i,"map",[],(function(){var t;return t=u.$destructure(arguments),[e.yield1(n,t),t]})),a(r,"sort!",[],(function(e,t){return null==e&&(e=S),null==t&&(t=S),e[0]["$<=>"](t[0])})),a(r,"map!",[],(function(e){return null==e&&(e=S),e[1]})))})),_(I,"$sum",(function r(n){var i=r.$$p||S,o=S,s=S;return r.$$p=null,null==n&&(n=0),o=n,s=0,a(this,"each",[],(function(r){var n,a=S,c=S,_=S;return n=$(arguments),a=i!==S?e.yieldX(i,l(n)):u.$destructure(n),A([C(C("Float"),"INFINITY"),C(C("Float"),"INFINITY")["$-@"]()]["$include?"](a))&&t(a["$respond_to?"]("-"))?(c=v(a,s),_=b(o,c),s=v(v(_,o),c),o=_):o=b(o,a)}),-1),o}),-1),_(I,"$take",(function(e){return this.$first(e)})),_(I,"$take_while",(function r(){try{var n=c("return"),i=r.$$p||S,o=S;return r.$$p=null,t(i)?(o=[],a(this,"each",[],(function(r){var s,a;return s=$(arguments),a=u.$destructure(s),t(e.yield1(i,a))||n.$throw(o),o.push(a)}),{$$arity:-1,$$ret:n})):this.$enum_for("take_while")}catch(e){if(e===n)return e.$v;throw e}})),_(I,"$uniq",(function r(){var n=r.$$p||S,i=S;return r.$$p=null,i=k([],{}),a(this,"each",[],(function(r){var o,s,l,c;return o=$(arguments),l=u.$destructure(o),c=n!==S?e.yield1(n,l):l,t(i["$key?"](c))?S:(a(i,"[]=",s=[c,l]),s[s.length-1])}),-1),i.$values()})),_(I,"$tally",(function(e){var r;return e&&e!==S&&o(e),r=a(a(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),t(e)?(a(r,"each",[],(function(t,r){var n;return null==t&&(t=S),null==r&&(r=S),n=[t,b(e.$fetch(t,0),r)],a(e,"[]=",n),n[n.length-1]})),e):r}),-1),_(I,"$to_h",(function t(r){var n,i=t.$$p||S,o=this;if(t.$$p=null,n=$(arguments),i!==S)return a(a(o,"map",[],i.$to_proc()),"to_h",l(n));var s=k([],{});return o.$each.$$p=function(){var t,r,n=u.$destructure(arguments),i=u["$coerce_to?"](n,C("Array"),"to_ary");i.$$is_array||d.$raise(C("TypeError"),"wrong element type "+i.$class()+" (expected array)"),2!==i.length&&d.$raise(C("ArgumentError"),"wrong array length (expected 2, was "+i.$length()+")"),t=i[0],r=i[1],e.hash_put(s,t,r)},o.$each.apply(o,n),s}),-1),_(I,"$to_set",(function e(t,r){var n,i,o=e.$$p||S,s=this;return e.$$p=null,(n=$(arguments)).length>0&&(i=n.shift()),null==i&&(i=z("Set")),a(i,"new",[s].concat(l(n)),o.$to_proc())}),-1),_(I,"$zip",(function e(t){var r;return e.$$p=null,r=$(arguments),a(this.$to_a(),"zip",l(r))}),-1),E(I,"find","detect"),E(I,"filter","find_all"),E(I,"flat_map","collect_concat"),E(I,"map","collect"),E(I,"member?","include?"),E(I,"reduce","inject"),E(I,"select","find_all"),E(I,"to_a","entries")}(0,[])},Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var t=e.klass,r=e.truthy,n=e.to_a,i=e.eqeq,o=e.Kernel,s=e.def,a=e.rb_gt,$=e.rb_lt,l=e.rb_le,u=e.rb_ge,c=e.rb_plus,_=e.rb_minus,d=e.eqeqeq,p=e.not,h=e.rb_times,f=e.rb_divide,m=e.alias,g=e.nil,b=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(v,y,x){var k=t("::",null,"Enumerator"),w=[k].concat(x);return function(v,y,x){var k=t(v,y,"ArithmeticSequence"),w=[k].concat(x),A=e.$r(w),E=k.$$prototype;E.step_arg2=E.receiver_num=E.step_arg1=E.step=E.range=E.topfx=E.bypfx=E.creation_method=E.skipped_arg=g,e.prop(k.$$prototype,"$$is_arithmetic_seq",!0);var S=1/0;return s(k,"$initialize",(function(t,s,a){var $,l=this,u=g;return null==a&&(a="step"),l.creation_method=a,r(t["$is_a?"](b("Array")))?($=[].concat(n(t)),l.step_arg1=null==$[0]?g:$[0],l.step_arg2=null==$[1]?g:$[1],l.topfx=null==$[2]?g:$[2],l.bypfx=null==$[3]?g:$[3],l.receiver_num=s,l.step=1,l.range=r(l.step_arg2)?(l.step=l.step_arg2,e.Range.$new(l.receiver_num,l.step_arg1,!1)):r(l.step_arg1)?e.Range.$new(l.receiver_num,l.step_arg1,!1):e.Range.$new(l.receiver_num,g,!1)):(r(s)||(l.skipped_arg=!0),$=[t,r(u=s)?u:1],l.range=$[0],l.step=$[1]),l.object=l,i(l.step,0)&&o.$raise(A("ArgumentError"),"step can't be 0"),r(l.step["$respond_to?"]("to_int"))?g:o.$raise(A("ArgumentError"),"no implicit conversion of "+l.step.$class()+" into Integer")}),-2),k.$attr_reader("step"),s(k,"$begin",(function(){return this.range.$begin()})),s(k,"$end",(function(){return this.range.$end()})),s(k,"$exclude_end?",(function(){return this.range["$exclude_end?"]()})),s(k,"$_lesser_than_end?",(function(e){var t,n,i=this;return t=r(n=i.$end())?n:S,r(a(i.$step(),0))?r(i["$exclude_end?"]())?$(e,t):l(e,t):r(i["$exclude_end?"]())?a(e,t):u(e,t)})),s(k,"$_greater_than_begin?",(function(e){var t,n;return t=r(n=this.$begin())?n:S["$-@"](),r(a(this.$step(),0))?a(e,t):$(e,t)})),s(k,"$first",(function(e){var t=this,n=g,i=g,o=g;if(n=r(i=t.$begin())?i:S["$-@"](),!r(e))return r(t["$_lesser_than_end?"](n))?n:g;for(o=[];r(r(i=t["$_lesser_than_end?"](n))?a(e,0):i);)o["$<<"](n),n=c(n,t.$step()),e=_(e,1);return o}),-1),s(k,"$each",(function t(){var n,i=t.$$p||g,s=this,a=g;if(t.$$p=null,i===g)return s;for(d(g,s.$begin())&&o.$raise(A("TypeError"),"nil can't be coerced into Integer"),a=r(n=s.$begin())?n:S["$-@"]();r(s["$_lesser_than_end?"](a));)e.yield1(i,a),a=c(a,s.$step());return s})),s(k,"$last",(function(e){var t=this,n=g,i=g,s=g;if(d(S,n=t.$end())||d(S["$-@"](),n)?o.$raise(b("FloatDomainError"),t.$end()):d(g,n)&&o.$raise(b("RangeError"),"cannot get the last element of endless arithmetic sequence"),i=_(t.$end(),_(t.$end(),t.$begin())["$%"](t.$step())),r(t["$_lesser_than_end?"](i))||(i=_(i,t.$step())),!r(e))return r(t["$_greater_than_begin?"](i))?i:g;for(s=[];r(r(n=t["$_greater_than_begin?"](i))?a(e,0):n);)s["$<<"](i),i=_(i,t.$step()),e=_(e,1);return s.$reverse()}),-1),s(k,"$size",(function(){var e,t=this,n=g;return e=r(a(t.$step(),0))?1:-1,p(t["$_lesser_than_end?"](t.$begin()))?0:r([S["$-@"](),S]["$include?"](t.$step()))?1:r([h(S["$-@"](),e),g]["$include?"](t.$begin()))||r([h(S,e),g]["$include?"](t.$end()))?S:(n=_(t.$end(),_(t.$end(),t.$begin())["$%"](t.$step())),r(t["$_lesser_than_end?"](n))||(n=_(n,t.$step())),c(f(_(n,t.$begin()),t.$step()).$abs().$to_i(),1))})),s(k,"$==",(function(e){var t,n,i,o,s=this;return r(t=r(n=r(i=r(o=s.$class()["$=="](e.$class()))?s.$begin()["$=="](e.$begin()):o)?s.$end()["$=="](e.$end()):i)?s.$step()["$=="](e.$step()):n)?s["$exclude_end?"]()["$=="](e["$exclude_end?"]()):t})),s(k,"$hash",(function(){var e=this;return[e.$begin(),e.$end(),e.$step(),e["$exclude_end?"]()].$hash()})),s(k,"$inspect",(function(){var e=this,t=g;return r(e.receiver_num)?(t=r(e.step_arg2)?"("+e.topfx+e.step_arg1.$inspect()+", "+e.bypfx+e.step_arg2.$inspect()+")":r(e.step_arg1)?"("+e.topfx+e.step_arg1.$inspect()+")":g,"("+e.receiver_num.$inspect()+"."+e.creation_method+t+")"):(t=r(e.skipped_arg)?g:"("+e.step+")","(("+e.range.$inspect()+")."+e.creation_method+t+")")})),m(k,"===","=="),m(k,"eql?","==")}(k,k,w)}(0,0,[])},Opal.modules["corelib/enumerator/chain"]=function(e){var t,r=e.deny_frozen_access,n=e.klass,i=e.slice,o=e.def,s=e.send,a=e.to_a,$=e.truthy,l=e.rb_plus,u=e.thrower,c=e.nil,_=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(e,t){var d=n(e,t,"Chain"),p=d.$$prototype;return p.enums=p.iterated=c,o(d,"$initialize",(function(e){var t,n=this;return t=i(arguments),r(n),n.enums=t,n.iterated=[],n.object=n}),-1),o(d,"$each",(function e(t){var r,n,o=e.$$p||c,$=this;return e.$$p=null,r=i(arguments),n=r,o===c?s($,"to_enum",["each"].concat(a(n)),(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:$}):(s($.enums,"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.iterated&&(r.iterated=c),null==t&&(t=c),r.iterated["$<<"](t),s(t,"each",a(n),o.$to_proc())}),{$$s:$}),$)}),-1),o(d,"$size",(function(e){try{var t,r,n=u("return"),o=c;return t=i(arguments),r=t,o=0,s(this.enums,"each",[],(function(e){var t;return null==e&&(e=c),t=s(e,"size",a(r)),$([c,_(_("Float"),"INFINITY")]["$include?"](t))&&n.$throw(t),o=l(o,t)}),{$$ret:n}),o}catch(e){if(e===n)return e.$v;throw e}}),-1),o(d,"$rewind",(function(){var e=this;return s(e.iterated,"reverse_each",[],(function(e){return null==e&&(e=c),$(e["$respond_to?"]("rewind"))?e.$rewind():c})),e.iterated=[],e})),o(d,"$inspect",(function(){return"#<Enumerator::Chain: "+this.enums.$inspect()+">"}))}(t=n("::",null,"Enumerator"),t)},Opal.modules["corelib/enumerator/generator"]=function(e){var t=e.deny_frozen_access,r=e.klass,n=e.truthy,i=e.Kernel,o=e.def,s=e.slice,a=e.send,$=[],l=e.nil,u=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function($,c,_){var d=[r($,null,"Enumerator")].concat(_);return function($,c,_){var d=r($,null,"Generator"),p=[d].concat(_),h=e.$r(p);return d.$$prototype.block=l,d.$include(u("Enumerable")),o(d,"$initialize",(function e(){var r=e.$$p||l;return e.$$p=null,t(this),n(r)||i.$raise(u("LocalJumpError"),"no block given"),this.block=r})),o(d,"$each",(function t(r){var n,i,o=t.$$p||l;t.$$p=null,n=s(arguments),i=a(h("Yielder"),"new",[],o.$to_proc());try{n.unshift(i),e.yieldX(this.block,n)}catch(e){if(e&&"breaker"==e.$thrower_type)return e.$v;throw e}return this}),-1)}(d[0],0,d)}($[0],0,$)},Opal.modules["corelib/enumerator/lazy"]=function(e){var t=e.truthy,r=e.coerce_to,n=e.yield1,i=e.yieldX,o=e.deny_frozen_access,s=e.klass,a=e.slice,$=e.send2,l=e.find_super,u=e.to_a,c=e.defs,_=e.Kernel,d=e.send,p=e.def,h=e.return_self,f=e.Opal,m=e.rb_lt,g=e.eqeqeq,b=e.rb_plus,v=e.alias,y=e.nil,x=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(k,w,A){var E=s("::",null,"Enumerator"),S=[E].concat(A);return function(k,w,A){var E=s(k,w,"Lazy"),S=[E].concat(A),C=e.$r(S);return E.$$prototype.enumerator=y,s(E,x("Exception"),"StopLazyError"),c(E,"$for",(function e(t,r){var n,i=e.$$p||y,o=y;return e.$$p=null,n=a(arguments,1),(o=$(this,l(this,"for",e,!1,!0),"for",[t].concat(u(n)),i)).enumerator=t,o}),-2),p(E,"$initialize",(function t(r,n){var s=t.$$p||y,c=this;return t.$$p=null,null==n&&(n=y),o(c),s===y&&_.$raise(x("ArgumentError"),"tried to call lazy new without a block"),c.enumerator=r,$(c,l(c,"initialize",t,!1,!0),"initialize",[n],(function(t,n){var o;null==t&&(t=y),o=a(arguments,1);try{return d(r,"each",u(o),(function(e){var r;(r=a(arguments)).unshift(t),i(s,r)}),-1)}catch(t){if(!e.rescue(t,[C("StopLazyError")]))throw t;try{return y}finally{e.pop_exception()}}}),-2)}),-2),p(E,"$lazy",h),p(E,"$collect",(function e(){var r=e.$$p||y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy map without a block"),d(C("Lazy"),"new",[this,this.$enumerator_size()],(function(e,t){var n;null==e&&(e=y),n=a(arguments,1);var o=i(r,n);e.$yield(o)}),-2)})),p(E,"$collect_concat",(function e(){var r=e.$$p||y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy map without a block"),d(C("Lazy"),"new",[this,y],(function(e,t){var n;null==e&&(e=y),n=a(arguments,1);var o=i(r,n);o["$respond_to?"]("force")&&o["$respond_to?"]("each")?d(o,"each",[],(function(t){return null==t&&(t=y),e.$yield(t)})):f.$try_convert(o,x("Array"),"to_ary")===y?e.$yield(o):d(o,"each",[],(function(t){return null==t&&(t=y),e.$yield(t)}))}),-2)})),p(E,"$drop",(function(e){var n,i,o=y;return e=r(e,x("Integer"),"to_int"),t(m(e,0))&&_.$raise(x("ArgumentError"),"attempt to drop negative size"),n=this.$enumerator_size(),i=g(x("Integer"),n)&&t(m(e,n))?e:n,o=0,d(C("Lazy"),"new",[this,i],(function(r,n){var i;return null==r&&(r=y),i=a(arguments,1),t(m(o,e))?o=b(o,1):d(r,"yield",u(i))}),-2)})),p(E,"$drop_while",(function e(){var r=e.$$p||y,n=y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,d(C("Lazy"),"new",[this,y],(function(e,o){var s;if(null==e&&(e=y),s=a(arguments,1),!t(n))return d(e,"yield",u(s));var $=i(r,s);t($)||(n=!1,d(e,"yield",u(s)))}),-2)})),p(E,"$enum_for",(function e(t,r){var n,i,o,s=e.$$p||y,$=this;return e.$$p=null,(n=a(arguments)).length>0&&(i=n.shift()),null==i&&(i="each"),o=n,d($.$class(),"for",[$,i].concat(u(o)),s.$to_proc())}),-1),p(E,"$find_all",(function e(){var r=e.$$p||y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy select without a block"),d(C("Lazy"),"new",[this,y],(function(e,n){var o,s;null==e&&(e=y),o=a(arguments,1);var $=i(r,s=o);t($)&&d(e,"yield",u(s))}),-2)})),p(E,"$grep",(function e(r){var i=e.$$p||y;return e.$$p=null,t(i)?d(C("Lazy"),"new",[this,y],(function(e,o){var s;null==e&&(e=y),s=a(arguments,1);var $=f.$destructure(s),l=r["$==="]($);t(l)&&(l=n(i,$),e.$yield(n(i,$)))}),-2):d(C("Lazy"),"new",[this,y],(function(e,n){var i;null==e&&(e=y),i=a(arguments,1);var o=f.$destructure(i),s=r["$==="](o);t(s)&&e.$yield(o)}),-2)})),p(E,"$reject",(function e(){var r=e.$$p||y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy reject without a block"),d(C("Lazy"),"new",[this,y],(function(e,n){var o,s;null==e&&(e=y),o=a(arguments,1);var $=i(r,s=o);t($)||d(e,"yield",u(s))}),-2)})),p(E,"$take",(function(e){var n,i,o=y;return e=r(e,x("Integer"),"to_int"),t(m(e,0))&&_.$raise(x("ArgumentError"),"attempt to take negative size"),n=this.$enumerator_size(),i=g(x("Integer"),n)&&t(m(e,n))?e:n,o=0,d(C("Lazy"),"new",[this,i],(function(r,n){var i;return null==r&&(r=y),i=a(arguments,1),t(m(o,e))?(d(r,"yield",u(i)),o=b(o,1)):_.$raise(C("StopLazyError"))}),-2)})),p(E,"$take_while",(function e(){var r=e.$$p||y;return e.$$p=null,t(r)||_.$raise(x("ArgumentError"),"tried to call lazy take_while without a block"),d(C("Lazy"),"new",[this,y],(function(e,n){var o,s;null==e&&(e=y),o=a(arguments,1);var $=i(r,s=o);t($)?d(e,"yield",u(s)):_.$raise(C("StopLazyError"))}),-2)})),p(E,"$inspect",(function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"})),v(E,"force","to_a"),v(E,"filter","find_all"),v(E,"flat_map","collect_concat"),v(E,"map","collect"),v(E,"select","find_all"),v(E,"to_enum","enum_for")}(E,E,S)}(0,0,[])},Opal.modules["corelib/enumerator/yielder"]=function(e){var t,r=e.klass,n=e.def,i=e.slice,o=e.send,s=e.to_a,a=[],$=e.nil;return e.add_stubs("yield,proc"),t=a,function(t,a){var l=r(t,null,"Yielder");return l.$$prototype.block=$,n(l,"$initialize",(function e(){var t=e.$$p||$;return e.$$p=null,this.block=t,this})),n(l,"$yield",(function(t){var r;r=i(arguments);var n=e.yieldX(this.block,r);if(n&&"break"==n.$thrower_type)throw n;return n}),-1),n(l,"$<<",(function(e){return this.$yield(e),this})),n(l,"$to_proc",(function(){return o(this,"proc",[],(function e(t){var r,n=null==e.$$s?this:e.$$s;return r=i(arguments),o(n,"yield",s(r))}),{$$arity:-1,$$s:this})}))}([r(a[0],null,"Enumerator")].concat(t)[0])},Opal.modules["corelib/enumerator"]=function(e){var t=e.slice,r=e.coerce_to,n=e.deny_frozen_access,i=e.klass,o=e.defs,s=e.truthy,a=e.send,$=e.not,l=e.def,u=e.rb_plus,c=e.to_a,_=e.Opal,d=e.send2,p=e.find_super,h=e.rb_ge,f=e.Kernel,m=e.rb_le,g=e.alias,b=e.top,v=e.nil,y=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),b.$require("corelib/enumerable"),function(b,x,k){var w=i("::",null,"Enumerator"),A=[w].concat(k),E=e.$r(A),S=w.$$prototype;return S.size=S.args=S.object=S.method=S.values=S.cursor=v,w.$include(y("Enumerable")),w.$$prototype.$$is_enumerator=!0,o(w,"$for",(function e(r,n,i){var o,s,a,$=e.$$p||v;e.$$p=null,(o=t(arguments,1)).length>0&&(s=o.shift()),null==s&&(s="each"),a=o;var l=this.$allocate();return l.object=r,l.size=$,l.method=s,l.args=a,l.cursor=0,l}),-2),l(w,"$initialize",(function e(i){var o=e.$$p||v,l=this;return e.$$p=null,t(arguments),n(l),l.cursor=0,s(o)?(l.object=a(E("Generator"),"new",[],o.$to_proc()),l.method="each",l.args=[],l.size=arguments[0]||v,s(l.size)&&$(l.size["$respond_to?"]("call"))?l.size=r(l.size,y("Integer"),"to_int"):v):(l.object=arguments[0],l.method=arguments[1]||"each",l.args=t(arguments,2),l.size=v)}),-1),l(w,"$each",(function e(r){var n,i=e.$$p||v,o=this;return e.$$p=null,n=t(arguments),s(i["$nil?"]())&&s(n["$empty?"]())?o:(n=u(o.args,n),s(i["$nil?"]())?a(o.$class(),"new",[o.object,o.method].concat(c(n))):a(o.object,"__send__",[o.method].concat(c(n)),i.$to_proc()))}),-1),l(w,"$size",(function(){var e=this;return s(e.size["$respond_to?"]("call"))?a(e.size,"call",c(e.args)):e.size})),l(w,"$with_index",(function e(t){var n=e.$$p||v,i=this;if(e.$$p=null,null==t&&(t=0),t=s(t)?r(t,y("Integer"),"to_int"):0,!s(n))return a(i,"enum_for",["with_index",t],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});var o=t;return i.$each.$$p=function(){var e=_.$destructure(arguments),t=n(e,o);return o++,t},i.$each()}),-1),l(w,"$each_with_index",(function e(){var t=e.$$p||v,r=this;return e.$$p=null,t===v?a(r,"enum_for",["each_with_index"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(d(r,p(r,"each_with_index",e,!1,!0),"each_with_index",[],t),r.object)})),l(w,"$rewind",(function(){return this.cursor=0,this})),l(w,"$peek_values",(function(){var e,r=this;return r.values=s(e=r.values)?e:a(r,"map",[],(function(e){return t(arguments)}),-1),s(h(r.cursor,r.values.$length()))&&f.$raise(y("StopIteration"),"iteration reached an end"),r.values["$[]"](r.cursor)})),l(w,"$peek",(function(){var e=v;return e=this.$peek_values(),s(m(e.$length(),1))?e["$[]"](0):e})),l(w,"$next_values",(function(){var e,t=this;return e=t.$peek_values(),t.cursor=u(t.cursor,1),e})),l(w,"$next",(function(){var e=v;return e=this.$next_values(),s(m(e.$length(),1))?e["$[]"](0):e})),l(w,"$feed",(function(e){return this.$raise(E("NotImplementedError"),"Opal doesn't support Enumerator#feed")})),l(w,"$+",(function(e){return y(y("Enumerator"),"Chain").$new(this,e)})),l(w,"$inspect",(function(){var e=this,t=v;return t="#<"+e.$class()+": "+e.object.$inspect()+":"+e.method,s(e.args["$any?"]())&&(t=u(t,"("+e.args.$inspect()["$[]"](y("Range").$new(1,-2))+")")),u(t,">")})),g(w,"with_object","each_with_object"),w.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),w.$autoload("Chain","corelib/enumerator/chain"),w.$autoload("Generator","corelib/enumerator/generator"),w.$autoload("Lazy","corelib/enumerator/lazy"),w.$autoload("Yielder","corelib/enumerator/yielder")}(0,0,[])},Opal.modules["corelib/numeric"]=function(e){var t=e.klass,r=e.truthy,n=e.Kernel,i=e.def,o=e.to_ary,s=e.return_self,a=e.rb_minus,$=e.rb_times,l=e.rb_lt,u=e.eqeq,c=e.rb_divide,_=e.return_val,d=e.Opal,p=e.slice,h=e.extract_kwargs,f=e.ensure_kwargs,m=e.not,g=e.send,b=e.rb_ge,v=e.rb_le,y=e.rb_plus,x=e.rb_gt,k=e.alias,w=e.top,A=e.nil,E=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),w.$require("corelib/comparable"),function(w,S){var C=t("::",null,"Numeric");return C.$include(E("Comparable")),i(C,"$coerce",(function(e){var t=this;return r(e["$instance_of?"](t.$class()))?[e,t]:[n.$Float(e),n.$Float(t)]})),i(C,"$__coerced__",(function(e,t){var i,s,a=A,$=A;if(r(t["$respond_to?"]("coerce")))return s=t.$coerce(this),a=null==(i=o(s))[0]?A:i[0],$=null==i[1]?A:i[1],a.$__send__(e,$);switch(e){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return n.$raise(E("TypeError"),t.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return n.$raise(E("ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");default:return A}})),i(C,"$<=>",(function(e){return r(this["$equal?"](e))?0:A})),i(C,"$+@",s),i(C,"$-@",(function(){return a(0,this)})),i(C,"$%",(function(e){return a(this,$(e,this.$div(e)))})),i(C,"$abs",(function(){var e=this;return l(e,0)?e["$-@"]():e})),i(C,"$abs2",(function(){return $(this,this)})),i(C,"$angle",(function(){return l(this,0)?E(E("Math"),"PI"):0})),i(C,"$ceil",(function(e){return null==e&&(e=0),this.$to_f().$ceil(e)}),-1),i(C,"$conj",s),i(C,"$denominator",(function(){return this.$to_r().$denominator()})),i(C,"$div",(function(e){return u(e,0)&&n.$raise(E("ZeroDivisionError"),"divided by o"),c(this,e).$floor()})),i(C,"$divmod",(function(e){return[this.$div(e),this["$%"](e)]})),i(C,"$fdiv",(function(e){return c(this.$to_f(),e)})),i(C,"$floor",(function(e){return null==e&&(e=0),this.$to_f().$floor(e)}),-1),i(C,"$i",(function(){return n.$Complex(0,this)})),i(C,"$imag",_(0)),i(C,"$integer?",_(!1)),i(C,"$nonzero?",(function(){return r(this["$zero?"]())?A:this})),i(C,"$numerator",(function(){return this.$to_r().$numerator()})),i(C,"$polar",(function(){return[this.$abs(),this.$arg()]})),i(C,"$quo",(function(e){return c(d["$coerce_to!"](this,E("Rational"),"to_r"),e)})),i(C,"$real",s),i(C,"$real?",_(!0)),i(C,"$rect",(function(){return[this,0]})),i(C,"$round",(function(e){return this.$to_f().$round(e)}),-1),i(C,"$step",(function t(i,o,s){var a,$,l,u,c,_,x=t.$$p||A,k=this,w=A;function S(){u===A&&n.$raise(E("TypeError"),"step must be numeric"),null!=u&&u["$=="](0)&&n.$raise(E("ArgumentError"),"step can't be 0"),u!==A&&null!=u||(u=1);var e=u["$<=>"](0);e===A&&n.$raise(E("ArgumentError"),"0 can't be coerced into "+u.$class()),l!==A&&null!=l||(l=e>0?E(E("Float"),"INFINITY"):E(E("Float"),"INFINITY")["$-@"]()),d.$compare(k,l)}function C(){if(u>0&&k>l||u<0&&k<l)return 0;if(u===1/0||u===-1/0)return 1;var e=Math.abs,t=Math.floor,r=(e(k)+e(l)+e(l-k))/e(u)*E(E("Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),t((l-k)/u+r)+1)}if(t.$$p=null,a=p(arguments),$=h(a),$=f($),a.length>0&&(l=a.shift()),a.length>0&&(u=a.shift()),c=$.$$smap.to,_=$.$$smap.by,void 0!==l&&void 0!==c&&n.$raise(E("ArgumentError"),"to is given twice"),void 0!==u&&void 0!==_&&n.$raise(E("ArgumentError"),"step is given twice"),void 0!==c&&(l=c),void 0!==_&&(u=_),void 0===l&&(l=A),x===A)return(m(l)||r(l["$is_a?"](E("Numeric"))))&&(m(u)||r(u["$is_a?"](E("Numeric"))))?E(E("Enumerator"),"ArithmeticSequence").$new([l,u,r(c)?"to: ":A,r(_)?"by: ":A],k):g(k,"enum_for",["step",l,u],function(){if(S(),0===u)return 1/0;if(u%1!=0)return C();if(u>0&&k>l||u<0&&k<l)return 0;var e=Math.ceil,t=Math.abs;return e((t(k-l)+1)/t(u))}.$to_proc());S();var O=u["$negative?"](),R=u["$=="](0)||l===1/0&&!O||l===-1/0&&O;if(k.$$is_number&&u.$$is_number&&l.$$is_number){if(k%1!=0||!R&&l%1!=0||u%1!=0){var I=k.$to_f().valueOf();u=u.$to_f().valueOf(),l=l.$to_f().valueOf();var T=C();if(isFinite(u))if(0===u)for(;;)x(I);else for(var z=0;z<T;z++){var F=z*u+k;(u>=0?l<F:l>F)&&(F=l),x(F)}else 0!==T&&x(I);return k}var N=k;if(R)for(;;N+=u)x(N);else if(O)for(;N>=l;N+=u)x(N);else for(;N<=l;N+=u)x(N);return k}for(w=k;r(O?b(w,l):v(w,l));)e.yield1(x,w),w=y(w,u)}),-1),i(C,"$to_c",(function(){return n.$Complex(this,0)})),i(C,"$to_int",(function(){return this.$to_i()})),i(C,"$truncate",(function(e){return null==e&&(e=0),this.$to_f().$truncate(e)}),-1),i(C,"$zero?",(function(){return this["$=="](0)})),i(C,"$positive?",(function(){return x(this,0)})),i(C,"$negative?",(function(){return l(this,0)})),i(C,"$dup",s),i(C,"$clone",(function(e){return(e=f(e)).$$smap.freeze,this}),-1),i(C,"$finite?",_(!0)),i(C,"$infinite?",_(A)),k(C,"arg","angle"),k(C,"conjugate","conj"),k(C,"imaginary","imag"),k(C,"magnitude","abs"),k(C,"modulo","%"),k(C,"phase","arg"),k(C,"rectangular","rect")}()},Opal.modules["corelib/array"]=function(e){var t=e.truthy,r=e.falsy,n=e.hash_ids,i=e.yield1,o=e.hash_get,s=e.hash_put,a=e.hash_delete,$=e.coerce_to,l=e.respond_to,u=e.deny_frozen_access,c=e.freeze,_=e.klass,d=e.slice,p=e.defs,h=e.Kernel,f=e.def,m=e.Opal,g=e.eqeqeq,b=e.hash2,v=e.send2,y=e.find_super,x=e.send,k=e.rb_gt,w=e.rb_times,A=e.eqeq,E=e.rb_minus,S=e.to_a,C=e.to_ary,O=e.gvars,R=e.rb_ge,I=e.assign_ivar,T=e.rb_lt,z=e.return_self,F=e.neqeq,N=e.alias,L=e.top,D=e.nil,q=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),L.$require("corelib/enumerable"),L.$require("corelib/numeric"),function(L,B,M){var j=_("::",Array,"Array"),P=[j].concat(M),U=e.$r(P);function H(e,t,r){for(var n,o=null,s=new Array(e.length),a=0,$=0,l=e.length;a<l;a++){if(!o)try{n=i(r,e[a])}catch(e){o=e}(o||t(n))&&(s[$]=e[a],$+=1)}if($!==a&&(e.splice.apply(e,[0,s.length].concat(s)),e.splice($,s.length)),o)throw o}function Y(t,r){var n,i,o,s=t.length;return n=r.excl,i=r.begin===D?0:$(r.begin,e.Integer,"to_int"),o=r.end===D?-1:$(r.end,e.Integer,"to_int"),i<0&&(i+=s)<0?D:(r.excl_rev&&r.begin!==D&&(i+=1),i>s?D:o<0&&(o+=s)<0?[]:(n&&r.end!==D||(o+=1),t.slice(i,o)))}function G(e,t){return e===t||0===t?1:t>0&&e>t?G(e-1,t-1)+G(e-1,t):0}j.$include(q("Enumerable")),e.prop(j.$$prototype,"$$is_array",!0),p(j,"$[]",(function(t){var r,n,i;return r=d(arguments),n=r,(i=this).$$name===e.Array?n:i.$allocate().$replace(n.$to_a())}),-1),f(j,"$initialize",(function e(t,r){var n,i,o=e.$$p||D,s=this;if(e.$$p=null,null==t&&(t=D),null==r&&(r=D),u(s),r!==D&&o!==D&&h.$warn("warning: block supersedes default value argument"),t>q(q("Integer"),"MAX")&&h.$raise(q("ArgumentError"),"array size too big"),arguments.length>2&&h.$raise(q("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return s.splice(0,s.length),s;if(1===arguments.length){if(t.$$is_array)return s.$replace(t.$to_a()),s;if(t["$respond_to?"]("to_ary"))return s.$replace(t.$to_ary()),s}if((t=$(t,q("Integer"),"to_int"))<0&&h.$raise(q("ArgumentError"),"negative array size"),s.splice(0,s.length),o===D)for(n=0;n<t;n++)s.push(r);else for(n=0;n<t;n++)i=o(n),s[n]=i;return s}),-1),p(j,"$try_convert",(function(e){return m["$coerce_to?"](e,q("Array"),"to_ary")})),f(j,"$&",(function(e){e=g(q("Array"),e)?e.$to_a():$(e,q("Array"),"to_ary").$to_a();var t,r,n,i=[],o=b([],{});for(t=0,r=e.length;t<r;t++)s(o,e[t],!0);for(t=0,r=this.length;t<r;t++)n=this[t],void 0!==a(o,n)&&i.push(n);return i})),f(j,"$|",(function(e){e=g(q("Array"),e)?e.$to_a():$(e,q("Array"),"to_ary").$to_a();var t,r,n=b([],{});for(t=0,r=this.length;t<r;t++)s(n,this[t],!0);for(t=0,r=e.length;t<r;t++)s(n,e[t],!0);return n.$keys()})),f(j,"$*",(function(e){if(t(e["$respond_to?"]("to_str")))return this.$join(e.$to_str());e=$(e,q("Integer"),"to_int"),t(e<0)&&h.$raise(q("ArgumentError"),"negative argument");for(var r=[],n=this.$to_a(),i=0;i<e;i++)r=r.concat(n);return r})),f(j,"$+",(function(e){return e=g(q("Array"),e)?e.$to_a():$(e,q("Array"),"to_ary").$to_a(),this.concat(e)})),f(j,"$-",(function(e){var r=this;if(e=g(q("Array"),e)?e.$to_a():$(e,q("Array"),"to_ary").$to_a(),t(0===r.length))return[];if(t(0===e.length))return r.slice();var n,i,a,l=[],u=b([],{});for(n=0,i=e.length;n<i;n++)s(u,e[n],!0);for(n=0,i=r.length;n<i;n++)a=r[n],void 0===o(u,a)&&l.push(a);return l})),f(j,"$<<",(function(e){var t=this;return u(t),t.push(e),t})),f(j,"$<=>",(function(e){var r=this;if(g(q("Array"),e))e=e.$to_a();else{if(!t(e["$respond_to?"]("to_ary")))return D;e=e.$to_ary().$to_a()}if(r.$hash()===e.$hash())return 0;for(var n=Math.min(r.length,e.length),i=0;i<n;i++){var o=r[i]["$<=>"](e[i]);if(0!==o)return o}return r.length["$<=>"](e.length)})),f(j,"$==",(function(e){var t={};return function e(r,n){var i,o,s,a;if(r===n)return!0;if(!n.$$is_array)return!!l(n,"$to_ary")&&n["$=="](r);if(r.$$constructor!==Array&&(r=r.$to_a()),n.$$constructor!==Array&&(n=n.$to_a()),r.length!==n.length)return!1;for(t[r.$object_id()]=!0,i=0,o=r.length;i<o;i++)if(s=r[i],a=n[i],s.$$is_array){if(a.$$is_array&&a.length!==s.length)return!1;if(!t.hasOwnProperty(s.$object_id())&&!e(s,a))return!1}else if(!s["$=="](a))return!1;return!0}(this,e)})),f(j,"$[]",(function(t,r){var n=this;return t.$$is_range?Y(n,t):t.$$is_arithmetic_seq?function(e,t){var r,n=[],i=0;for(r=t.step<0?Y(e,{begin:t.range.end,end:t.range.begin,excl:!1,excl_rev:t.range.excl}).$reverse():Y(e,t.range);i<r.length;)n.push(r[i]),i+=Math.abs(t.step);return n}(n,t):function(t,r,n){var i=t.length;return(r=$(r,e.Integer,"to_int"))<0&&(r+=i)<0?D:void 0===n?r>=i||r<0?D:t[r]:(n=$(n,e.Integer,"to_int"))<0||r>i||r<0?D:t.slice(r,r+n)}(n,t,r)}),-2),f(j,"$[]=",(function(t,r,n){var i=this,o=D,s=D;u(i),o=D;var a,l,c=i.length;if(t.$$is_range){o=r.$$is_array?r.$to_a():r["$respond_to?"]("to_ary")?r.$to_ary().$to_a():[r];var _=t.excl,d=t.begin===D?0:$(t.begin,e.Integer,"to_int"),p=t.end===D?-1:$(t.end,e.Integer,"to_int");if(d<0&&(d+=c)<0&&h.$raise(q("RangeError"),t.$inspect()+" out of range"),p<0&&(p+=c),_&&t.end!==D||(p+=1),d>c)for(a=c;a<d;a++)i[a]=D;return p<0?i.splice.apply(i,[d,0].concat(o)):i.splice.apply(i,[d,p-d].concat(o)),r}if(void 0===n?s=1:(s=r,o=(r=n).$$is_array?r.$to_a():r["$respond_to?"]("to_ary")?r.$to_ary().$to_a():[r]),t=$(t,q("Integer"),"to_int"),s=$(s,q("Integer"),"to_int"),t<0&&(l=t,(t+=c)<0&&h.$raise(q("IndexError"),"index "+l+" too small for array; minimum "+-i.length)),s<0&&h.$raise(q("IndexError"),"negative length ("+s+")"),t>c)for(a=c;a<t;a++)i[a]=D;return void 0===n?i[t]=r:i.splice.apply(i,[t,s].concat(o)),r}),-3),f(j,"$any?",(function e(t){var r=e.$$p||D,n=this;return e.$$p=null,0!==n.length&&v(n,y(n,"any?",e,!1,!0),"any?",[t],r)}),-1),f(j,"$assoc",(function(e){for(var t,r=0,n=this.length;r<n;r++)if((t=this[r]).length&&t[0]["$=="](e))return t;return D})),f(j,"$at",(function(e){var t=this;return(e=$(e,q("Integer"),"to_int"))<0&&(e+=t.length),e<0||e>=t.length?D:t[e]})),f(j,"$bsearch_index",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return r.$enum_for("bsearch_index");for(var n,o,s,a=0,$=r.length,l=!1,u=D;a<$;){if(o=r[n=a+Math.floor(($-a)/2)],!0===(s=i(t,o)))u=n,l=!0;else if(!1===s||s===D)l=!1;else if(s.$$is_number){if(0===s)return n;l=s<0}else h.$raise(q("TypeError"),"wrong argument type "+s.$class()+" (must be numeric, true, false or nil)");l?$=n:a=n+1}return u})),f(j,"$bsearch",(function e(){var t,r=e.$$p||D,n=this;return e.$$p=null,r===D?n.$enum_for("bsearch"):null!=(t=x(n,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?n[t]:t})),f(j,"$cycle",(function e(r){var n,o,s=e.$$p||D,a=this;if(e.$$p=null,null==r&&(r=D),s===D)return x(a,"enum_for",["cycle",r],(function e(){var n=null==e.$$s?this:e.$$s;return t(r["$nil?"]())?q(q("Float"),"INFINITY"):(r=m["$coerce_to!"](r,q("Integer"),"to_int"),t(k(r,0))?w(n.$enumerator_size(),r):0)}),{$$s:a});if(t(a["$empty?"]())||A(r,0))return D;if(r===D)for(;;)for(n=0,o=a.length;n<o;n++)i(s,a[n]);else{if((r=m["$coerce_to!"](r,q("Integer"),"to_int"))<=0)return a;for(;r>0;){for(n=0,o=a.length;n<o;n++)i(s,a[n]);r--}}return a}),-1),f(j,"$clear",(function(){var e=this;return u(e),e.splice(0,e.length),e})),f(j,"$count",(function e(r){var n=e.$$p||D,i=this;return e.$$p=null,t(void 0!==r)||t(n)?v(i,y(i,"count",e,!1,!0),"count",[r],n):i.$size()}),-1),f(j,"$initialize_copy",(function(e){return this.$replace(e)})),f(j,"$collect",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["collect"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n=[],o=0,s=r.length;o<s;o++){var a=i(t,r[o]);n.push(a)}return n})),f(j,"$collect!",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["collect!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});u(r);for(var n=0,o=r.length;n<o;n++){var s=i(t,r[n]);r[n]=s}return r})),f(j,"$combination",(function t(r){var n,i,o,s,a,$,l,u,c=t.$$p||D,_=this;if(t.$$p=null,n=m["$coerce_to!"](r,q("Integer"),"to_int"),c===D)return x(_,"enum_for",["combination",n],(function e(){return G((null==e.$$s?this:e.$$s).length,n)}),{$$s:_});if(0===n)e.yield1(c,[]);else if(1===n)for(i=0,o=_.length;i<o;i++)e.yield1(c,[_[i]]);else if(n===_.length)e.yield1(c,_.slice());else if(n>=0&&n<_.length){for(s=[],i=0;i<=n+1;i++)s.push(0);for(a=[],$=0,l=!1,s[0]=-1;!l;){for(a[$]=_[s[$+1]];$<n-1;)u=s[++$+1]=s[$]+1,a[$]=_[u];e.yield1(c,a.slice()),$++;do{l=0===$,s[$]++,$--}while(s[$+1]+n===_.length+$+1)}}return _})),f(j,"$repeated_combination",(function t(r){var n,i=t.$$p||D,o=this;if(t.$$p=null,n=m["$coerce_to!"](r,q("Integer"),"to_int"),i===D)return x(o,"enum_for",["repeated_combination",n],(function e(){return G((null==e.$$s?this:e.$$s).length+n-1,n)}),{$$s:o});return n>=0&&function t(r,n,o,s){if(o.length!=r)for(var a=n;a<s.length;a++)o.push(s[a]),t(r,a,o,s),o.pop();else{var $=o.slice();e.yield1(i,$)}}(n,0,[],o),o})),f(j,"$compact",(function(){for(var e,t=[],r=0,n=this.length;r<n;r++)(e=this[r])!==D&&t.push(e);return t})),f(j,"$compact!",(function(){var e=this;u(e);for(var t=e.length,r=0,n=e.length;r<n;r++)e[r]===D&&(e.splice(r,1),n--,r--);return e.length===t?D:e})),f(j,"$concat",(function(e){var r,n=this;return r=d(arguments),u(n),r=x(r,"map",[],(function e(r){var n=null==e.$$s?this:e.$$s;return null==r&&(r=D),r=g(q("Array"),r)?r.$to_a():$(r,q("Array"),"to_ary").$to_a(),t(r["$equal?"](n))&&(r=r.$dup()),r}),{$$s:n}),x(r,"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;null==t&&(t=D);for(var n=0,i=t.length;n<i;n++)r.push(t[n])}),{$$s:n}),n}),-1),f(j,"$delete",(function t(r){var n=t.$$p||D,i=this;t.$$p=null;for(var o=i.length,s=0,a=o;s<a;s++)i[s]["$=="](r)&&(u(i),i.splice(s,1),a--,s--);return i.length===o?n!==D?e.yieldX(n,[]):D:r})),f(j,"$delete_at",(function(e){var t=this;if(u(t),(e=$(e,q("Integer"),"to_int"))<0&&(e+=t.length),e<0||e>=t.length)return D;var r=t[e];return t.splice(e,1),r})),f(j,"$delete_if",(function e(){var t=e.$$p||D,n=this;return e.$$p=null,t===D?x(n,"enum_for",["delete_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(u(n),H(n,r,t),n)})),f(j,"$difference",(function(e){var t;return t=d(arguments),x(t,"reduce",[this.$to_a().$dup()],(function(e,t){return null==e&&(e=D),null==t&&(t=D),E(e,t)}))}),-1),f(j,"$dig",(function(e,r){var n,i=D;return n=d(arguments,1),(i=this["$[]"](e))===D||0===n.length?i:(t(i["$respond_to?"]("dig"))||h.$raise(q("TypeError"),i.$class()+" does not have #dig method"),x(i,"dig",S(n)))}),-2),f(j,"$drop",(function(e){return(e=$(e,q("Integer"),"to_int"))<0&&h.$raise(q("ArgumentError")),this.slice(e)})),f(j,"$dup",(function t(){var r=t.$$p||D,n=this;return t.$$p=null,n.$$class===e.Array&&n.$$class.$allocate.$$pristine&&n.$copy_instance_variables.$$pristine&&n.$initialize_dup.$$pristine?n.slice(0):v(n,y(n,"dup",t,!1,!0),"dup",[],r)})),f(j,"$each",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n=0,o=r.length;n<o;n++)i(t,r[n]);return r})),f(j,"$each_index",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["each_index"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n=0,o=r.length;n<o;n++)i(t,n);return r})),f(j,"$empty?",(function(){return 0===this.length})),f(j,"$eql?",(function(e){var t={};return function e(r,n){var i,o,s,a;if(!n.$$is_array)return!1;if(n=n.$to_a(),r.length!==n.length)return!1;for(t[r.$object_id()]=!0,i=0,o=r.length;i<o;i++)if(s=r[i],a=n[i],s.$$is_array){if(a.$$is_array&&a.length!==s.length)return!1;if(!t.hasOwnProperty(s.$object_id())&&!e(s,a))return!1}else if(!s["$eql?"](a))return!1;return!0}(this,e)})),f(j,"$fetch",(function e(t,r){var n=e.$$p||D,i=this;e.$$p=null;var o=t;return(t=$(t,q("Integer"),"to_int"))<0&&(t+=i.length),t>=0&&t<i.length?i[t]:(n!==D&&null!=r&&i.$warn("warning: block supersedes default value argument"),n!==D?n(o):null!=r?r:void(0===i.length?h.$raise(q("IndexError"),"index "+o+" outside of array bounds: 0...0"):h.$raise(q("IndexError"),"index "+o+" outside of array bounds: -"+i.length+"..."+i.length)))}),-2),f(j,"$fill",(function e(r){var n,i,o,s,a=e.$$p||D,l=this,c=D,_=D,p=D,f=D,m=D;if(e.$$p=null,n=d(arguments),u(l),t(a)?(t(n.length>2)&&h.$raise(q("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 0..2)"),c=null==(i=C(n))[0]?D:i[0],_=null==i[1]?D:i[1]):(t(0==n.length)?h.$raise(q("ArgumentError"),"wrong number of arguments (0 for 1..3)"):t(n.length>3)&&h.$raise(q("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 1..3)"),p=null==(i=C(n))[0]?D:i[0],c=null==i[1]?D:i[1],_=null==i[2]?D:i[2]),g(q("Range"),c)){if(t(_)&&h.$raise(q("TypeError"),"length invalid with range"),f=c.begin===D?0:$(c.begin,q("Integer"),"to_int"),t(f<0)&&(f+=this.length),t(f<0)&&h.$raise(q("RangeError"),c.$inspect()+" out of range"),m=c.end===D?-1:$(c.end,q("Integer"),"to_int"),t(m<0)&&(m+=this.length),t(c["$exclude_end?"]())||(m+=1),t(m<=f))return l}else if(t(c))if(f=$(c,q("Integer"),"to_int"),t(f<0)&&(f+=this.length),t(f<0)&&(f=0),t(_)){if(m=$(_,q("Integer"),"to_int"),t(0==m))return l;m+=f}else m=this.length;else f=0,m=this.length;if(t(f>this.length))for(o=this.length;o<m;o++)l[o]=D;if(t(m>this.length)&&(this.length=m),t(a))for(this.length;f<m;f++)s=a(f),l[f]=s;else for(this.length;f<m;f++)l[f]=p;return l}),-1),f(j,"$first",(function(e){var t=this;return null==e?0===t.length?D:t[0]:((e=$(e,q("Integer"),"to_int"))<0&&h.$raise(q("ArgumentError"),"negative array size"),t.slice(0,e))}),-1),f(j,"$flatten",(function(e){var t=this;return void 0!==e&&(e=$(e,q("Integer"),"to_int")),function e(r,n){var i,o,s,a,$=[];for(i=0,o=(r=r.$to_a()).length;i<o;i++)if(s=r[i],l(s,"$to_ary",!0))if((a=s.$to_ary())!==D)switch(a.$$is_array||h.$raise(q("TypeError")),a===t&&h.$raise(q("ArgumentError")),n){case void 0:$=$.concat(e(a));break;case 0:$.push(a);break;default:$.push.apply($,e(a,n-1))}else $.push(s);else $.push(s);return $}(t,e)}),-1),f(j,"$flatten!",(function(e){var t=this;u(t);var r=t.$flatten(e);if(t.length==r.length){for(var n=0,i=t.length;n<i&&t[n]===r[n];n++);if(n==i)return D}return t.$replace(r),t}),-1),f(j,"$freeze",(function(){var e=this;return t(e["$frozen?"]())?e:c(e)})),f(j,"$hash",(function(){var e,t,r,i=this,o=void 0===n,s=["A"],a=i.$object_id();try{if(o&&(n=Object.create(null)),n[a])return"self";for(r in n)if(e=n[r],i["$eql?"](e))return"self";for(n[a]=i,t=0;t<i.length;t++)e=i[t],s.push(e.$hash());return s.join(",")}finally{o&&(n=void 0)}})),f(j,"$include?",(function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]["$=="](e))return!0;return!1})),f(j,"$index",(function e(t){var r,n,i,o=e.$$p||D,s=this;if(e.$$p=null,null!=t&&o!==D&&s.$warn("warning: given block not used"),null!=t){for(r=0,n=s.length;r<n;r++)if(s[r]["$=="](t))return r}else{if(o===D)return s.$enum_for("index");for(r=0,n=s.length;r<n;r++)if(!1!==(i=o(s[r]))&&i!==D)return r}return D}),-1),f(j,"$insert",(function(e,t){var r,n=this;if(r=d(arguments,1),u(n),e=$(e,q("Integer"),"to_int"),r.length>0){if(e<0&&(e+=n.length+1)<0&&h.$raise(q("IndexError"),e+" is out of bounds"),e>n.length)for(var i=n.length;i<e;i++)n.push(D);n.splice.apply(n,[e,0].concat(r))}return n}),-2);var W=[];return f(j,"$inspect",(function(){var e=this,t=[],r=e.$__id__(),n=!0;return function(){try{if(-1!==W.indexOf(r))return n=!1,"[...]";W.push(r);for(var i=0,o=e.length;i<o;i++){var s=e["$[]"](i);t.push(U("Opal").$inspect(s))}return"["+t.join(", ")+"]"}finally{n&&W.pop()}}()})),f(j,"$intersection",(function(e){var t;return t=d(arguments),x(t,"reduce",[this.$to_a().$dup()],(function(e,t){return null==e&&(e=D),null==t&&(t=D),e["$&"](t)}))}),-1),f(j,"$intersect?",(function(e){return this.$intersection(e)["$empty?"]()["$!"]()})),f(j,"$join",(function(e){var r=this;if(null==O[","]&&(O[","]=D),null==e&&(e=D),t(0===r.length))return"";t(e===D)&&(e=O[","]);var n,i,o,s,a=[];for(n=0,i=r.length;n<i;n++)o=r[n],l(o,"$to_str")&&(s=o.$to_str())!==D?a.push(s.$to_s()):l(o,"$to_ary")&&((s=o.$to_ary())===r&&h.$raise(q("ArgumentError")),s!==D)?a.push(s.$join(e)):l(o,"$to_s")&&(s=o.$to_s())!==D?a.push(s):h.$raise(q("NoMethodError").$new(U("Opal").$inspect(r.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===D?a.join(""):a.join(m["$coerce_to!"](e,q("String"),"to_str").$to_s())}),-1),f(j,"$keep_if",(function e(){var r=e.$$p||D,n=this;return e.$$p=null,r===D?x(n,"enum_for",["keep_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(u(n),H(n,t,r),n)})),f(j,"$last",(function(e){var t=this;return null==e?0===t.length?D:t[t.length-1]:((e=$(e,q("Integer"),"to_int"))<0&&h.$raise(q("ArgumentError"),"negative array size"),e>t.length&&(e=t.length),t.slice(t.length-e,t.length))}),-1),f(j,"$length",(function(){return this.length})),f(j,"$max",(function e(t){var r=e.$$p||D;return e.$$p=null,x(this.$each(),"max",[t],r.$to_proc())}),-1),f(j,"$min",(function e(){var t=e.$$p||D;return e.$$p=null,x(this.$each(),"min",[],t.$to_proc())})),f(j,"$permutation",(function t(r){var n,o,s,a=t.$$p||D,l=this,u=D,c=D;if(t.$$p=null,a===D)return x(l,"enum_for",["permutation",r],(function e(){var t=null==e.$$s?this:e.$$s;return function(e,t){for(var r=t>=0?1:0;t;)r*=e,e--,t--;return r}(t.length,void 0===r?t.length:r)}),{$$s:l});if((r=void 0===r?l.length:$(r,q("Integer"),"to_int"))<0||l.length<r);else if(0===r)e.yield1(a,[]);else if(1===r)for(var _=0;_<l.length;_++)e.yield1(a,[l[_]]);else u=U("Array").$new(r),c=U("Array").$new(l.length,!1),n=function(e,t,r,o,a){l=this;for(var $=0;$<l.length;$++)if(o["$[]"]($)["$!"]())if(t[r]=$,r<e-1)o[$]=!0,n.call(l,e,t,r+1,o,a),o[$]=!1;else{s=[];for(var u=0;u<t.length;u++)s.push(l[t[u]]);i(a,s)}},a!==D?(o=l.slice(),n.call(o,r,u,0,c,a)):n.call(l,r,u,0,c,a);return l}),-1),f(j,"$repeated_permutation",(function r(n){var i,o=r.$$p||D,s=this;if(r.$$p=null,i=m["$coerce_to!"](n,q("Integer"),"to_int"),o===D)return x(s,"enum_for",["repeated_permutation",i],(function e(){var r=null==e.$$s?this:e.$$s;return t(R(i,0))?r.$size()["$**"](i):0}),{$$s:s});return function t(r,n,i){if(n.length!=r)for(var s=0;s<i.length;s++)n.push(i[s]),t(r,n,i),n.pop();else{var a=n.slice();e.yield1(o,a)}}(i,[],s.slice()),s})),f(j,"$pop",(function(e){var r=this;return u(r),t(void 0===e)?t(0===r.length)?D:r.pop():(e=$(e,q("Integer"),"to_int"),t(e<0)&&h.$raise(q("ArgumentError"),"negative array size"),t(0===r.length)?[]:t(1===e)?[r.pop()]:t(e>r.length)?r.splice(0,r.length):r.splice(r.length-e,r.length))}),-1),f(j,"$product",(function t(r){var n,i,o=t.$$p||D,s=this;t.$$p=null,n=d(arguments);var a,l,u,c,_=o!==D?null:[],p=(i=n).length+1,f=new Array(p),m=new Array(p),g=new Array(p),b=1;for(g[0]=s,a=1;a<p;a++)g[a]=$(i[a-1],q("Array"),"to_ary");for(a=0;a<p;a++){if(0===(c=g[a].length))return _||s;(b*=c)>2147483647&&h.$raise(q("RangeError"),"too big to product"),m[a]=c,f[a]=0}e:for(;;){for(u=[],a=0;a<p;a++)u.push(g[a][f[a]]);for(_?_.push(u):e.yield1(o,u),f[l=p-1]++;f[l]===m[l];){if(f[l]=0,--l<0)break e;f[l]++}}return _||s}),-1),f(j,"$push",(function(e){var t,r=this;t=d(arguments),u(r);for(var n=0,i=t.length;n<i;n++)r.push(t[n]);return r}),-1),f(j,"$rassoc",(function(e){for(var t,r=0,n=this.length;r<n;r++)if((t=this[r]).length&&void 0!==t[1]&&t[1]["$=="](e))return t;return D})),f(j,"$reject",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n,i=[],o=0,s=r.length;o<s;o++)!1!==(n=t(r[o]))&&n!==D||i.push(r[o]);return i})),f(j,"$reject!",(function e(){var t,r=e.$$p||D,n=this;return e.$$p=null,r===D?x(n,"enum_for",["reject!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(u(n),t=n.$length(),x(n,"delete_if",[],r.$to_proc()),A(n.$length(),t)?D:n)})),f(j,"$replace",(function(e){var t=this;return u(t),e=g(q("Array"),e)?e.$to_a():$(e,q("Array"),"to_ary").$to_a(),t.splice(0,t.length),t.push.apply(t,e),t})),f(j,"$reverse",(function(){return this.slice(0).reverse()})),f(j,"$reverse!",(function(){return u(this),this.reverse()})),f(j,"$reverse_each",(function e(){var t=e.$$p||D,r=this;return e.$$p=null,t===D?x(r,"enum_for",["reverse_each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(x(r.$reverse(),"each",[],t.$to_proc()),r)})),f(j,"$rindex",(function e(t){var r,n,i=e.$$p||D,o=this;if(e.$$p=null,null!=t&&i!==D&&o.$warn("warning: given block not used"),null!=t){for(r=o.length-1;r>=0&&!(r>=o.length);r--)if(o[r]["$=="](t))return r}else if(i!==D){for(r=o.length-1;r>=0&&!(r>=o.length);r--)if(!1!==(n=i(o[r]))&&n!==D)return r}else if(null==t)return o.$enum_for("rindex");return D}),-1),f(j,"$rotate",(function(e){var t,r,n,i,o=this;return null==e&&(e=1),e=$(e,q("Integer"),"to_int"),1===o.length?o.slice():0===o.length?[]:(r=e%(t=o.slice()).length,n=t.slice(r),i=t.slice(0,r),n.concat(i))}),-1),f(j,"$rotate!",(function(e){var t,r=this;return null==e&&(e=1),u(r),0===r.length||1===r.length?r:(e=$(e,q("Integer"),"to_int"),t=r.$rotate(e),r.$replace(t))}),-1),function(e,r){var n=_(e,null,"SampleRandom");n.$$prototype.rng=D,f(n,"$initialize",I("rng")),f(n,"$rand",(function(e){var r;return r=$(this.rng.$rand(e),q("Integer"),"to_int"),t(r<0)&&h.$raise(q("RangeError"),"random value must be >= 0"),t(r<e)||h.$raise(q("RangeError"),"random value must be less than Array size"),r}))}(j),f(j,"$sample",(function(e,r){var n,i,o,s,a,l,u,c,_=this,d=D,p=D;if(t(void 0===e))return _.$at(h.$rand(_.length));if(t(void 0===r)?t(d=m["$coerce_to?"](e,q("Hash"),"to_hash"))?(r=d,e=D):(r=D,e=$(e,q("Integer"),"to_int")):(e=$(e,q("Integer"),"to_int"),r=$(r,q("Hash"),"to_hash")),t(e)&&t(e<0)&&h.$raise(q("ArgumentError"),"count must be greater than 0"),t(r)&&(p=r["$[]"]("random")),p=t(p)&&t(p["$respond_to?"]("rand"))?U("SampleRandom").$new(p):h,!t(e))return _[p.$rand(_.length)];switch(e>_.length&&(e=_.length),e){case 0:return[];case 1:return[_[p.$rand(_.length)]];case 2:return(s=p.$rand(_.length))===(a=p.$rand(_.length))&&(a=0===s?s+1:s-1),[_[s],_[a]];default:if(_.length/e>3){for(n=!1,i=0,s=1,(o=U("Array").$new(e))[0]=p.$rand(_.length);s<e;){for(l=p.$rand(_.length),a=0;a<s;){for(;l===o[a];){if(++i>100){n=!0;break}l=p.$rand(_.length)}if(n)break;a++}if(n)break;o[s]=l,s++}if(!n){for(s=0;s<e;)o[s]=_[o[s]],s++;return o}}o=_.slice();for(var f=0;f<e;f++)u=p.$rand(_.length),c=o[f],o[f]=o[u],o[u]=c;return e===_.length?o:o["$[]"](0,e)}}),-1),f(j,"$select",(function e(){var r=e.$$p||D,n=this;if(e.$$p=null,r===D)return x(n,"enum_for",["select"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var o,s,a=[],$=0,l=n.length;$<l;$++)o=n[$],s=i(r,o),t(s)&&a.push(o);return a})),f(j,"$select!",(function e(){var t=e.$$p||D,r=this;if(e.$$p=null,t===D)return x(r,"enum_for",["select!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});u(r);var n=r.length;return x(r,"keep_if",[],t.$to_proc()),r.length===n?D:r})),f(j,"$shift",(function(e){var r=this;return u(r),t(void 0===e)?t(0===r.length)?D:function(e){for(var t=e[0],r=1,n=e.length;r<n;r++)e[r-1]=e[r];return e.pop(),t}(r):(e=$(e,q("Integer"),"to_int"),t(e<0)&&h.$raise(q("ArgumentError"),"negative array size"),t(0===r.length)?[]:r.splice(0,e))}),-1),f(j,"$shuffle",(function(e){return this.$dup().$to_a()["$shuffle!"](e)}),-1),f(j,"$shuffle!",(function(e){var t=this;u(t);var r,n,i,o=t.length;for(void 0!==e&&(e=m["$coerce_to?"](e,q("Hash"),"to_hash"))!==D&&(e=e["$[]"]("random"))!==D&&e["$respond_to?"]("rand")&&(r=e);o;)r?((n=r.$rand(o).$to_int())<0&&h.$raise(q("RangeError"),"random number too small "+n),n>=o&&h.$raise(q("RangeError"),"random number too big "+n)):n=t.$rand(o),i=t[--o],t[o]=t[n],t[n]=i;return t}),-1),f(j,"$slice!",(function(e,r){var n=this,i=D,o=D,s=D,a=D,l=D;if(u(n),i=D,t(void 0===r))if(g(q("Range"),e)){o=e,i=n["$[]"](o),s=o.begin===D?0:$(o.begin,q("Integer"),"to_int"),a=o.end===D?-1:$(o.end,q("Integer"),"to_int"),s<0&&(s+=n.length),a<0?a+=n.length:a>=n.length&&(a=n.length-1,o.excl&&(a+=1));var c=a-s;o.excl&&o.end!==D?a-=1:c+=1,s<n.length&&s>=0&&a<n.length&&a>=0&&c>0&&n.splice(s,c)}else{if((l=$(e,q("Integer"),"to_int"))<0&&(l+=n.length),l<0||l>=n.length)return D;i=n[l],0===l?n.shift():n.splice(l,1)}else{if(l=$(e,q("Integer"),"to_int"),(r=$(r,q("Integer"),"to_int"))<0)return D;i=n["$[]"](l,r),l<0&&(l+=n.length),l+r>n.length&&(r=n.length-l),l<n.length&&l>=0&&n.splice(l,r)}return i}),-2),f(j,"$sort",(function e(){var r=e.$$p||D,n=this;return e.$$p=null,t(n.length>1)?(r===D&&(r=function(e,t){return e["$<=>"](t)}),n.slice().sort((function(e,t){var n=r(e,t);return n===D&&h.$raise(q("ArgumentError"),"comparison of "+e.$inspect()+" with "+t.$inspect()+" failed"),k(n,0)?1:T(n,0)?-1:0}))):n})),f(j,"$sort!",(function e(){var t,r=e.$$p||D,n=this;e.$$p=null,u(n),t=r!==D?x(n.slice(),"sort",[],r.$to_proc()):n.slice().$sort(),n.length=0;for(var i=0,o=t.length;i<o;i++)n.push(t[i]);return n})),f(j,"$sort_by!",(function e(){var t=e.$$p||D,r=this;return e.$$p=null,t===D?x(r,"enum_for",["sort_by!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(u(r),r.$replace(x(r,"sort_by",[],t.$to_proc())))})),f(j,"$take",(function(e){return e<0&&h.$raise(q("ArgumentError")),this.slice(0,e)})),f(j,"$take_while",(function e(){var t=e.$$p||D;e.$$p=null;for(var r,n,i=[],o=0,s=this.length;o<s;o++){if(!1===(n=t(r=this[o]))||n===D)return i;i.push(r)}return i})),f(j,"$to_a",(function(){var t=this;return t.$$class===e.Array?t:e.Array.$new(t)})),f(j,"$to_ary",z),f(j,"$to_h",(function e(){var t=e.$$p||D,r=D;e.$$p=null,r=this,t!==D&&(r=x(r,"map",[],t.$to_proc()));var n,i,o,a,$=r.length,l=b([],{});for(n=0;n<$;n++)(i=m["$coerce_to?"](r[n],q("Array"),"to_ary")).$$is_array||h.$raise(q("TypeError"),"wrong element type "+i.$class()+" at "+n+" (expected array)"),2!==i.length&&h.$raise(q("ArgumentError"),"wrong array length at "+n+" (expected 2, was "+i.$length()+")"),o=i[0],a=i[1],s(l,o,a);return l})),f(j,"$transpose",(function(){var e=D,r=D;return t(this["$empty?"]())?[]:(e=[],r=D,x(this,"each",[],(function(n){var i=D;return null==n&&(n=D),n=g(q("Array"),n)?n.$to_a():$(n,q("Array"),"to_ary").$to_a(),r=t(i=r)?i:n.length,F(n.length,r)&&h.$raise(q("IndexError"),"element size differs ("+n.length+" should be "+r+")"),x(n.length,"times",[],(function(r){var o;return null==r&&(r=D),(t(i=e["$[]"](r))?i:(x(e,"[]=",o=[r,[]]),o[o.length-1]))["$<<"](n.$at(r))}))})),e)})),f(j,"$union",(function(e){var t;return t=d(arguments),x(t,"reduce",[this.$uniq()],(function(e,t){return null==e&&(e=D),null==t&&(t=D),e["$|"](t)}))}),-1),f(j,"$uniq",(function e(){var t=e.$$p||D,r=this;e.$$p=null;var n,a,$,l,u=b([],{});if(t===D)for(n=0,a=r.length;n<a;n++)$=r[n],void 0===o(u,$)&&s(u,$,$);else for(n=0,a=r.length;n<a;n++)$=r[n],l=i(t,$),void 0===o(u,l)&&s(u,l,$);return u.$values()})),f(j,"$uniq!",(function e(){var t=e.$$p||D,r=this;e.$$p=null,u(r);var n,a,$,l,c=r.length,_=b([],{});for(n=0,a=c;n<a;n++)$=r[n],l=t===D?$:i(t,$),void 0!==o(_,l)?(r.splice(n,1),a--,n--):s(_,l,$);return r.length===c?D:r})),f(j,"$unshift",(function(e){var t,r=this;t=d(arguments),u(r);var n=r.length,i=t.length;if(0==i)return r;for(var o=n-i,s=0;s<i;s++)r.push(r[o+s]);for(var a=n-1;a-i>=0;)r[a]=r[a-i],a--;for(var $=0;$<i;$++)r[$]=t[$];return r}),-1),f(j,"$values_at",(function(e){var r,n=D;return r=d(arguments),n=[],x(r,"each",[],(function e(r){var i=null==e.$$s?this:e.$$s,o=D,s=D,a=D;return null==r&&(r=D),t(r["$is_a?"](q("Range")))?(o=r.$end()===D?-1:$(r.$end(),q("Integer"),"to_int"),(s=r.$begin()===D?0:$(r.$begin(),q("Integer"),"to_int"))<0?(s+=i.length,D):(o<0&&(o+=i.length),r["$exclude_end?"]()&&r.$end()!==D&&o--,o<s?D:x(s,"upto",[o],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=D),n["$<<"](r.$at(t))}),{$$s:i}))):(a=$(r,q("Integer"),"to_int"),n["$<<"](i.$at(a)))}),{$$s:this}),n}),-1),f(j,"$zip",(function r(n){var i,o=r.$$p||D,s=D;r.$$p=null,i=d(arguments);var a,$,l,u,c,_=[],p=this.length;for(u=0,c=i.length;u<c;u++)($=i[u]).$$is_array||($.$$is_range||$.$$is_enumerator?i[u]=$.$take(p):i[u]=(t(s=m["$coerce_to?"]($,q("Array"),"to_ary"))?s:m["$coerce_to!"]($,q("Enumerator"),"to_enum","each")).$to_a());for(l=0;l<p;l++){for(a=[this[l]],u=0,c=i.length;u<c;u++)null==($=i[u][l])&&($=D),a[u+1]=$;_[l]=a}if(o!==D){for(l=0;l<p;l++)e.yield1(o,_[l]);return D}return _}),-1),p(j,"$inherited",(function(e){e.$$prototype.$to_a=function(){return this.slice(0,this.length)}})),f(j,"$instance_variables",(function e(){var r=e.$$p||D;return e.$$p=null,x(v(this,y(this,"instance_variables",e,!1,!0),"instance_variables",[],r),"reject",[],(function(e){var r;return null==e&&(e=D),t(r=/^@\d+$/.test(e))?r:e["$=="]("@length")}))})),f(j,"$pack",(function(e){return d(arguments),h.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")}),-1),N(j,"append","push"),N(j,"filter","select"),N(j,"filter!","select!"),N(j,"map","collect"),N(j,"map!","collect!"),N(j,"prepend","unshift"),N(j,"size","length"),N(j,"slice","[]"),N(j,"to_s","inspect"),m.$pristine(j.$singleton_class(),"allocate"),m.$pristine(j,"copy_instance_variables","initialize_dup")}(0,0,[])},Opal.modules["corelib/hash"]=function(e){var t=e.yield1,r=e.hash,n=e.hash_init,i=e.hash_get,o=e.hash_put,s=e.hash_delete,a=e.deny_frozen_access,$=e.freeze,l=e.klass,u=e.slice,c=e.Opal,_=e.Kernel,d=e.defs,p=e.def,h=e.send,f=e.rb_ge,m=e.rb_gt,g=e.hash2,b=e.truthy,v=e.to_a,y=e.return_self,x=e.alias,k=e.top,w=e.nil,A=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),k.$require("corelib/enumerable"),function(k,E,S){var C,O=l("::",null,"Hash"),R=[O].concat(S),I=e.$r(R);return O.$include(A("Enumerable")),O.$$prototype.$$is_hash=!0,d(O,"$[]",(function(e){var t,r,n,i=this,o=(t=u(arguments)).length;if(1===o){if((r=c["$coerce_to?"](t["$[]"](0),A("Hash"),"to_hash"))!==w)return i.$allocate()["$merge!"](r);for((t=c["$coerce_to?"](t["$[]"](0),A("Array"),"to_ary"))===w&&_.$raise(A("ArgumentError"),"odd number of arguments for Hash"),o=t.length,r=i.$allocate(),n=0;n<o;n++)if(t[n].$$is_array)switch(t[n].length){case 1:r.$store(t[n][0],w);break;case 2:r.$store(t[n][0],t[n][1]);break;default:_.$raise(A("ArgumentError"),"invalid number of elements ("+t[n].length+" for 1..2)")}return r}for(o%2!=0&&_.$raise(A("ArgumentError"),"odd number of arguments for Hash"),r=i.$allocate(),n=0;n<o;n+=2)r.$store(t[n],t[n+1]);return r}),-1),d(O,"$allocate",(function(){var e=new this.$$constructor;return n(e),e.$$none=w,e.$$proc=w,e})),d(O,"$try_convert",(function(e){return c["$coerce_to?"](e,A("Hash"),"to_hash")})),p(O,"$initialize",(function e(t){var r=e.$$p||w,n=this;return e.$$p=null,a(n),void 0!==t&&r!==w&&_.$raise(A("ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=void 0===t?w:t,n.$$proc=r,n}),-1),p(O,"$==",(function(e){var t=this;if(t===e)return!0;if(!e.$$is_hash)return!1;if(t.$$keys.length!==e.$$keys.length)return!1;for(var r,n,o,s=0,a=t.$$keys,$=a.length;s<$;s++)if((r=a[s]).$$is_string?(n=t.$$smap[r],o=e.$$smap[r]):(n=r.value,o=i(e,r.key)),void 0===o||!n["$eql?"](o))return!1;return!0})),p(O,"$>=",(function(e){var t=w;return e=c["$coerce_to!"](e,A("Hash"),"to_hash"),!(this.$$keys.length<e.$$keys.length)&&(t=!0,h(e,"each",[],(function e(r,n){var i;null==r&&(r=w),null==n&&(n=w),null!=(i=(null==e.$$s?this:e.$$s).$fetch(r,null))&&i===n||(t=!1)}),{$$s:this}),t)})),p(O,"$>",(function(e){return e=c["$coerce_to!"](e,A("Hash"),"to_hash"),!(this.$$keys.length<=e.$$keys.length)&&f(this,e)})),p(O,"$<",(function(e){return e=c["$coerce_to!"](e,A("Hash"),"to_hash"),m(e,this)})),p(O,"$<=",(function(e){return e=c["$coerce_to!"](e,A("Hash"),"to_hash"),f(e,this)})),p(O,"$[]",(function(e){var t=i(this,e);return void 0!==t?t:this.$default(e)})),p(O,"$[]=",(function(e,t){return a(this),o(this,e,t),t})),p(O,"$assoc",(function(e){for(var t,r=0,n=this.$$keys,i=n.length;r<i;r++)if((t=n[r]).$$is_string){if(t["$=="](e))return[t,this.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return w})),p(O,"$clear",(function(){var e=this;return a(e),n(e),e})),p(O,"$clone",(function(){var t=new this.$$class;return n(t),e.hash_clone(this,t),t})),p(O,"$compact",(function(){for(var e,t,n=r(),i=0,s=this.$$keys,a=s.length;i<a;i++)(e=s[i]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),t!==w&&o(n,e,t);return n})),p(O,"$compact!",(function(){var e=this;a(e);for(var t,r,n=!1,i=0,o=e.$$keys,$=o.length;i<$;i++)(t=o[i]).$$is_string?r=e.$$smap[t]:(r=t.value,t=t.key),r===w&&void 0!==s(e,t)&&(n=!0,$--,i--);return n?e:w})),p(O,"$compare_by_identity",(function(){var e=this;a(e);var t,r,n,s,$=e.$$keys;if(e.$$by_identity)return e;if(0===e.$$keys.length)return e.$$by_identity=!0,e;for(s=g([],{}).$compare_by_identity(),t=0,r=$.length;t<r;t++)(n=$[t]).$$is_string||(n=n.key),o(s,n,i(e,n));return e.$$by_identity=!0,e.$$map=s.$$map,e.$$smap=s.$$smap,e})),p(O,"$compare_by_identity?",(function(){return!0===this.$$by_identity})),p(O,"$default",(function(e){var t=this;return void 0!==e&&t.$$proc!==w&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?w:t.$$none}),-1),p(O,"$default=",(function(e){var t=this;return a(t),t.$$proc=w,t.$$none=e,e})),p(O,"$default_proc",(function(){return void 0!==this.$$proc?this.$$proc:w})),p(O,"$default_proc=",(function(e){var t=this;a(t);var r=e;return r!==w&&(r=c["$coerce_to!"](r,A("Proc"),"to_proc"))["$lambda?"]()&&2!==r.$arity().$abs()&&_.$raise(A("TypeError"),"default_proc takes two arguments"),t.$$none=w,t.$$proc=r,e})),p(O,"$delete",(function t(r){var n=t.$$p||w;t.$$p=null,a(this);var i=s(this,r);return void 0!==i?i:n!==w?e.yield1(n,r):w})),p(O,"$delete_if",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["delete_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});a(r);for(var n,i,o,$=0,l=r.$$keys,u=l.length;$<u;$++)(n=l[$]).$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),!1!==(o=t(n,i))&&o!==w&&void 0!==s(r,n)&&(u--,$--);return r})),p(O,"$dig",(function(e,t){var r,n=w;return r=u(arguments,1),(n=this["$[]"](e))===w||0===r.length?n:(b(n["$respond_to?"]("dig"))||_.$raise(A("TypeError"),n.$class()+" does not have #dig method"),h(n,"dig",v(r)))}),-2),p(O,"$each",(function e(){var r=e.$$p||w,n=this;if(e.$$p=null,!b(r))return h(n,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var i,o,s=0,a=n.$$keys.slice(),$=a.length;s<$;s++)(i=a[s]).$$is_string?o=n.$$smap[i]:(o=i.value,i=i.key),t(r,[i,o]);return n})),p(O,"$each_key",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["each_key"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n,i=0,o=r.$$keys.slice(),s=o.length;i<s;i++)t((n=o[i]).$$is_string?n:n.key);return r})),p(O,"$each_value",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["each_value"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var n,i=0,o=r.$$keys.slice(),s=o.length;i<s;i++)t((n=o[i]).$$is_string?r.$$smap[n]:n.value);return r})),p(O,"$empty?",(function(){return 0===this.$$keys.length})),p(O,"$except",(function(e){var t;return t=u(arguments),h(this.$dup(),"except!",v(t))}),-1),p(O,"$except!",(function(e){var t;return t=u(arguments),h(t,"each",[],(function e(t){return null==t&&(t=w),(null==e.$$s?this:e.$$s).$delete(t)}),{$$s:this}),this}),-1),p(O,"$fetch",(function e(t,r){var n=e.$$p||w;e.$$p=null;var o=i(this,t);return void 0!==o?o:n!==w?n(t):void 0!==r?r:_.$raise(A("KeyError").$new("key not found: "+t.$inspect(),g(["key","receiver"],{key:t,receiver:this})))}),-2),p(O,"$fetch_values",(function e(t){var r,n=e.$$p||w;return e.$$p=null,r=u(arguments),h(r,"map",[],(function e(t){return null==t&&(t=w),h(null==e.$$s?this:e.$$s,"fetch",[t],n.$to_proc())}),{$$s:this})}),-1),p(O,"$flatten",(function(e){null==e&&(e=1),e=c["$coerce_to!"](e,A("Integer"),"to_int");for(var t,r,n=[],i=0,o=this.$$keys,s=o.length;i<s;i++)if((t=o[i]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),n.push(t),r.$$is_array){if(1===e){n.push(r);continue}n=n.concat(r.$flatten(e-2))}else n.push(r);return n}),-1),p(O,"$freeze",(function(){var e=this;return b(e["$frozen?"]())?e:$(e)})),p(O,"$has_key?",(function(e){return void 0!==i(this,e)})),p(O,"$has_value?",(function(e){for(var t,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((t=n[r]).$$is_string?this.$$smap[t]:t.value)["$=="](e))return!0;return!1})),p(O,"$hash",(function(){var t,r,n=this,i=void 0===e.hash_ids,o=n.$object_id(),s=["Hash"];try{if(i&&(e.hash_ids=Object.create(null)),e[o])return"self";for(t in e.hash_ids)if(r=e.hash_ids[t],n["$eql?"](r))return"self";e.hash_ids[o]=n;for(var a=0,$=n.$$keys,l=$.length;a<l;a++)(t=$[a]).$$is_string?s.push([t,n.$$smap[t].$hash()]):s.push([t.key_hash,t.value.$hash()]);return s.sort().join()}finally{i&&(e.hash_ids=void 0)}})),p(O,"$index",(function(e){for(var t,r,n=0,i=this.$$keys,o=i.length;n<o;n++)if((t=i[n]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),r["$=="](e))return t;return w})),p(O,"$indexes",(function(e){for(var t,r,n,o=[],s=0,a=(t=u(arguments)).length;s<a;s++)r=t[s],void 0!==(n=i(this,r))?o.push(n):o.push(this.$default());return o}),-1),p(O,"$inspect",(function(){var e=this,t=void 0===C,r=e.$object_id(),n=[];return function(){try{if(t&&(C={}),C.hasOwnProperty(r))return"{...}";C[r]=!0;for(var i,o,s=0,a=e.$$keys,$=a.length;s<$;s++)(i=a[s]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),i=I("Opal").$inspect(i),o=I("Opal").$inspect(o),n.push(i+"=>"+o);return"{"+n.join(", ")+"}"}finally{t&&(C=void 0)}}()})),p(O,"$invert",(function(){for(var e,t,n=r(),i=0,s=this.$$keys,a=s.length;i<a;i++)(e=s[i]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),o(n,t,e);return n})),p(O,"$keep_if",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["keep_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});a(r);for(var n,i,o,$=0,l=r.$$keys,u=l.length;$<u;$++)(n=l[$]).$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),!1!==(o=t(n,i))&&o!==w||void 0!==s(r,n)&&(u--,$--);return r})),p(O,"$keys",(function(){for(var e,t=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(e=n[r]).$$is_string?t.push(e):t.push(e.key);return t})),p(O,"$length",(function(){return this.$$keys.length})),p(O,"$merge",(function e(t){var r,n=e.$$p||w;return e.$$p=null,r=u(arguments),h(this.$dup(),"merge!",v(r),n.$to_proc())}),-1),p(O,"$merge!",(function e(t){var r,n,s,$,l,_,d,p,h,f=e.$$p||w,m=this;for(e.$$p=null,r=u(arguments),a(m),n=0;n<r.length;++n)if(_=(l=($=c["$coerce_to!"](r[n],A("Hash"),"to_hash")).$$keys).length,f===w)for(s=0;s<_;s++)(d=l[s]).$$is_string?h=$.$$smap[d]:(h=d.value,d=d.key),o(m,d,h);else for(s=0;s<_;s++)(d=l[s]).$$is_string?h=$.$$smap[d]:(h=d.value,d=d.key),void 0!==(p=i(m,d))?o(m,d,f(d,p,h)):o(m,d,h);return m}),-1),p(O,"$rassoc",(function(e){for(var t,r,n=0,i=this.$$keys,o=i.length;n<o;n++)if((t=i[n]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),r["$=="](e))return[t,r];return w})),p(O,"$rehash",(function(){var t=this;return a(t),e.hash_rehash(t),t})),p(O,"$reject",(function e(){var t=e.$$p||w,n=this;if(e.$$p=null,!b(t))return h(n,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var i,s,a,$=r(),l=0,u=n.$$keys,c=u.length;l<c;l++)(i=u[l]).$$is_string?s=n.$$smap[i]:(s=i.value,i=i.key),!1!==(a=t(i,s))&&a!==w||o($,i,s);return $})),p(O,"$reject!",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["reject!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});a(r);for(var n,i,o,$=!1,l=0,u=r.$$keys,c=u.length;l<c;l++)(n=u[l]).$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),!1!==(o=t(n,i))&&o!==w&&void 0!==s(r,n)&&($=!0,c--,l--);return $?r:w})),p(O,"$replace",(function(e){var t=this;a(t),e=c["$coerce_to!"](e,A("Hash"),"to_hash"),n(t);for(var r,i,s=0,$=e.$$keys,l=$.length;s<l;s++)(r=$[s]).$$is_string?i=e.$$smap[r]:(i=r.value,r=r.key),o(t,r,i);return b(e.$default_proc())?t["$default_proc="](e.$default_proc()):t["$default="](e.$default()),t})),p(O,"$select",(function e(){var t=e.$$p||w,n=this;if(e.$$p=null,!b(t))return h(n,"enum_for",["select"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var i,s,a,$=r(),l=0,u=n.$$keys,c=u.length;l<c;l++)(i=u[l]).$$is_string?s=n.$$smap[i]:(s=i.value,i=i.key),!1!==(a=t(i,s))&&a!==w&&o($,i,s);return $})),p(O,"$select!",(function e(){var t=e.$$p||w,r=this;if(e.$$p=null,!b(t))return h(r,"enum_for",["select!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});a(r);for(var n,i,o,$=w,l=0,u=r.$$keys,c=u.length;l<c;l++)(n=u[l]).$$is_string?i=r.$$smap[n]:(i=n.value,n=n.key),!1!==(o=t(n,i))&&o!==w||(void 0!==s(r,n)&&(c--,l--),$=r);return $})),p(O,"$shift",(function(){var e=this;a(e);var t,r=e.$$keys;return r.length>0?[t=(t=r[0]).$$is_string?t:t.key,s(e,t)]:w})),p(O,"$slice",(function(e){var t;t=u(arguments);for(var n=r(),s=0,a=t.length;s<a;s++){var $=t[s],l=i(this,$);void 0!==l&&o(n,$,l)}return n}),-1),p(O,"$to_a",(function(){for(var e,t,r=[],n=0,i=this.$$keys,o=i.length;n<o;n++)(e=i[n]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),r.push([e,t]);return r})),p(O,"$to_h",(function t(){var r=t.$$p||w,i=this;if(t.$$p=null,r!==w)return h(i,"map",[],r.$to_proc()).$to_h();if(i.$$class===e.Hash)return i;var o=new e.Hash;return n(o),e.hash_clone(i,o),o})),p(O,"$to_hash",y),p(O,"$to_proc",(function(){return h(this,"proc",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&_.$raise(A("ArgumentError"),"no key given"),r["$[]"](t)}),{$$arity:-1,$$s:this})})),p(O,"$transform_keys",(function e(){var n=e.$$p||w,i=this;if(e.$$p=null,!b(n))return h(i,"enum_for",["transform_keys"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});for(var s,a,$=r(),l=0,u=i.$$keys,c=u.length;l<c;l++)(s=u[l]).$$is_string?a=i.$$smap[s]:(a=s.value,s=s.key),s=t(n,s),o($,s,a);return $})),p(O,"$transform_keys!",(function r(){var n=r.$$p||w,i=this;if(r.$$p=null,!b(n))return h(i,"enum_for",["transform_keys!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});a(i);var $,l,u,c,_=e.slice(i.$$keys),d=_.length;for($=0;$<d;$++)(l=_[$]).$$is_string?u=i.$$smap[l]:(u=l.value,l=l.key),c=t(n,l),s(i,l),o(i,c,u);return i})),p(O,"$transform_values",(function e(){var n=e.$$p||w,i=this;if(e.$$p=null,!b(n))return h(i,"enum_for",["transform_values"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});for(var s,a,$=r(),l=0,u=i.$$keys,c=u.length;l<c;l++)(s=u[l]).$$is_string?a=i.$$smap[s]:(a=s.value,s=s.key),a=t(n,a),o($,s,a);return $})),p(O,"$transform_values!",(function e(){var r=e.$$p||w,n=this;if(e.$$p=null,!b(r))return h(n,"enum_for",["transform_values!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});a(n);for(var i,s,$=0,l=n.$$keys,u=l.length;$<u;$++)(i=l[$]).$$is_string?s=n.$$smap[i]:(s=i.value,i=i.key),s=t(r,s),o(n,i,s);return n})),p(O,"$values",(function(){for(var e,t=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(e=n[r]).$$is_string?t.push(this.$$smap[e]):t.push(e.value);return t})),x(O,"dup","clone"),x(O,"each_pair","each"),x(O,"eql?","=="),x(O,"filter","select"),x(O,"filter!","select!"),x(O,"include?","has_key?"),x(O,"indices","indexes"),x(O,"key","index"),x(O,"key?","has_key?"),x(O,"member?","has_key?"),x(O,"size","length"),x(O,"store","[]="),x(O,"to_s","inspect"),x(O,"update","merge!"),x(O,"value?","has_value?"),x(O,"values_at","indexes")}(0,0,[])},Opal.modules["corelib/number"]=function(e){var t=e.klass,r=e.Opal,n=e.Kernel,i=e.def,o=e.eqeqeq,s=e.truthy,a=e.rb_gt,$=e.not,l=e.rb_lt,u=e.alias,c=e.send2,_=e.find_super,d=e.send,p=e.rb_plus,h=e.rb_minus,f=e.eqeq,m=e.return_self,g=e.rb_divide,b=e.to_ary,v=e.rb_times,y=e.rb_le,x=e.rb_ge,k=e.return_val,w=e.const_set,A=e.top,E=e.nil,S=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),A.$require("corelib/numeric"),function(w,A,C){var O=t("::",A,"Number");r.$bridge(Number,O),e.prop(O.$$prototype,"$$is_number",!0),O.$$is_number_class=!0,function(t,r){i(t,"$allocate",(function(){return n.$raise(S("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(O)),i(O,"$coerce",(function(e){var t=this;if(e===E)n.$raise(S("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[n.$Float(e),t];if(e["$respond_to?"]("to_f"))return[r["$coerce_to!"](e,S("Float"),"to_f"),t];if(e.$$is_number)return[e,t];n.$raise(S("TypeError"),"can't convert "+e.$class()+" into Float")}})),i(O,"$__id__",(function(){return 2*this+1})),i(O,"$+",(function(e){return e.$$is_number?this+e:this.$__coerced__("+",e)})),i(O,"$-",(function(e){return e.$$is_number?this-e:this.$__coerced__("-",e)})),i(O,"$*",(function(e){return e.$$is_number?this*e:this.$__coerced__("*",e)})),i(O,"$/",(function(e){return e.$$is_number?this/e:this.$__coerced__("/",e)})),i(O,"$%",(function(e){var t=this;return e.$$is_number?e==-1/0?e:0!=e?e<0||t<0?(t%e+e)%e:t%e:void n.$raise(S("ZeroDivisionError"),"divided by 0"):t.$__coerced__("%",e)})),i(O,"$&",(function(e){return e.$$is_number?this&e:this.$__coerced__("&",e)})),i(O,"$|",(function(e){return e.$$is_number?this|e:this.$__coerced__("|",e)})),i(O,"$^",(function(e){return e.$$is_number?this^e:this.$__coerced__("^",e)})),i(O,"$<",(function(e){return e.$$is_number?this<e:this.$__coerced__("<",e)})),i(O,"$<=",(function(e){return e.$$is_number?this<=e:this.$__coerced__("<=",e)})),i(O,"$>",(function(e){return e.$$is_number?this>e:this.$__coerced__(">",e)})),i(O,"$>=",(function(e){return e.$$is_number?this>=e:this.$__coerced__(">=",e)}));function R(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),t}function I(e){return new DataView(e.buffer).getFloat64(0,!0)}function T(e){for(var t=R(e),r=0;r<t.length;r++){if(255!==t[r]){t[r]++;break}t[r]=0}return I(t)}function z(e){for(var t=R(e),r=0;r<t.length;r++){if(0!==t[r]){t[r]--;break}t[r]=255}return I(t)}i(O,"$<=>",(function(t){try{return function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?E:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)}(this,t)}catch(t){if(!e.rescue(t,[S("ArgumentError")]))throw t;try{return E}finally{e.pop_exception()}}})),i(O,"$<<",(function(e){return(e=r["$coerce_to!"](e,S("Integer"),"to_int"))>0?this<<e:this>>-e})),i(O,"$>>",(function(e){return(e=r["$coerce_to!"](e,S("Integer"),"to_int"))>0?this>>e:this<<-e})),i(O,"$[]",(function(e){return(e=r["$coerce_to!"](e,S("Integer"),"to_int"))<0?0:e>=32?this<0?1:0:this>>e&1})),i(O,"$+@",(function(){return+this})),i(O,"$-@",(function(){return-this})),i(O,"$~",(function(){return~this})),i(O,"$**",(function(e){var t=this;return o(S("Integer"),e)?$(S("Integer")["$==="](t))||s(a(e,0))?Math.pow(t,e):S("Rational").$new(t,1)["$**"](e):l(t,0)&&(o(S("Float"),e)||o(S("Rational"),e))?S("Complex").$new(t,0)["$**"](e.$to_f()):s(null!=e.$$is_number)?Math.pow(t,e):t.$__coerced__("**",e)})),i(O,"$==",(function(e){return e.$$is_number?this.valueOf()===e.valueOf():!!e["$respond_to?"]("==")&&e["$=="](this)})),u(O,"===","=="),i(O,"$abs",(function(){return Math.abs(this)})),i(O,"$abs2",(function(){return Math.abs(this*this)})),i(O,"$allbits?",(function(e){return(this&(e=r["$coerce_to!"](e,S("Integer"),"to_int")))==e})),i(O,"$anybits?",(function(e){return 0!=(this&(e=r["$coerce_to!"](e,S("Integer"),"to_int")))})),i(O,"$angle",(function(){var e=this;return s(e["$nan?"]())?e:0==e?1/e>0?0:Math.PI:e<0?Math.PI:0})),i(O,"$bit_length",(function(){var e=this;if(o(S("Integer"),e)||n.$raise(S("NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),0===e||-1===e)return 0;for(var t=0,r=e<0?~e:e;0!=r;)t+=1,r>>>=1;return t})),i(O,"$ceil",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var r=Math.pow(10,e),n=Math.ceil(t*r)/r;return t%1==0&&(n=Math.round(n)),n}),-1),i(O,"$chr",(function(t){return e.enc(String.fromCharCode(this),t||"BINARY")}),-1),i(O,"$denominator",(function e(){var t=e.$$p||E,r=this;return e.$$p=null,s(r["$nan?"]())||s(r["$infinite?"]())?1:c(r,_(r,"denominator",e,!1,!0),"denominator",[],t)})),i(O,"$downto",(function e(t){var r=e.$$p||E,i=this;if(e.$$p=null,r===E)return d(i,"enum_for",["downto",t],(function e(){var r=null==e.$$s?this:e.$$s;return o(S("Numeric"),t)||n.$raise(S("ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),s(a(t,r))?0:p(h(r,t),1)}),{$$s:i});t.$$is_number||n.$raise(S("ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var $=i;$>=t;$--)r($);return i})),i(O,"$equal?",(function(e){var t;return s(t=this["$=="](e))?t:isNaN(this)&&isNaN(e)})),i(O,"$even?",(function(){return this%2==0})),i(O,"$floor",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var r=Math.pow(10,e),n=Math.floor(t*r)/r;return t%1==0&&(n=Math.round(n)),n}),-1),i(O,"$gcd",(function(e){o(S("Integer"),e)||n.$raise(S("TypeError"),"not an integer");for(var t=Math.abs(this),r=Math.abs(e);t>0;){var i=t;t=r%t,r=i}return r})),i(O,"$gcdlcm",(function(e){return[this.$gcd(e),this.$lcm(e)]})),i(O,"$integer?",(function(){return this%1==0})),i(O,"$is_a?",(function e(t){var r=e.$$p||E,n=this;return e.$$p=null,!(!f(t,S("Integer"))||!o(S("Integer"),n))||(!(!f(t,S("Integer"))||!o(S("Integer"),n))||(!(!f(t,S("Float"))||!o(S("Float"),n))||c(n,_(n,"is_a?",e,!1,!0),"is_a?",[t],r)))})),i(O,"$instance_of?",(function e(t){var r=e.$$p||E,n=this;return e.$$p=null,!(!f(t,S("Integer"))||!o(S("Integer"),n))||(!(!f(t,S("Integer"))||!o(S("Integer"),n))||(!(!f(t,S("Float"))||!o(S("Float"),n))||c(n,_(n,"instance_of?",e,!1,!0),"instance_of?",[t],r)))})),i(O,"$lcm",(function(e){var t=this;return o(S("Integer"),e)||n.$raise(S("TypeError"),"not an integer"),0==t||0==e?0:Math.abs(t*e/t.$gcd(e))})),i(O,"$next",(function(){return this+1})),i(O,"$nobits?",(function(e){return 0==(this&(e=r["$coerce_to!"](e,S("Integer"),"to_int")))})),i(O,"$nonzero?",(function(){return 0==this?E:this})),i(O,"$numerator",(function e(){var t=e.$$p||E,r=this;return e.$$p=null,s(r["$nan?"]())||s(r["$infinite?"]())?r:c(r,_(r,"numerator",e,!1,!0),"numerator",[],t)})),i(O,"$odd?",(function(){return this%2!=0})),i(O,"$ord",m),i(O,"$pow",(function(e,t){var r=this;return 0==r&&n.$raise(S("ZeroDivisionError"),"divided by 0"),void 0===t?r["$**"](e):(S("Integer")["$==="](e)||n.$raise(S("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),e<0&&n.$raise(S("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),S("Integer")["$==="](t)||n.$raise(S("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===t&&n.$raise(S("ZeroDivisionError"),"divided by 0"),r["$**"](e)["$%"](t))}),-2),i(O,"$pred",(function(){return this-1})),i(O,"$quo",(function e(t){var r=e.$$p||E,n=this;return e.$$p=null,o(S("Integer"),n)?c(n,_(n,"quo",e,!1,!0),"quo",[t],r):g(n,t)})),i(O,"$rationalize",(function(e){var t,r,i=this,a=E,$=E;return arguments.length>1&&n.$raise(S("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),o(S("Integer"),i)?S("Rational").$new(i,1):s(i["$infinite?"]())?n.$raise(S("FloatDomainError"),"Infinity"):s(i["$nan?"]())?n.$raise(S("FloatDomainError"),"NaN"):s(null==e)?(r=S("Math").$frexp(i),a=null==(t=b(r))[0]?E:t[0],$=null==t[1]?E:t[1],a=S("Math").$ldexp(a,S(S("Float"),"MANT_DIG")).$to_i(),$=h($,S(S("Float"),"MANT_DIG")),S("Rational").$new(v(2,a),1["$<<"](h(1,$))).$rationalize(S("Rational").$new(1,1["$<<"](h(1,$))))):i.$to_r().$rationalize(e)}),-1),i(O,"$remainder",(function(e){return h(this,v(e,g(this,e).$truncate()))})),i(O,"$round",(function(e){var t,i,$=this,u=E;if(o(S("Integer"),$)){if(s(null==e))return $;if(o(S("Float"),e)&&s(e["$infinite?"]())&&n.$raise(S("RangeError"),"Infinity"),e=r["$coerce_to!"](e,S("Integer"),"to_int"),s(l(e,S(S("Integer"),"MIN")))&&n.$raise(S("RangeError"),"out of bounds"),s(e>=0))return $;if(.415241*(e=e["$-@"]())-.125>$.$size())return 0;var c=Math.pow(10,e),_=Math.floor((Math.abs($)+c/2)/c)*c;return $<0?-_:_}if(s($["$nan?"]())&&s(null==e)&&n.$raise(S("FloatDomainError"),"NaN"),e=r["$coerce_to!"](e||0,S("Integer"),"to_int"),s(y(e,0)))s($["$nan?"]())?n.$raise(S("RangeError"),"NaN"):s($["$infinite?"]())&&n.$raise(S("FloatDomainError"),"Infinity");else{if(f(e,0))return Math.round($);if(s($["$nan?"]())||s($["$infinite?"]()))return $}return i=S("Math").$frexp($),null==(t=b(i))[0]||t[0],u=null==t[1]?E:t[1],s(x(e,h(p(S(S("Float"),"DIG"),2),s(a(u,0))?g(u,4):h(g(u,3),1))))?$:s(l(e,(s(a(u,0))?p(g(u,3),1):g(u,4))["$-@"]()))?0:Math.round($*Math.pow(10,e))/Math.pow(10,e)}),-1),i(O,"$times",(function e(){var t=e.$$p||E,r=this;if(e.$$p=null,!s(t))return d(r,"enum_for",["times"],(function e(){return null==e.$$s?this:e.$$s}),{$$s:r});for(var n=0;n<r;n++)t(n);return r})),i(O,"$to_f",m),i(O,"$to_i",(function(){var e=this;return e<0?Math.ceil(e):Math.floor(e)})),i(O,"$to_r",(function(){var e,t,r=this,n=E,i=E;return o(S("Integer"),r)?S("Rational").$new(r,1):(t=S("Math").$frexp(r),n=null==(e=b(t))[0]?E:e[0],i=null==e[1]?E:e[1],n=S("Math").$ldexp(n,S(S("Float"),"MANT_DIG")).$to_i(),i=h(i,S(S("Float"),"MANT_DIG")),v(n,S(S("Float"),"RADIX")["$**"](i)).$to_r())})),i(O,"$to_s",(function(e){var t=this;return null==e&&(e=10),e=r["$coerce_to!"](e,S("Integer"),"to_int"),(s(l(e,2))||s(a(e,36)))&&n.$raise(S("ArgumentError"),"invalid radix "+e),f(t,0)&&s(1/t==-1/0)?"-0.0":t.toString(e)}),-1),i(O,"$truncate",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var r=Math.pow(10,e),n=parseInt(t*r,10)/r;return t%1==0&&(n=Math.round(n)),n}),-1),i(O,"$digits",(function(e){var t=this;null==e&&(e=10),l(t,0)&&n.$raise(S(S("Math"),"DomainError"),"out of domain"),e=r["$coerce_to!"](e,S("Integer"),"to_int"),s(l(e,2))&&n.$raise(S("ArgumentError"),"invalid radix "+e),t!=parseInt(t)&&n.$raise(S("NoMethodError"),"undefined method `digits' for "+t.$inspect());var i=t,o=[];if(0==t)return[0];for(;0!=i;)o.push(i%e),i=parseInt(i/e,10);return o}),-1),i(O,"$divmod",(function e(t){var r=e.$$p||E,i=this;return e.$$p=null,s(i["$nan?"]())||s(t["$nan?"]())?n.$raise(S("FloatDomainError"),"NaN"):s(i["$infinite?"]())?n.$raise(S("FloatDomainError"),"Infinity"):c(i,_(i,"divmod",e,!1,!0),"divmod",[t],r)})),i(O,"$upto",(function e(t){var r=e.$$p||E,i=this;if(e.$$p=null,r===E)return d(i,"enum_for",["upto",t],(function e(){var r=null==e.$$s?this:e.$$s;return o(S("Numeric"),t)||n.$raise(S("ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),s(l(t,r))?0:p(h(t,r),1)}),{$$s:i});t.$$is_number||n.$raise(S("ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var a=i;a<=t;a++)r(a);return i})),i(O,"$zero?",(function(){return 0==this})),i(O,"$size",k(4)),i(O,"$nan?",(function(){return isNaN(this)})),i(O,"$finite?",(function(){var e=this;return e!=1/0&&e!=-1/0&&!isNaN(e)})),i(O,"$infinite?",(function(){return this==1/0?1:this==-1/0?-1:E})),i(O,"$positive?",(function(){var e=this;return 0!=e&&(e==1/0||1/e>0)})),i(O,"$negative?",(function(){return this==-1/0||1/this<0})),i(O,"$next_float",(function(){var e=this;return f(e,S(S("Float"),"INFINITY"))?S(S("Float"),"INFINITY"):s(e["$nan?"]())?S(S("Float"),"NAN"):x(e,0)?T(Math.abs(e)):z(e)})),i(O,"$prev_float",(function(){var e=this;return f(e,S(S("Float"),"INFINITY")["$-@"]())?S(S("Float"),"INFINITY")["$-@"]():s(e["$nan?"]())?S(S("Float"),"NAN"):a(e,0)?z(e):-T(Math.abs(e))})),u(O,"arg","angle"),u(O,"eql?","=="),u(O,"fdiv","/"),u(O,"inspect","to_s"),u(O,"kind_of?","is_a?"),u(O,"magnitude","abs"),u(O,"modulo","%"),u(O,"object_id","__id__"),u(O,"phase","angle"),u(O,"succ","next"),u(O,"to_int","to_i")}(0,S("Numeric")),w("::","Fixnum",S("Number")),function(o,s,a){var $=t("::",s,"Integer"),l=[$].concat(a);$.$$is_number_class=!0,$.$$is_integer_class=!0,function(t,o){var s=[t].concat(o),a=e.$r(s);i(t,"$allocate",(function(){return n.$raise(S("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new"),i(t,"$sqrt",(function(e){return(e=r["$coerce_to!"](e,S("Integer"),"to_int"))<0&&n.$raise(S(S("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)})),i(t,"$try_convert",(function(e){return a("Opal")["$coerce_to?"](e,this,"to_int")}))}(e.get_singleton_class($),l),w($,"MAX",Math.pow(2,30)-1),w($,"MIN",-Math.pow(2,30))}(0,S("Numeric"),[]),function(r,o,s){var a=t("::",o,"Float");return a.$$is_number_class=!0,function(t,r){i(t,"$allocate",(function(){return n.$raise(S("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new"),i(t,"$===",(function(e){return!!e.$$is_number}))}(e.get_singleton_class(a)),w(a,"INFINITY",1/0),w(a,"MAX",Number.MAX_VALUE),w(a,"MIN",Number.MIN_VALUE),w(a,"NAN",NaN),w(a,"DIG",15),w(a,"MANT_DIG",53),w(a,"RADIX",2),w(a,"EPSILON",Number.EPSILON||2220446049250313e-31)}(0,S("Numeric"))},Opal.modules["corelib/range"]=function(e){var t=e.klass,r=e.truthy,n=e.Kernel,i=e.def,o=e.not,s=e.send2,a=e.find_super,$=e.rb_lt,l=e.rb_le,u=e.send,c=e.eqeq,_=e.eqeqeq,d=e.return_ivar,p=e.rb_gt,h=e.rb_minus,f=e.Opal,m=e.rb_divide,g=e.rb_plus,b=e.rb_times,v=e.rb_ge,y=e.thrower,x=e.alias,k=e.top,w=e.nil,A=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),k.$require("corelib/enumerable"),function(k,E,S){var C=t("::",null,"Range"),O=[C].concat(S),R=e.$r(O),I=C.$$prototype;function T(e){return e.begin===w||e.end===w||e.begin===-1/0||e.end===1/0||e.begin===1/0||e.end===-1/0}return I.begin=I.end=I.excl=w,C.$include(A("Enumerable")),C.$$prototype.$$is_range=!0,C.$attr_reader("begin","end"),i(C,"$initialize",(function(e,t,i){var o=this;return null==i&&(i=!1),r(o.begin)&&n.$raise(A("NameError"),"'initialize' called twice"),r(e["$<=>"](t))||r(e["$nil?"]())||r(t["$nil?"]())||n.$raise(A("ArgumentError"),"bad value for range"),o.begin=e,o.end=t,o.excl=i}),-3),i(C,"$===",(function(e){return this["$include?"](e)})),i(C,"$count",(function e(){var t=e.$$p||w,n=this;return e.$$p=null,o(t!==w)&&r(T(n))?A(A("Float"),"INFINITY"):s(n,a(n,"count",e,!1,!0),"count",[],t)})),i(C,"$to_a",(function e(){var t=e.$$p||w,i=this;return e.$$p=null,r(T(i))&&n.$raise(A("TypeError"),"cannot convert endless range to an array"),s(i,a(i,"to_a",e,!1,!0),"to_a",[],t)})),i(C,"$cover?",(function(e){var t,n,i=this,o=w,s=w,a=w;return t=r(o=r(s=r(a=i.begin["$nil?"]())?-1:a)?s:i.begin["$<=>"](e))&&o,n=r(o=r(s=r(a=i.end["$nil?"]())?-1:a)?s:e["$<=>"](i.end))&&o,r(o=r(s=r(i.excl)?r(a=n)?$(n,0):a:r(a=n)?l(n,0):a)?t:s)?l(t,0):o})),i(C,"$each",(function t(){var i,s,a,l=t.$$p||w,_=this,d=w,p=w;if(t.$$p=null,l===w)return u(_,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:_});if(_.begin.$$is_number&&_.end.$$is_number){for(_.begin%1==0&&_.end%1==0||n.$raise(A("TypeError"),"can't iterate from Float"),s=_.begin,a=_.end+(r(_.excl)?0:1);s<a;s++)l(s);return _}if(_.begin.$$is_string&&_.end.$$is_string)return u(_.begin,"upto",[_.end,_.excl],l.$to_proc()),_;for(d=_.begin,i=_.end,r(d["$respond_to?"]("succ"))||n.$raise(A("TypeError"),"can't iterate from "+d.$class());r(r(p=_.end["$nil?"]())?p:$(d["$<=>"](i),0));)e.yield1(l,d),d=d.$succ();return o(_.excl)&&c(d,i)&&e.yield1(l,d),_})),i(C,"$eql?",(function(e){var t,n,i=this;return!!_(A("Range"),e)&&(r(t=r(n=i.excl["$==="](e["$exclude_end?"]()))?i.begin["$eql?"](e.$begin()):n)?i.end["$eql?"](e.$end()):t)})),i(C,"$exclude_end?",d("excl")),i(C,"$first",(function e(t){var i=e.$$p||w,o=this;return e.$$p=null,r(o.begin["$nil?"]())&&n.$raise(A("RangeError"),"cannot get the minimum of beginless range"),r(null==t)?o.begin:s(o,a(o,"first",e,!1,!0),"first",[t],i)}),-1),i(C,"$last",(function(e){var t=this;return r(t.end["$nil?"]())&&n.$raise(A("RangeError"),"cannot get the maximum of endless range"),r(null==e)?t.end:t.$to_a().$last(e)}),-1),i(C,"$max",(function e(){var t=e.$$p||w,i=this;return e.$$p=null,r(i.end["$nil?"]())?n.$raise(A("RangeError"),"cannot get the maximum of endless range"):t!==w?s(i,a(i,"max",e,!1,!0),"max",[],t):o(i.begin["$nil?"]())&&(r(p(i.begin,i.end))||r(i.excl)&&c(i.begin,i.end))?w:i.excl?i.end-1:i.end})),i(C,"$min",(function e(){var t=e.$$p||w,i=this;return e.$$p=null,r(i.begin["$nil?"]())?n.$raise(A("RangeError"),"cannot get the minimum of beginless range"):t!==w?s(i,a(i,"min",e,!1,!0),"min",[],t):o(i.end["$nil?"]())&&(r(p(i.begin,i.end))||r(i.excl)&&c(i.begin,i.end))?w:i.begin})),i(C,"$size",(function(){var e,t=this,n=w,i=w;return n=A(A("Float"),"INFINITY"),c(t.begin,n)&&o(t.end["$nil?"]())||c(t.end,n["$-@"]())&&o(t.begin["$nil?"]())?0:r(T(t))?n:_(A("Numeric"),t.begin)&&_(A("Numeric"),t.end)?(e=t.begin,i=t.end,r(t.excl)&&(i=h(i,1)),r($(i,e))?0:(Math.abs(i-e)+1).$to_i()):w})),i(C,"$step",(function t(i){var s=t.$$p||w,a=this,$=w,l=w;function _(){null==i?i=1:i.$$is_number||(i=f["$coerce_to!"](i,A("Integer"),"to_int")),i<0?n.$raise(A("ArgumentError"),"step can't be negative"):0===i&&n.$raise(A("ArgumentError"),"step can't be 0")}return t.$$p=null,s===w?(r(a.begin["$is_a?"](R("Numeric")))||r(a.begin["$nil?"]()))&&(r(a.end["$is_a?"](R("Numeric")))||r(a.end["$nil?"]()))&&o(r($=a.begin["$nil?"]())?a.end["$nil?"]():$)?A(A("Enumerator"),"ArithmeticSequence").$new(a,i,"step"):u(a,"enum_for",["step",i],(function(){return _(),function(){if(!a.begin["$respond_to?"]("succ"))return w;if(a.begin.$$is_string&&a.end.$$is_string)return w;if(i%1==0)return m(a.$size(),i).$ceil();var e,t=a.begin,r=a.end,n=Math.abs,o=Math.floor,s=(n(t)+n(r)+n(r-t))/n(i)*A(A("Float"),"EPSILON");return s>.5&&(s=.5),a.excl?(e=o((r-t)/i-s))*i+t<r&&e++:e=o((r-t)/i+s)+1,e}()})):(_(),r(a.begin.$$is_number&&a.end.$$is_number)?(l=0,function(){try{var t=y("break");u(a,"loop",[],(function n(){var o,a=null==n.$$s?this:n.$$s;return null==a.begin&&(a.begin=w),null==a.excl&&(a.excl=w),null==a.end&&(a.end=w),o=g(a.begin,b(l,i)),r(a.excl)?r(v(o,a.end))&&t.$throw():r(p(o,a.end))&&t.$throw(),e.yield1(s,o),l=g(l,1)}),{$$s:a})}catch(e){if(e===t)return e.$v;throw e}}()):(a.begin.$$is_string&&a.end.$$is_string&&i%1!=0&&n.$raise(A("TypeError"),"no implicit conversion to float from string"),u(a,"each_with_index",[],(function(t,r){return null==t&&(t=w),null==r&&(r=w),c(r["$%"](i),0)?e.yield1(s,t):w}))),a)}),-1),i(C,"$%",(function(e){var t=this;return r(t.begin["$is_a?"](R("Numeric")))&&r(t.end["$is_a?"](R("Numeric")))?A(A("Enumerator"),"ArithmeticSequence").$new(t,e,"%"):t.$step(e)})),i(C,"$bsearch",(function e(){var t=e.$$p||w,i=this;return e.$$p=null,t===w?i.$enum_for("bsearch"):(r(T(i)&&(i.begin.$$is_number||i.end.$$is_number))&&n.$raise(A("NotImplementedError"),"Can't #bsearch an infinite range"),r(i.begin.$$is_number&&i.end.$$is_number)||n.$raise(A("TypeError"),"can't do binary search for "+i.begin.$class()),u(i.$to_a(),"bsearch",[],t.$to_proc()))})),i(C,"$to_s",(function(){var e=this,t=w;return(r(t=e.begin)?t:"")+(r(e.excl)?"...":"..")+(r(t=e.end)?t:"")})),i(C,"$inspect",(function(){var e=this,t=w;return(r(t=e.begin)?e.begin.$inspect():t)+(r(e.excl)?"...":"..")+(r(t=e.end)?e.end.$inspect():t)})),i(C,"$marshal_load",(function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.excl=e["$[]"]("excl")})),i(C,"$hash",(function(){var e=this;return[e.begin,e.end,e.excl].$hash()})),x(C,"==","eql?"),x(C,"include?","cover?"),x(C,"member?","cover?")}(0,0,[])},Opal.modules["corelib/proc"]=function(e){var t,r=e.slice,n=e.klass,i=e.truthy,o=e.Kernel,s=e.defs,a=e.def,$=e.send,l=e.to_a,u=e.return_self,c=e.ensure_kwargs,_=e.Opal,d=e.alias,p=e.nil,h=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),t=n("::",Function,"Proc"),e.prop(t.$$prototype,"$$is_proc",!0),e.prop(t.$$prototype,"$$is_lambda",!1),s(t,"$new",(function e(){var t=e.$$p||p;return e.$$p=null,i(t)||o.$raise(h("ArgumentError"),"tried to create a Proc object without a block"),t})),a(t,"$call",(function t(n){var i,o=t.$$p||p,s=this;t.$$p=null,i=r(arguments),o!==p&&(s.$$p=o);var a,$=s.$$brk,l=s.$$ret;if($||l&&s.$$is_lambda)try{a=s.$$is_lambda?s.apply(null,i):e.yieldX(s,i)}catch(e){if(e===$)return e.$v;if(s.$$is_lambda&&e===l)return e.$v;throw e}else a=s.$$is_lambda?s.apply(null,i):e.yieldX(s,i);return a}),-1),a(t,"$>>",(function e(t){return e.$$p=null,$(o,"proc",[],(function e(n){var i,o,s=e.$$p||p,a=null==e.$$s?this:e.$$s;return e.$$p=null,i=r(arguments),o=$(a,"call",l(i),s.$to_proc()),t.$call(o)}),{$$arity:-1,$$s:this})})),a(t,"$<<",(function e(t){return e.$$p=null,$(o,"proc",[],(function e(n){var i,o,s=e.$$p||p,a=null==e.$$s?this:e.$$s;return e.$$p=null,i=r(arguments),o=$(t,"call",l(i),s.$to_proc()),a.$call(o)}),{$$arity:-1,$$s:this})})),a(t,"$to_proc",u),a(t,"$lambda?",(function(){return!!this.$$is_lambda})),a(t,"$arity",(function(){var e=this;return e.$$is_curried?-1:null!=e.$$arity?e.$$arity:e.length})),a(t,"$source_location",(function(){var e;return this.$$is_curried?p:i(e=this.$$source_location)?e:p})),a(t,"$binding",(function(){var e=this;return e.$$is_curried&&o.$raise(h("ArgumentError"),"Can't create Binding"),i(h("::","Binding","skip_raise")?"constant":p)?h("Binding").$new(p,[],e.$$s,e.$source_location()):p})),a(t,"$parameters",(function(e){var t,r=this;if(t=(e=c(e)).$$smap.lambda,r.$$is_curried)return[["rest"]];if(r.$$parameters){if(null==t?r.$$is_lambda:t)return r.$$parameters;var n,i,o=[];for(n=0,i=r.$$parameters.length;n<i;n++){var s=r.$$parameters[n];"req"===s[0]&&(s=["opt",s[1]]),o.push(s)}return o}return[]}),-1),a(t,"$curry",(function(e){var t=this;function n(){var i,s=r(arguments),a=s.length;return a>e&&t.$$is_lambda&&!t.$$is_curried&&o.$raise(h("ArgumentError"),"wrong number of arguments ("+a+" for "+e+")"),a>=e?t.$call.apply(t,s):(i=function(){return n.apply(null,s.concat(r(arguments)))},i.$$is_lambda=t.$$is_lambda,i.$$is_curried=!0,i)}return void 0===e?e=t.length:(e=_["$coerce_to!"](e,h("Integer"),"to_int"),t.$$is_lambda&&e!==t.length&&o.$raise(h("ArgumentError"),"wrong number of arguments ("+e+" for "+t.length+")")),n.$$is_lambda=t.$$is_lambda,n.$$is_curried=!0,n}),-1),a(t,"$dup",(function(){var e=this,t=e.$$original_proc||e,r=function(){return t.apply(this,arguments)};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r})),d(t,"===","call"),d(t,"clone","dup"),d(t,"yield","call"),d(t,"[]","call")},Opal.modules["corelib/method"]=function(e){var t,r,n=e.klass,i=e.def,o=e.truthy,s=e.slice,a=e.alias,$=e.Kernel,l=e.send,u=e.to_a,c=e.nil,_=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),t=n("::",null,"Method"),(r=t.$$prototype).method=r.receiver=r.owner=r.name=c,t.$attr_reader("owner","receiver","name"),i(t,"$initialize",(function(e,t,r,n){var i=this;return i.receiver=e,i.owner=t,i.name=n,i.method=r})),i(t,"$arity",(function(){return this.method.$arity()})),i(t,"$parameters",(function(){return this.method.$$parameters})),i(t,"$source_location",(function(){var e;return o(e=this.method.$$source_location)?e:["(eval)",0]})),i(t,"$comments",(function(){var e;return o(e=this.method.$$comments)?e:[]})),i(t,"$call",(function e(t){var r,n=e.$$p||c,i=this;return e.$$p=null,r=s(arguments),i.method.$$p=n,i.method.apply(i.receiver,r)}),-1),i(t,"$curry",(function(e){return this.method.$curry(e)}),-1),i(t,"$>>",(function(e){return this.method["$>>"](e)})),i(t,"$<<",(function(e){return this.method["$<<"](e)})),i(t,"$unbind",(function(){var e=this;return _("UnboundMethod").$new(e.receiver.$class(),e.owner,e.method,e.name)})),i(t,"$to_proc",(function(){var e=this,t=e.$call.bind(e);return t.$$unbound=e.method,t.$$is_lambda=!0,t.$$arity=null==e.method.$$arity?e.method.length:e.method.$$arity,t.$$parameters=e.method.$$parameters,t})),i(t,"$inspect",(function(){var e=this;return"#<"+e.$class()+": "+e.receiver.$class()+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"})),a(t,"[]","call"),a(t,"===","call"),function(t,r){var a=n("::",null,"UnboundMethod"),d=a.$$prototype;return d.method=d.owner=d.name=d.source=c,a.$attr_reader("source","owner","name"),i(a,"$initialize",(function(e,t,r,n){var i=this;return i.source=e,i.owner=t,i.method=r,i.name=n})),i(a,"$arity",(function(){return this.method.$arity()})),i(a,"$parameters",(function(){return this.method.$$parameters})),i(a,"$source_location",(function(){var e;return o(e=this.method.$$source_location)?e:["(eval)",0]})),i(a,"$comments",(function(){var e;return o(e=this.method.$$comments)?e:[]})),i(a,"$bind",(function(t){var r=this;if(r.owner.$$is_module||e.is_a(t,r.owner))return _("Method").$new(t,r.owner,r.method,r.name);$.$raise(_("TypeError"),"can't bind singleton method to a different class (expected "+t+".kind_of?("+r.owner+" to be true)")})),i(a,"$bind_call",(function e(t,r){var n,i=e.$$p||c;return e.$$p=null,n=s(arguments,1),l(this.$bind(t),"call",u(n),i.$to_proc())}),-2),i(a,"$inspect",(function(){var e=this;return"#<"+e.$class()+": "+e.source+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"}))}()},Opal.modules["corelib/variables"]=function(e){var t=e.gvars,r=e.const_set,n=e.Object,i=e.hash2,o=e.nil;return e.add_stubs("new"),t["&"]=t["~"]=t["`"]=t["'"]=o,t.LOADED_FEATURES=t['"']=e.loaded_features,t.LOAD_PATH=t[":"]=[],t["/"]="\n",t[","]=o,r("::","ARGV",[]),r("::","ARGF",n.$new()),r("::","ENV",i([],{})),t.VERBOSE=!1,t.DEBUG=!1,t.SAFE=0},Opal.modules["corelib/io"]=function(e){var t,r,n,i=e.klass,o=e.const_set,s=e.not,a=e.truthy,$=e.def,l=e.return_ivar,u=e.return_val,c=e.slice,_=e.Kernel,d=e.gvars,p=e.send,h=e.to_a,f=e.rb_plus,m=e.neqeq,g=e.range,b=e.hash2,v=e.eqeq,y=e.to_ary,x=e.rb_gt,k=e.assign_ivar_val,w=e.alias,A=e.nil,E=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),r=i("::",null,"IO"),(n=r.$$prototype).read_buffer=n.closed=A,o(r,"SEEK_SET",0),o(r,"SEEK_CUR",1),o(r,"SEEK_END",2),o(r,"SEEK_DATA",3),o(r,"SEEK_HOLE",4),o(r,"READABLE",1),o(r,"WRITABLE",4),r.$attr_reader("eof"),r.$attr_accessor("read_proc","sync","tty","write_proc"),$(r,"$initialize",(function(e,t){var r=this;return null==t&&(t="r"),r.fd=e,r.flags=t,r.eof=!1,a(t["$include?"]("r"))&&s(t["$match?"](/[wa+]/))?r.closed="write":a(t["$match?"](/[wa]/))&&s(t["$match?"](/[r+]/))?r.closed="read":A}),-2),$(r,"$fileno",l("fd")),$(r,"$tty?",(function(){return 1==this.tty})),$(r,"$write",(function(e){return this.write_proc(e),e.$size()})),$(r,"$flush",u(A)),$(r,"$<<",(function(e){return this.$write(e),this})),$(r,"$print",(function(e){var t;null==d[","]&&(d[","]=A);for(var r=0,n=(t=c(arguments)).length;r<n;r++)t[r]=_.$String(t[r]);return this.$write(t.join(d[","])),A}),-1),$(r,"$puts",(function(e){var t,r,n=this;if(0===(t=c(arguments)).length)return n.$write("\n"),A;for(var i=0,o=t.length;i<o;i++)if(t[i].$$is_array){var s=t[i].$flatten();s.length>0&&p(n,"puts",h(s))}else(r=t[i].$$is_string?t[i].valueOf():_.$String(t[i])).endsWith("\n")||(r+="\n"),n.$write(r);return A}),-1),$(r,"$getc",(function(){var e,t=this,r=A,n=A;t.read_buffer=a(e=t.read_buffer)?e:"",r="";do{if(t.read_buffer=f(t.read_buffer,r),m(t.read_buffer,""))return n=t.read_buffer["$[]"](0),t.read_buffer=t.read_buffer["$[]"](g(1,-1,!1)),n}while(a(r=t.$sysread_noraise(1)));return A})),$(r,"$getbyte",(function(){var e;return(e=this.$getc())===A||null==e?A:e.$ord()})),$(r,"$readbyte",(function(){return this.$readchar().$ord()})),$(r,"$readchar",(function(){var e;return a(e=this.$getc())?e:_.$raise(E("EOFError"),"end of file reached")})),$(r,"$readline",(function(e){var t,r;return t=c(arguments),a(r=p(this,"gets",h(t)))?r:_.$raise(E("EOFError"),"end of file reached")}),-1),$(r,"$gets",(function(t,r,n){var i,o,$,l,u=this,c=A,_=A,p=A,h=A;null==d["/"]&&(d["/"]=A),null==t&&(t=!1),null==r&&(r=A),null==n&&(n=b([],{})),a(t.$$is_number)&&s(r)&&(t=(i=[!1,t,r])[0],r=i[1],n=i[2]),a(t.$$is_hash)&&s(r)&&v(n,b([],{}))?(t=(i=[!1,A,t])[0],r=i[1],n=i[2]):a(r.$$is_hash)&&v(n,b([],{}))&&(t=(i=[t,A,r])[0],r=i[1],n=i[2]),$=t,v(t,!1)&&(t=d["/"]),v(t,"")&&(t=/\r?\n\r?\n/),t=a(c=t)?c:"",v($,"")||(t=t.$to_str()),l=v($,"")?2:t.$length(),v(t," ")&&(t=/ /),u.read_buffer=a(c=u.read_buffer)?c:"",_="",p=A;do{if(u.read_buffer=f(u.read_buffer,_),m(t,"")&&a(a(t.$$is_regexp)?u.read_buffer["$match?"](t):u.read_buffer["$include?"](t))){h=u.read_buffer,o=u.read_buffer.$split(t,2),p=null==(i=y(o))[0]?A:i[0],u.read_buffer=null==i[1]?A:i[1],m(p,h)&&(p=f(p,h["$[]"](p.$length(),l)));break}}while(a(_=u.$sysread_noraise(v(t,"")?65536:1)));return a(p)||(p=(i=[a(c=u.read_buffer)?c:"",""])[0],u.read_buffer=i[1],v(p,"")&&(p=A)),a(p)&&(a(r)&&(p=p["$[]"](e.Range.$new(0,r,!0)),u.read_buffer=f(p["$[]"](e.Range.$new(r,-1,!1)),u.read_buffer)),a(n["$[]"]("chomp"))&&(p=p.$sub(/\r?\n$/,"")),v($,"")&&(p=p.$sub(/^[\r\n]+/,""))),v($,!1)&&(d._=p),p}),-1),$(r,"$sysread",(function(e){var t;return a(t=this.read_proc(e))?t:(this.eof=!0,_.$raise(E("EOFError"),"end of file reached"))})),$(r,"$sysread_noraise",(function(t){try{return this.$sysread(t)}catch(t){if(!e.rescue(t,[E("EOFError")]))throw t;try{return A}finally{e.pop_exception()}}})),$(r,"$readpartial",(function(e){var t,r,n=this,i=A,o=A;return n.read_buffer=a(i=n.read_buffer)?i:"",r=n.$sysread(e),o=(t=[f(n.read_buffer,a(i=r)?i:""),""])[0],n.read_buffer=t[1],v(o,"")&&(o=A),o})),$(r,"$read",(function(t){var r,n=this,i=A,o=A,s=A;null==t&&(t=A),n.read_buffer=a(i=n.read_buffer)?i:"",o="",s=A;do{if(n.read_buffer=f(n.read_buffer,o),a(t)&&a(x(n.read_buffer.$length(),t)))return s=(r=[n.read_buffer["$[]"](e.Range.$new(0,t,!0)),n.read_buffer["$[]"](e.Range.$new(t,-1,!1))])[0],n.read_buffer=r[1],s}while(a(o=n.$sysread_noraise(a(i=t)?i:65536)));return s=(r=[n.read_buffer,""])[0],n.read_buffer=r[1],s}),-1),$(r,"$readlines",(function(e){return null==d["/"]&&(d["/"]=A),null==e&&(e=d["/"]),this.$each_line(e).$to_a()}),-1),$(r,"$each",(function t(r,n){var i,o,s,$=t.$$p||A,l=this,u=A;if(null==d["/"]&&(d["/"]=A),t.$$p=null,(i=c(arguments)).length>0&&(o=i.shift()),null==o&&(o=d["/"]),s=i,$===A)return p(l,"enum_for",["each",o].concat(h(s)));for(;a(u=p(l,"gets",[o].concat(h(s))));)e.yield1($,u);return l}),-1),$(r,"$each_byte",(function t(){var r=t.$$p||A,n=this,i=A;if(t.$$p=null,r===A)return n.$enum_for("each_byte");for(;a(i=n.$getbyte());)e.yield1(r,i);return n})),$(r,"$each_char",(function t(){var r=t.$$p||A,n=this,i=A;if(t.$$p=null,r===A)return n.$enum_for("each_char");for(;a(i=n.$getc());)e.yield1(r,i);return n})),$(r,"$close",k("closed","both")),$(r,"$close_read",(function(){var e=this;return v(e.closed,"write")?e.closed="both":e.closed="read"})),$(r,"$close_write",(function(){var e=this;return v(e.closed,"read")?e.closed="both":e.closed="write"})),$(r,"$closed?",(function(){return this.closed["$=="]("both")})),$(r,"$closed_read?",(function(){var e;return a(e=this.closed["$=="]("read"))?e:this.closed["$=="]("both")})),$(r,"$closed_write?",(function(){var e;return a(e=this.closed["$=="]("write"))?e:this.closed["$=="]("both")})),$(r,"$check_writable",(function(){return a(this["$closed_write?"]())?_.$raise(E("IOError"),"not opened for writing"):A})),$(r,"$check_readable",(function(){return a(this["$closed_read?"]())?_.$raise(E("IOError"),"not opened for reading"):A})),w(r,"each_line","each"),w(r,"eof?","eof"),o("::","STDIN",d.stdin=E("IO").$new(0,"r")),o("::","STDOUT",d.stdout=E("IO").$new(1,"w")),o("::","STDERR",d.stderr=E("IO").$new(2,"w"));var S=e.global.console;return E("STDOUT")["$write_proc="]("object"==typeof process&&"object"==typeof process.stdout?function(e){process.stdout.write(e)}:function(e){S.log(e)}),E("STDERR")["$write_proc="]("object"==typeof process&&"object"==typeof process.stderr?function(e){process.stderr.write(e)}:function(e){S.warn(e)}),t=[function(e){var t=prompt();return null!==t?t+"\n":A}],p(E("STDIN"),"read_proc=",t),t[t.length-1]},Opal.modules["opal/regexp_anchors"]=function(e){var t=e.module,r=e.const_set,n=[];e.nil;var i=e.$$$;return e.add_stubs("new"),function(n,o){var s=t(n,"Opal"),a=[s].concat(o),$=e.$r(a);return r(s,"REGEXP_START","^"),r(s,"REGEXP_END","$"),r(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r(s,"INLINE_IDENTIFIER_REGEXP",$("Regexp").$new("[^"+i(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+i(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),r(s,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),r(s,"CONST_NAME_REGEXP",$("Regexp").$new(i(s,"REGEXP_START")+"(::)?[A-Z][^"+i(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+i(s,"REGEXP_END")))}(n[0],n)},Opal.modules["opal/mini"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("corelib/io"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/kernel/format"]=function(e){var t,r=e.coerce_to,n=e.module,i=e.slice,o=e.truthy,s=e.eqeq,a=e.Opal,$=e.Kernel,l=e.gvars,u=e.def,c=e.alias,_=e.nil,d=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),t=n("::","Kernel"),u(t,"$format",(function(e,t){var n,u,c=_;null==l.DEBUG&&(l.DEBUG=_),n=i(arguments,1),s((u=n).$length(),1)&&o(u["$[]"](0)["$respond_to?"]("to_ary"))&&(c=a["$coerce_to?"](u["$[]"](0),d("Array"),"to_ary"),o(c["$nil?"]())||(u=c.$to_a()));var p,h,f,m,g,b,v,y,x,k,w,A,E,S,C,O,R="",I=0,T=e.length,z=1,F=0,N=16,L=32,D=128;function q(){O&L&&$.$raise(d("ArgumentError"),"flag after width"),O&D&&$.$raise(d("ArgumentError"),"flag after precision")}function B(){O&L&&$.$raise(d("ArgumentError"),"width given twice"),O&D&&$.$raise(d("ArgumentError"),"width after precision")}function M(e){return e>=u.length&&$.$raise(d("ArgumentError"),"too few arguments"),u[e]}function j(){switch(F){case-1:$.$raise(d("ArgumentError"),"unnumbered("+z+") mixed with numbered");case-2:$.$raise(d("ArgumentError"),"unnumbered("+z+") mixed with named")}return M((F=z++)-1)}function P(e){return F>0&&$.$raise(d("ArgumentError"),"numbered("+e+") after unnumbered("+F+")"),-2===F&&$.$raise(d("ArgumentError"),"numbered("+e+") after named"),e<1&&$.$raise(d("ArgumentError"),"invalid index - "+e+"$"),F=-1,M(e-1)}function U(){return void 0===C?j():C}function H(t){for(var r,n="";;h++){if(h===T&&$.$raise(d("ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(h)<48||e.charCodeAt(h)>57)return h--,(r=parseInt(n,10)||0)>2147483647&&$.$raise(d("ArgumentError"),t+" too big"),r;n+=e.charAt(h)}}function Y(t){var r,n=H(t);return"$"===e.charAt(h+1)?(h++,r=P(n)):r=j(),r.$to_int()}for(h=e.indexOf("%");-1!==h;h=e.indexOf("%",h)){switch(m=void 0,O=0,b=-1,v=-1,C=void 0,p=h,h++,e.charAt(h)){case"%":I=h;case"":case"\n":case"\0":h++;continue}e:for(;h<T;h++)switch(e.charAt(h)){case" ":q(),O|=N;continue e;case"#":q(),O|=1;continue e;case"+":q(),O|=4;continue e;case"-":q(),O|=2;continue e;case"0":q(),O|=8;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(y=H("width"),"$"===e.charAt(h+1)){if(h+2===T){m="%",h++;break e}void 0!==C&&$.$raise(d("ArgumentError"),"value given twice - %"+y+"$"),C=P(y),h++}else B(),O|=L,b=y;continue e;case"<":case"{":for(k="<"===e.charAt(h)?">":"}",x="",h++;;h++){if(h===T&&$.$raise(d("ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(h)===k){if(F>0&&$.$raise(d("ArgumentError"),"named "+x+" after unnumbered("+F+")"),-1===F&&$.$raise(d("ArgumentError"),"named "+x+" after numbered"),F=-2,void 0!==u[0]&&u[0].$$is_hash||$.$raise(d("ArgumentError"),"one hash required"),C=u[0].$fetch(x),">"===k)continue e;if(m=C.toString(),-1!==v&&(m=m.slice(0,v)),2&O)for(;m.length<b;)m+=" ";else for(;m.length<b;)m=" "+m;break e}x+=e.charAt(h)}case"*":h++,B(),O|=L,(b=Y("width"))<0&&(O|=2,b=-b);continue e;case".":if(O&D&&$.$raise(d("ArgumentError"),"precision given twice"),O|=64|D,v=0,h++,"*"===e.charAt(h)){h++,(v=Y("precision"))<0&&(O&=-65);continue e}v=H("precision");continue e;case"d":case"i":case"u":if((f=$.$Integer(U()))>=0){for(m=f.toString();m.length<v;)m="0"+m;if(2&O)for((4&O||O&N)&&(m=(4&O?"+":" ")+m);m.length<b;)m+=" ";else if(8&O&&-1===v){for(;m.length<b-(4&O||O&N?1:0);)m="0"+m;(4&O||O&N)&&(m=(4&O?"+":" ")+m)}else for((4&O||O&N)&&(m=(4&O?"+":" ")+m);m.length<b;)m=" "+m}else{for(m=(-f).toString();m.length<v;)m="0"+m;if(2&O)for(m="-"+m;m.length<b;)m+=" ";else if(8&O&&-1===v){for(;m.length<b-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<b;)m=" "+m}break e;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(h)){case"b":case"B":w=2,A="0b",E=/^1+/,S="1";break;case"o":w=8,A="0",E=/^3?7+/,S="7";break;case"x":case"X":w=16,A="0x",E=/^f+/,S="f"}if((f=$.$Integer(U()))>=0){for(m=f.toString(w);m.length<v;)m="0"+m;if(2&O)for((4&O||O&N)&&(m=(4&O?"+":" ")+m),1&O&&0!==f&&(m=A+m);m.length<b;)m+=" ";else if(8&O&&-1===v){for(;m.length<b-(4&O||O&N?1:0)-(1&O&&0!==f?A.length:0);)m="0"+m;1&O&&0!==f&&(m=A+m),(4&O||O&N)&&(m=(4&O?"+":" ")+m)}else for(1&O&&0!==f&&(m=A+m),(4&O||O&N)&&(m=(4&O?"+":" ")+m);m.length<b;)m=" "+m}else if(4&O||O&N){for(m=(-f).toString(w);m.length<v;)m="0"+m;if(2&O)for(1&O&&(m=A+m),m="-"+m;m.length<b;)m+=" ";else if(8&O&&-1===v){for(;m.length<b-1-(1&O?2:0);)m="0"+m;1&O&&(m=A+m),m="-"+m}else for(1&O&&(m=A+m),m="-"+m;m.length<b;)m=" "+m}else{for(m=(f>>>0).toString(w).replace(E,S);m.length<v-2;)m=S+m;if(2&O)for(m=".."+m,1&O&&(m=A+m);m.length<b;)m+=" ";else if(8&O&&-1===v){for(;m.length<b-2-(1&O?A.length:0);)m=S+m;m=".."+m,1&O&&(m=A+m)}else for(m=".."+m,1&O&&(m=A+m);m.length<b;)m=" "+m}e.charAt(h)===e.charAt(h).toUpperCase()&&(m=m.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((f=$.$Float(U()))>=0||isNaN(f)){if(f===1/0)m="Inf";else switch(e.charAt(h)){case"f":m=f.toFixed(-1===v?6:v);break;case"e":case"E":m=f.toExponential(-1===v?6:v);break;case"g":case"G":m=f.toExponential(),(g=parseInt(m.split("e")[1],10))<-4||g>=(-1===v?6:v)||(m=f.toPrecision(-1===v?1&O?6:void 0:v))}if(2&O)for((4&O||O&N)&&(m=(4&O?"+":" ")+m);m.length<b;)m+=" ";else if(8&O&&f!==1/0&&!isNaN(f)){for(;m.length<b-(4&O||O&N?1:0);)m="0"+m;(4&O||O&N)&&(m=(4&O?"+":" ")+m)}else for((4&O||O&N)&&(m=(4&O?"+":" ")+m);m.length<b;)m=" "+m}else{if(f===-1/0)m="Inf";else switch(e.charAt(h)){case"f":m=(-f).toFixed(-1===v?6:v);break;case"e":case"E":m=(-f).toExponential(-1===v?6:v);break;case"g":case"G":m=(-f).toExponential(),(g=parseInt(m.split("e")[1],10))<-4||g>=(-1===v?6:v)||(m=(-f).toPrecision(-1===v?1&O?6:void 0:v))}if(2&O)for(m="-"+m;m.length<b;)m+=" ";else if(8&O&&f!==-1/0){for(;m.length<b-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<b;)m=" "+m}e.charAt(h)!==e.charAt(h).toUpperCase()||f===1/0||f===-1/0||isNaN(f)||(m=m.toUpperCase()),m=m.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":$.$raise(d("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((f=U())["$respond_to?"]("to_ary")&&(f=f.$to_ary()[0]),1!==(m=f["$respond_to?"]("to_str")?f.$to_str():String.fromCharCode(r(f,d("Integer"),"to_int"))).length&&$.$raise(d("ArgumentError"),"%c requires a character"),2&O)for(;m.length<b;)m+=" ";else for(;m.length<b;)m=" "+m;break e;case"p":if(m=U().$inspect(),-1!==v&&(m=m.slice(0,v)),2&O)for(;m.length<b;)m+=" ";else for(;m.length<b;)m=" "+m;break e;case"s":if(m=U().$to_s(),-1!==v&&(m=m.slice(0,v)),2&O)for(;m.length<b;)m+=" ";else for(;m.length<b;)m=" "+m;break e;default:$.$raise(d("ArgumentError"),"malformed format string - %"+e.charAt(h))}void 0===m&&$.$raise(d("ArgumentError"),"malformed format string - %"),R+=e.slice(I,p)+m,I=h+1}return l.DEBUG&&F>=0&&z<u.length&&$.$raise(d("ArgumentError"),"too many arguments for format string"),R+e.slice(I)}),-2),c(t,"sprintf","format")},Opal.modules["corelib/string/encoding"]=function(e){var t,r=e.klass,n=e.hash2,i=e.rb_plus,o=e.truthy,s=e.send,a=e.defs,$=e.eqeq,l=e.def,u=e.return_ivar,c=e.return_val,_=e.slice,d=e.Kernel,p=e.Opal,h=e.rb_lt,f=e.top,m=e.$r([]),g=e.nil,b=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),f.$require("corelib/string"),function(t,p){var h=r("::",null,"Encoding"),f=h.$$prototype;f.name=f.dummy=g,a(h,"$register",(function t(r,a){var $,l,u,c=t.$$p||g,_=g,d=g,p=g;return t.$$p=null,null==a&&(a=n([],{})),$=i([r],o(_=a["$[]"]("aliases"))?_:[]),l=o(_=a["$[]"]("ascii"))&&_,u=o(_=a["$[]"]("dummy"))&&_,o(a["$[]"]("inherits"))?(d=a["$[]"]("inherits").$clone()).$initialize(r,$,l,u):d=this.$new(r,$,l,u),c!==g&&s(d,"instance_eval",[],c.$to_proc()),p=e.encodings,s($,"each",[],(function e(t){return null==t&&(t=g),(null==e.$$s?this:e.$$s).$const_set(t.$tr("-","_"),d),p[t]=d}),{$$s:this})}),-2),a(h,"$find",(function(t){return $(t,"default_external")?this.$default_external():e.find_encoding(t)})),h.$singleton_class().$attr_accessor("default_external"),h.$attr_reader("name","names"),l(h,"$initialize",(function(e,t,r,n){var i=this;return i.name=e,i.names=t,i.ascii=r,i.dummy=n})),l(h,"$ascii_compatible?",u("ascii")),l(h,"$dummy?",u("dummy")),l(h,"$binary?",c(!1)),l(h,"$to_s",u("name")),l(h,"$inspect",(function(){return"#<Encoding:"+this.name+(o(this.dummy)?" (dummy)":g)+">"})),l(h,"$charsize",(function(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);i>=55296&&i<=56319||t++}return t})),l(h,"$each_char",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i="",o=0,s=r.length;o<s;o++){var a=r.charCodeAt(o),$=r.charAt(o);a>=56320&&a<=57343?i=$:(a>=55296&&a<=56319&&($=i+$),"UTF-8"!=r.encoding.name&&(($=new String($)).encoding=r.encoding),e.yield1(n,$))}})),l(h,"$each_byte",(function(e){return _(arguments),d.$raise(b("NotImplementedError"))}),-1),l(h,"$bytesize",(function(e){return _(arguments),d.$raise(b("NotImplementedError"))}),-1),r("::",b("StandardError"),"EncodingError"),r("::",b("EncodingError"),"CompatibilityError")}(),s(b("Encoding"),"register",["UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(function t(){var r=null==t.$$s?this:t.$$s;return l(r,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i,o=1/0,s=r.length,a=null,$=0;$<s;++$){if((i=r.charCodeAt($))>55295&&i<57344){if(!a){if(i>56319){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));continue}if($+1===s){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));continue}a=i;continue}if(i<56320){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189)),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));if(a=null,i<128){if((o-=1)<0)break;e.yield1(n,i)}else if(i<2048){if((o-=2)<0)break;e.yield1(n,i>>6|192),e.yield1(n,63&i|128)}else if(i<65536){if((o-=3)<0)break;e.yield1(n,i>>12|224),e.yield1(n,i>>6&63|128),e.yield1(n,63&i|128)}else if(i<1114112){if((o-=4)<0)break;e.yield1(n,i>>18|240),e.yield1(n,i>>12&63|128),e.yield1(n,i>>6&63|128),e.yield1(n,63&i|128)}}})),l(r,"$bytesize",(function(e){return e.$bytes().$length()}))}),{$$s:f}),s(b("Encoding"),"register",["UTF-16LE"],(function t(){var r=null==t.$$s?this:t.$$s;return l(r,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);e.yield1(n,255&s),e.yield1(n,s>>8)}})),l(r,"$bytesize",(function(e){return 2*e.length}))}),{$$s:f}),s(b("Encoding"),"register",["UTF-16BE",n(["inherits"],{inherits:b(b("Encoding"),"UTF_16LE")})],(function t(){return l(null==t.$$s?this:t.$$s,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);e.yield1(n,s>>8),e.yield1(n,255&s)}}))}),{$$s:f}),s(b("Encoding"),"register",["UTF-32LE"],(function t(){var r=null==t.$$s?this:t.$$s;return l(r,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);e.yield1(n,255&s),e.yield1(n,s>>8),e.yield1(n,0),e.yield1(n,0)}})),l(r,"$bytesize",(function(e){return 4*e.length}))}),{$$s:f}),s(b("Encoding"),"register",["UTF-32BE",n(["inherits"],{inherits:b(b("Encoding"),"UTF_32LE")})],(function t(){return l(null==t.$$s?this:t.$$s,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);e.yield1(n,0),e.yield1(n,0),e.yield1(n,s>>8),e.yield1(n,255&s)}}))}),{$$s:f}),s(b("Encoding"),"register",["ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(function t(){var r=null==t.$$s?this:t.$$s;return l(r,"$each_char",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=new String(r.charAt(i));s.encoding=r.encoding,e.yield1(n,s)}})),l(r,"$charsize",(function(e){return e.length})),l(r,"$each_byte",(function t(r){var n=t.$$p||g;t.$$p=null;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);e.yield1(n,255&s)}})),l(r,"$bytesize",(function(e){return e.length})),l(r,"$binary?",c(!0))}),{$$s:f}),b("Encoding").$register("ISO-8859-1",n(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:b(b("Encoding"),"ASCII_8BIT")})),b("Encoding").$register("US-ASCII",n(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:b(b("Encoding"),"ASCII_8BIT")})),function(t,n){var i=r("::",null,"String"),a=i.$$prototype;a.internal_encoding=a.bytes=a.encoding=g,i.$attr_reader("encoding"),i.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",g),e.prop(String.prototype,"encoding",b(b("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",b(b("Encoding"),"UTF_8")),l(i,"$b",(function(){return this.$dup().$force_encoding("binary")})),l(i,"$bytesize",(function(){return this.internal_encoding.$bytesize(this)})),l(i,"$each_byte",(function e(){var t=e.$$p||g,r=this;return e.$$p=null,t===g?s(r,"enum_for",["each_byte"],(function e(){return(null==e.$$s?this:e.$$s).$bytesize()}),{$$s:r}):(s(r.internal_encoding,"each_byte",[r],t.$to_proc()),r)})),l(i,"$bytes",(function(){var e,t=this;return"string"==typeof t?new String(t).$each_byte().$to_a():(t.bytes=o(e=t.bytes)?e:t.$each_byte().$to_a(),t.bytes.$dup())})),l(i,"$each_char",(function e(){var t=e.$$p||g,r=this;return e.$$p=null,t===g?s(r,"enum_for",["each_char"],(function e(){return(null==e.$$s?this:e.$$s).$length()}),{$$s:r}):(s(r.encoding,"each_char",[r],t.$to_proc()),r)})),l(i,"$chars",(function e(){var t=e.$$p||g;return e.$$p=null,o(t)?s(this,"each_char",[],t.$to_proc()):this.$each_char().$to_a()})),l(i,"$each_codepoint",(function t(){var r=t.$$p||g,n=this;if(t.$$p=null,r===g)return n.$enum_for("each_codepoint");for(var i=0,o=n.length;i<o;i++)e.yield1(r,n.codePointAt(i));return n})),l(i,"$codepoints",(function e(){var t=e.$$p||g;return e.$$p=null,t!==g?s(this,"each_codepoint",[],t.$to_proc()):this.$each_codepoint().$to_a()})),l(i,"$encode",(function(t){return e.enc(this,t)})),l(i,"$force_encoding",(function(t){var r=this;return t===r.encoding?r:(t=p["$coerce_to!"](t,b("String"),"to_s"),(t=b("Encoding").$find(t))===r.encoding?r:r=e.set_encoding(r,t))})),l(i,"$getbyte",(function(e){var t=g;return t=this.$bytes(),e=p["$coerce_to!"](e,b("Integer"),"to_int"),o(h(t.$length(),e))?g:t["$[]"](e)})),l(i,"$initialize_copy",(function(e){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "})),l(i,"$valid_encoding?",c(!0))}(),t=[b(m("Encoding"),"UTF_8")],s(b("Encoding"),"default_external=",t),t[t.length-1]},Opal.modules["corelib/math"]=function(e){var t=e.type_error,r=e.module,n=e.const_set,i=e.Class,o=e.slice,s=e.Kernel,a=e.defs,$=e.truthy,l=e.send,u=e.def,c=e.rb_minus,_=e.eqeqeq,d=e.rb_divide,p=e.nil,h=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(f,m){var g=r("::","Math"),b=[g].concat(m),v=e.$r(b);return n(g,"E",Math.E),n(g,"PI",Math.PI),n(g,"DomainError",i.$new(h("StandardError"))),a(g,"$checked",(function(e,t){var r;if(r=o(arguments,1),isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var n=Math[e].apply(null,r);return isNaN(n)&&s.$raise(v("DomainError"),'Numerical argument is out of domain - "'+e+'"'),n}),-2),a(g,"$float!",(function(r){try{return s.$Float(r)}catch(n){if(!e.rescue(n,[h("ArgumentError")]))throw n;try{return s.$raise(t(r,h("Float")))}finally{e.pop_exception()}}})),a(g,"$integer!",(function(r){try{return s.$Integer(r)}catch(n){if(!e.rescue(n,[h("ArgumentError")]))throw n;try{return s.$raise(t(r,h("Integer")))}finally{e.pop_exception()}}})),g.$module_function(),$(void 0!==Math.erf)||e.prop(Math,"erf",(function(e){var t=1;e<0&&(t=-1);var r=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-e*e))})),$(void 0!==Math.erfc)||e.prop(Math,"erfc",(function(e){var t=Math.abs(e),r=1/(.5*t+1),n=-t*t-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=r*Math.exp(n);return e<0?2-i:i})),l(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],(function e(t){return null==t&&(t=p),l(null==e.$$s?this:e.$$s,"define_method",[t],(function(e){return null==e&&(e=p),h("Math").$checked(t,h("Math")["$float!"](e))}))}),{$$s:g}),u(g,"$atan2",(function(e,t){return h("Math").$checked("atan2",h("Math")["$float!"](e),h("Math")["$float!"](t))})),u(g,"$hypot",(function(e,t){return h("Math").$checked("hypot",h("Math")["$float!"](e),h("Math")["$float!"](t))})),u(g,"$frexp",(function(e){if(e=v("Math")["$float!"](e),isNaN(e))return[NaN,0];var t=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1;return[e/Math.pow(2,t),t]})),u(g,"$gamma",(function(e){var t,r,n,i,o,a,$,l,u;e=v("Math")["$float!"](e);var _=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&1/e<0)return-1/0;if(-1!==e&&e!==-1/0||s.$raise(v("DomainError"),'Numerical argument is out of domain - "gamma"'),v("Integer")["$==="](e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(i=e-2,o=e-1;i>1;)o*=i,i--;return 0==o&&(o=1),o}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*h("Math").$gamma(c(1,e)));if(e>=171.35)return 1/0;if(e>85)return u=(l=($=(a=e*e)*e)*e)*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*a)-139/(51840*$)-571/(2488320*l)+163879/(209018880*u)+5246819/(75246796800*u*e));for(e-=1,n=_[0],t=1;t<_.length;++t)n+=_[t]/(e+t);return r=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*n})),u(g,"$ldexp",(function(e,t){return e=v("Math")["$float!"](e),t=v("Math")["$integer!"](t),isNaN(t)&&s.$raise(h("RangeError"),"float NaN out of range of integer"),e*Math.pow(2,t)})),u(g,"$lgamma",(function(e){return-1==e?[1/0,1]:[Math.log(Math.abs(h("Math").$gamma(e))),h("Math").$gamma(e)<0?-1:1]})),u(g,"$log",(function(e,r){return _(h("String"),e)&&s.$raise(t(e,h("Float"))),$(null==r)?h("Math").$checked("log",h("Math")["$float!"](e)):(_(h("String"),r)&&s.$raise(t(r,h("Float"))),d(h("Math").$checked("log",h("Math")["$float!"](e)),h("Math").$checked("log",h("Math")["$float!"](r))))}),-2),u(g,"$log10",(function(e){return _(h("String"),e)&&s.$raise(t(e,h("Float"))),h("Math").$checked("log10",h("Math")["$float!"](e))})),u(g,"$log2",(function(e){return _(h("String"),e)&&s.$raise(t(e,h("Float"))),h("Math").$checked("log2",h("Math")["$float!"](e))})),u(g,"$tan",(function(e){return e=h("Math")["$float!"](e),$(e["$infinite?"]())?h(h("Float"),"NAN"):h("Math").$checked("tan",h("Math")["$float!"](e))}))}(0,[])},Opal.modules["corelib/complex/base"]=function(e){var t=e.module,r=e.truthy,n=e.def,i=e.klass,o=[],s=e.nil;return e.add_stubs("new,from_string"),function(i,o){var a=t("::","Kernel"),$=[a].concat(o),l=e.$r($);n(a,"$Complex",(function(e,t){return null==t&&(t=s),r(t)?l("Complex").$new(e,t):l("Complex").$new(e,0)}),-2)}(0,o),function(t,r,o){var s=i("::",null,"String"),a=[s].concat(o),$=e.$r(a);return n(s,"$to_c",(function(){return $("Complex").$from_string(this)}))}(0,0,o)},Opal.modules["corelib/complex"]=function(e){var t=e.klass,r=e.truthy,n=e.eqeqeq,i=e.Kernel,o=e.defs,s=e.rb_times,a=e.def,$=e.rb_plus,l=e.rb_minus,u=e.rb_divide,c=e.eqeq,_=e.to_ary,d=e.rb_gt,p=e.neqeq,h=e.return_val,f=e.const_set,m=e.alias,g=e.top,b=e.nil,v=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),g.$require("corelib/numeric"),g.$require("corelib/complex/base"),function(g,y,x){var k=t("::",y,"Complex"),w=[k].concat(x),A=e.$r(w),E=k.$$prototype;return E.real=E.imag=b,o(k,"$rect",(function(e,t){return null==t&&(t=0),n(v("Numeric"),e)&&r(e["$real?"]())&&n(v("Numeric"),t)&&r(t["$real?"]())||i.$raise(v("TypeError"),"not a real"),this.$new(e,t)}),-2),o(k,"$polar",(function(e,t){return null==t&&(t=0),n(v("Numeric"),e)&&r(e["$real?"]())&&n(v("Numeric"),t)&&r(t["$real?"]())||i.$raise(v("TypeError"),"not a real"),this.$new(s(e,v("Math").$cos(t)),s(e,v("Math").$sin(t)))}),-2),k.$attr_reader("real","imag"),a(k,"$initialize",(function(e,t){var r=this;return null==t&&(t=0),r.real=e,r.imag=t,r.$freeze()}),-2),a(k,"$coerce",(function(e){return n(v("Complex"),e)?[e,this]:n(v("Numeric"),e)&&r(e["$real?"]())?[v("Complex").$new(e,0),this]:i.$raise(v("TypeError"),e.$class()+" can't be coerced into Complex")})),a(k,"$==",(function(e){var t=this,i=b;return n(v("Complex"),e)?r(i=t.real["$=="](e.$real()))?t.imag["$=="](e.$imag()):i:n(v("Numeric"),e)&&r(e["$real?"]())?r(i=t.real["$=="](e))?t.imag["$=="](0):i:e["$=="](t)})),a(k,"$-@",(function(){return i.$Complex(this.real["$-@"](),this.imag["$-@"]())})),a(k,"$+",(function(e){var t=this;return n(v("Complex"),e)?i.$Complex($(t.real,e.$real()),$(t.imag,e.$imag())):n(v("Numeric"),e)&&r(e["$real?"]())?i.$Complex($(t.real,e),t.imag):t.$__coerced__("+",e)})),a(k,"$-",(function(e){var t=this;return n(v("Complex"),e)?i.$Complex(l(t.real,e.$real()),l(t.imag,e.$imag())):n(v("Numeric"),e)&&r(e["$real?"]())?i.$Complex(l(t.real,e),t.imag):t.$__coerced__("-",e)})),a(k,"$*",(function(e){var t=this;return n(v("Complex"),e)?i.$Complex(l(s(t.real,e.$real()),s(t.imag,e.$imag())),$(s(t.real,e.$imag()),s(t.imag,e.$real()))):n(v("Numeric"),e)&&r(e["$real?"]())?i.$Complex(s(t.real,e),s(t.imag,e)):t.$__coerced__("*",e)})),a(k,"$/",(function(e){var t=this;return n(v("Complex"),e)?n(v("Number"),t.real)&&r(t.real["$nan?"]())||n(v("Number"),t.imag)&&r(t.imag["$nan?"]())||n(v("Number"),e.$real())&&r(e.$real()["$nan?"]())||n(v("Number"),e.$imag())&&r(e.$imag()["$nan?"]())?v("Complex").$new(v(v("Float"),"NAN"),v(v("Float"),"NAN")):u(s(t,e.$conj()),e.$abs2()):n(v("Numeric"),e)&&r(e["$real?"]())?i.$Complex(t.real.$quo(e),t.imag.$quo(e)):t.$__coerced__("/",e)})),a(k,"$**",(function(e){var t,o,a=this,h=b,f=b,m=b,g=b,y=b,x=b,k=b,w=b,A=b,E=b,S=b;if(c(e,0))return v("Complex").$new(1,0);if(n(v("Complex"),e))return o=a.$polar(),h=null==(t=_(o))[0]?b:t[0],f=null==t[1]?b:t[1],m=e.$real(),g=e.$imag(),y=v("Math").$exp(l(s(m,v("Math").$log(h)),s(g,f))),x=$(s(f,m),s(g,v("Math").$log(h))),v("Complex").$polar(y,x);if(n(v("Integer"),e)){if(r(d(e,0))){for(w=k=a,A=l(e,1);p(A,0);){for(o=A.$divmod(2),E=null==(t=_(o))[0]?b:t[0],S=null==t[1]?b:t[1];c(S,0);)k=i.$Complex(l(s(k.$real(),k.$real()),s(k.$imag(),k.$imag())),s(s(2,k.$real()),k.$imag())),o=(A=E).$divmod(2),E=null==(t=_(o))[0]?b:t[0],S=null==t[1]?b:t[1];w=s(w,k),A=l(A,1)}return w}return u(v("Rational").$new(1,1),a)["$**"](e["$-@"]())}return n(v("Float"),e)||n(v("Rational"),e)?(o=a.$polar(),h=null==(t=_(o))[0]?b:t[0],f=null==t[1]?b:t[1],v("Complex").$polar(h["$**"](e),s(f,e))):a.$__coerced__("**",e)})),a(k,"$abs",(function(){return v("Math").$hypot(this.real,this.imag)})),a(k,"$abs2",(function(){var e=this;return $(s(e.real,e.real),s(e.imag,e.imag))})),a(k,"$angle",(function(){return v("Math").$atan2(this.imag,this.real)})),a(k,"$conj",(function(){return i.$Complex(this.real,this.imag["$-@"]())})),a(k,"$denominator",(function(){return this.real.$denominator().$lcm(this.imag.$denominator())})),a(k,"$eql?",(function(e){var t,n,i=this;return r(t=r(n=A("Complex")["$==="](e))?i.real.$class()["$=="](i.imag.$class()):n)?i["$=="](e):t})),a(k,"$fdiv",(function(e){return n(v("Numeric"),e)||i.$raise(v("TypeError"),e.$class()+" can't be coerced into Complex"),u(this,e)})),a(k,"$finite?",(function(){var e;return r(e=this.real["$finite?"]())?this.imag["$finite?"]():e})),a(k,"$hash",(function(){return"Complex:"+this.real+":"+this.imag})),a(k,"$infinite?",(function(){var e;return r(e=this.real["$infinite?"]())?e:this.imag["$infinite?"]()})),a(k,"$inspect",(function(){return"("+this+")"})),a(k,"$numerator",(function(){var e,t=this;return e=t.$denominator(),i.$Complex(s(t.real.$numerator(),u(e,t.real.$denominator())),s(t.imag.$numerator(),u(e,t.imag.$denominator())))})),a(k,"$polar",(function(){return[this.$abs(),this.$arg()]})),a(k,"$rationalize",(function(e){var t=this;return arguments.length>1&&i.$raise(v("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),p(t.imag,0)&&i.$raise(v("RangeError"),"can't convert "+t+" into Rational"),t.$real().$rationalize(e)}),-1),a(k,"$real?",h(!1)),a(k,"$rect",(function(){return[this.real,this.imag]})),a(k,"$to_f",(function(){var e=this;return c(e.imag,0)||i.$raise(v("RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()})),a(k,"$to_i",(function(){var e=this;return c(e.imag,0)||i.$raise(v("RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()})),a(k,"$to_r",(function(){var e=this;return c(e.imag,0)||i.$raise(v("RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()})),a(k,"$to_s",(function(){var e=this,t=b;return t=e.real.$inspect(),t=$(t,n(v("Number"),e.imag)&&r(e.imag["$nan?"]())||r(e.imag["$positive?"]())||r(e.imag["$zero?"]())?"+":"-"),t=$(t,e.imag.$abs().$inspect()),n(v("Number"),e.imag)&&(r(e.imag["$nan?"]())||r(e.imag["$infinite?"]()))&&(t=$(t,"*")),$(t,"i")})),f(w[0],"I",k.$new(0,1)),o(k,"$from_string",(function(e){var t,r,n=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;function o(){return n.test(e)}function s(){var t=e.match(n)[0];return e=e.slice(t.length),t.replace(/_/g,"")}function a(){if(o()){var t=parseFloat(s());if("/"===e[0]){if(e=e.slice(1),o()){var r=parseFloat(s());return i.$Rational(t,r)}return e="/"+e,t}return t}return null}return e.match(n),(t=a())?(r=a())?i.$Complex(t,r):"i"===e[0]?i.$Complex(0,t):i.$Complex(t,0):"i"===e[0]?i.$Complex(0,1):"-"===e[0]&&"i"===e[1]?i.$Complex(0,-1):"+"===e[0]&&"i"===e[1]?i.$Complex(0,1):i.$Complex(0,0)})),function(e,t){m(e,"rectangular","rect")}(e.get_singleton_class(k)),m(k,"arg","angle"),m(k,"conjugate","conj"),m(k,"divide","/"),m(k,"imaginary","imag"),m(k,"magnitude","abs"),m(k,"phase","arg"),m(k,"quo","/"),m(k,"rectangular","rect"),e.udef(k,"$negative?"),e.udef(k,"$positive?"),e.udef(k,"$step"),b}(0,v("Numeric"),[])},Opal.modules["corelib/rational/base"]=function(e){var t=e.module,r=e.def,n=e.klass;e.nil;var i,o=e.$$$;return e.add_stubs("convert,from_string"),i=t("::","Kernel"),r(i,"$Rational",(function(e,t){return null==t&&(t=1),o("Rational").$convert(e,t)}),-2),function(e,t){var i=n("::",null,"String");return r(i,"$to_r",(function(){return o("Rational").$from_string(this)}))}()},Opal.modules["corelib/rational"]=function(e){var t=e.klass,r=e.eqeq,n=e.Kernel,i=e.truthy,o=e.rb_lt,s=e.rb_divide,a=e.defs,$=e.eqeqeq,l=e.not,u=e.Opal,c=e.def,_=e.return_ivar,d=e.rb_minus,p=e.rb_times,h=e.rb_plus,f=e.rb_gt,m=e.rb_le,g=e.return_self,b=e.alias,v=e.top,y=e.nil,x=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),v.$require("corelib/numeric"),v.$require("corelib/rational/base"),function(e,v){var k=t("::",v,"Rational"),w=k.$$prototype;return w.num=w.den=y,a(k,"$reduce",(function(e,t){var a;if(e=e.$to_i(),t=t.$to_i(),r(t,0))n.$raise(x("ZeroDivisionError"),"divided by 0");else if(i(o(t,0)))e=e["$-@"](),t=t["$-@"]();else if(r(t,1))return this.$new(e,t);return a=e.$gcd(t),this.$new(s(e,a),s(t,a))})),a(k,"$convert",(function(e,t){return(i(e["$nil?"]())||i(t["$nil?"]()))&&n.$raise(x("TypeError"),"cannot convert nil into Rational"),$(x("Integer"),e)&&$(x("Integer"),t)?this.$reduce(e,t):(($(x("Float"),e)||$(x("String"),e)||$(x("Complex"),e))&&(e=e.$to_r()),($(x("Float"),t)||$(x("String"),t)||$(x("Complex"),t))&&(t=t.$to_r()),i(t["$equal?"](1))&&l(x("Integer")["$==="](e))?u["$coerce_to!"](e,x("Rational"),"to_r"):$(x("Numeric"),e)&&$(x("Numeric"),t)?s(e,t):this.$reduce(e,t))})),c(k,"$initialize",(function(e,t){var r=this;return r.num=e,r.den=t,r.$freeze()})),c(k,"$numerator",_("num")),c(k,"$denominator",_("den")),c(k,"$coerce",(function(e){var t,r=this;return $(x("Rational"),t=e)?[e,r]:$(x("Integer"),t)?[e.$to_r(),r]:$(x("Float"),t)?[e,r.$to_f()]:y})),c(k,"$==",(function(e){var t,r=this,n=y;return $(x("Rational"),t=e)?i(n=r.num["$=="](e.$numerator()))?r.den["$=="](e.$denominator()):n:$(x("Integer"),t)?i(n=r.num["$=="](e))?r.den["$=="](1):n:$(x("Float"),t)?r.$to_f()["$=="](e):e["$=="](r)})),c(k,"$<=>",(function(e){var t,r=this;return $(x("Rational"),t=e)?d(p(r.num,e.$denominator()),p(r.den,e.$numerator()))["$<=>"](0):$(x("Integer"),t)?d(r.num,p(r.den,e))["$<=>"](0):$(x("Float"),t)?r.$to_f()["$<=>"](e):r.$__coerced__("<=>",e)})),c(k,"$+",(function(e){var t,r=this,i=y,o=y;return $(x("Rational"),t=e)?(i=h(p(r.num,e.$denominator()),p(r.den,e.$numerator())),o=p(r.den,e.$denominator()),n.$Rational(i,o)):$(x("Integer"),t)?n.$Rational(h(r.num,p(e,r.den)),r.den):$(x("Float"),t)?h(r.$to_f(),e):r.$__coerced__("+",e)})),c(k,"$-",(function(e){var t,r=this,i=y,o=y;return $(x("Rational"),t=e)?(i=d(p(r.num,e.$denominator()),p(r.den,e.$numerator())),o=p(r.den,e.$denominator()),n.$Rational(i,o)):$(x("Integer"),t)?n.$Rational(d(r.num,p(e,r.den)),r.den):$(x("Float"),t)?d(r.$to_f(),e):r.$__coerced__("-",e)})),c(k,"$*",(function(e){var t,r=this,i=y,o=y;return $(x("Rational"),t=e)?(i=p(r.num,e.$numerator()),o=p(r.den,e.$denominator()),n.$Rational(i,o)):$(x("Integer"),t)?n.$Rational(p(r.num,e),r.den):$(x("Float"),t)?p(r.$to_f(),e):r.$__coerced__("*",e)})),c(k,"$/",(function(e){var t,i=this,o=y,a=y;return $(x("Rational"),t=e)?(o=p(i.num,e.$denominator()),a=p(i.den,e.$numerator()),n.$Rational(o,a)):$(x("Integer"),t)?r(e,0)?s(i.$to_f(),0):n.$Rational(i.num,p(i.den,e)):$(x("Float"),t)?s(i.$to_f(),e):i.$__coerced__("/",e)})),c(k,"$**",(function(e){var t,s=this;return $(x("Integer"),t=e)?r(s,0)&&i(o(e,0))?x(x("Float"),"INFINITY"):i(f(e,0))?n.$Rational(s.num["$**"](e),s.den["$**"](e)):i(o(e,0))?n.$Rational(s.den["$**"](e["$-@"]()),s.num["$**"](e["$-@"]())):n.$Rational(1,1):$(x("Float"),t)?s.$to_f()["$**"](e):$(x("Rational"),t)?r(e,0)?n.$Rational(1,1):r(e.$denominator(),1)?i(o(e,0))?n.$Rational(s.den["$**"](e.$numerator().$abs()),s.num["$**"](e.$numerator().$abs())):n.$Rational(s.num["$**"](e.$numerator()),s.den["$**"](e.$numerator())):r(s,0)&&i(o(e,0))?n.$raise(x("ZeroDivisionError"),"divided by 0"):s.$to_f()["$**"](e):s.$__coerced__("**",e)})),c(k,"$abs",(function(){return n.$Rational(this.num.$abs(),this.den.$abs())})),c(k,"$ceil",(function(e){var t=this;return null==e&&(e=0),r(e,0)?s(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)}),-1),c(k,"$floor",(function(e){var t=this;return null==e&&(e=0),r(e,0)?s(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)}),-1),c(k,"$hash",(function(){return"Rational:"+this.num+":"+this.den})),c(k,"$inspect",(function(){return"("+this+")"})),c(k,"$rationalize",(function(e){var t=this;if(arguments.length>1&&n.$raise(x("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return t;for(var r,i,o,a,$,l=e.$abs(),u=d(t,l),c=h(t,l),_=0,p=1,f=1,g=0;o=u.$ceil(),!m(o,c);)r=(a=o-1)*p+_,i=a*g+f,$=s(1,d(c,a)),c=s(1,d(u,a)),u=$,_=p,f=g,p=r,g=i;return n.$Rational(o*p+_,o*g+f)}),-1),c(k,"$round",(function(e){var t,n,a=this,$=y;return null==e&&(e=0),r(e,0)?r(a.num,0)?0:r(a.den,1)?a.num:(t=h(p(a.num.$abs(),2),a.den),n=p(a.den,2),$=s(t,n).$truncate(),i(o(a.num,0))?$["$-@"]():$):a.$with_precision("round",e)}),-1),c(k,"$to_f",(function(){return s(this.num,this.den)})),c(k,"$to_i",(function(){return this.$truncate()})),c(k,"$to_r",g),c(k,"$to_s",(function(){return this.num+"/"+this.den})),c(k,"$truncate",(function(e){var t=this;return null==e&&(e=0),r(e,0)?i(o(t.num,0))?t.$ceil():t.$floor():t.$with_precision("truncate",e)}),-1),c(k,"$with_precision",(function(e,t){var r,a=y;return $(x("Integer"),t)||n.$raise(x("TypeError"),"not an Integer"),r=10["$**"](t),a=p(this,r),i(o(t,1))?s(a.$send(e),r).$to_i():n.$Rational(a.$send(e),r)})),a(k,"$from_string",(function(e){var t,r,i=e.trimLeft(),o=/^[+-]?[\d_]+(\.[\d_]+)?/;function s(){return o.test(i)}function a(){var e=i.match(o)[0];return i=i.slice(e.length),e.replace(/_/g,"")}return i.match(o),s()?(t=parseFloat(a()),"/"===i[0]?(i=i.slice(1),s()?(r=parseFloat(a()),n.$Rational(t,r)):n.$Rational(t,1)):n.$Rational(t,1)):n.$Rational(0,1)})),b(k,"divide","/"),b(k,"quo","/")}(0,x("Numeric"))},Opal.modules["corelib/time"]=function(e){var t=e.slice,r=e.deny_frozen_access,n=e.klass,i=e.Kernel,o=e.Opal,s=e.defs,a=e.eqeqeq,$=e.def,l=e.truthy,u=e.rb_gt,c=e.rb_lt,_=e.send,d=e.rb_plus,p=e.rb_divide,h=e.rb_minus,f=e.range,m=e.neqeq,g=e.rb_le,b=e.eqeq,v=e.alias,y=e.top,x=e.nil,k=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),y.$require("corelib/comparable"),function(y,w,A){var E=n("::",w,"Time"),S=[E].concat(A),C=e.$r(S);E.$include(k("Comparable"));var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T=["January","February","March","April","May","June","July","August","September","October","November","December"];function z(e,t,r,n,s,a){if(e=e.$$is_string?parseInt(e,10):o["$coerce_to!"](e,k("Integer"),"to_int"),t===x)t=1;else if(!t.$$is_number)if(t["$respond_to?"]("to_str"))switch((t=t.$to_str()).toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=o["$coerce_to!"](t,k("Integer"),"to_int");return(t<1||t>12)&&i.$raise(k("ArgumentError"),"month out of range: "+t),t-=1,((r=r===x?1:r.$$is_string?parseInt(r,10):o["$coerce_to!"](r,k("Integer"),"to_int"))<1||r>31)&&i.$raise(k("ArgumentError"),"day out of range: "+r),((n=n===x?0:n.$$is_string?parseInt(n,10):o["$coerce_to!"](n,k("Integer"),"to_int"))<0||n>24)&&i.$raise(k("ArgumentError"),"hour out of range: "+n),((s=s===x?0:s.$$is_string?parseInt(s,10):o["$coerce_to!"](s,k("Integer"),"to_int"))<0||s>59)&&i.$raise(k("ArgumentError"),"min out of range: "+s),a===x?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):o["$coerce_to!"](a,k("Integer"),"to_int")),(a<0||a>60)&&i.$raise(k("ArgumentError"),"sec out of range: "+a),[e,t,r,n,s,a]}return s(E,"$at",(function(e,t){var r;return k("Time")["$==="](e)?(void 0!==t&&i.$raise(k("TypeError"),"can't convert Time into an exact number"),(r=new Date(e.getTime())).timezone=e.timezone,r):(e.$$is_number||(e=o["$coerce_to!"](e,k("Integer"),"to_int")),void 0===t?new Date(1e3*e):(t.$$is_number||(t=o["$coerce_to!"](t,k("Integer"),"to_int")),new Date(1e3*e+t/1e3)))}),-2),s(E,"$new",(function(e,t,r,n,i,o,s){var a,$,l,u;return null==t&&(t=x),null==r&&(r=x),null==n&&(n=x),null==i&&(i=x),null==o&&(o=x),null==s&&(s=x),void 0===e?new Date:(e=(a=z(e,t,r,n,i,o))[0],t=a[1],r=a[2],n=a[3],i=a[4],o=a[5],s===x?($=new Date(e,t,r,n,i,0,1e3*o),e<100&&$.setFullYear(e),$):(l=this.$_parse_offset(s),u=new Date(Date.UTC(e,t,r,n,i,0,1e3*o)),e<100&&u.setUTCFullYear(e),($=new Date(u.getTime()-36e5*l)).timezone=l,$))}),-1),s(E,"$_parse_offset",(function(e){var t;if(e.$$is_string)if("UTC"==e)t=0;else if(/^[+-]\d\d:[0-5]\d$/.test(e)){t=("-"==e[0]?-1:1)*(+(e[1]+e[2])+ +(e[4]+e[5])/60)}else i.$raise(k("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+e);else e.$$is_number?t=e/3600:i.$raise(k("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return t})),s(E,"$local",(function(e,r,n,i,o,s,a,$,l,u){var c,_;return null==r&&(r=x),null==n&&(n=x),null==i&&(i=x),null==o&&(o=x),null==s&&(s=x),null==a&&(a=x),null==$&&($=x),null==l&&(l=x),null==u&&(u=x),10===arguments.length&&(e=(c=t(arguments))[5],r=c[4],n=c[3],i=c[2],o=c[1],s=c[0]),e=(c=z(e,r,n,i,o,s))[0],r=c[1],n=c[2],i=c[3],o=c[4],s=c[5],_=new Date(e,r,n,i,o,0,1e3*s),e<100&&_.setFullYear(e),_}),-2),s(E,"$gm",(function(e,r,n,i,o,s,a,$,l,u){var c,_;return null==r&&(r=x),null==n&&(n=x),null==i&&(i=x),null==o&&(o=x),null==s&&(s=x),null==a&&(a=x),null==$&&($=x),null==l&&(l=x),null==u&&(u=x),10===arguments.length&&(e=(c=t(arguments))[5],r=c[4],n=c[3],i=c[2],o=c[1],s=c[0]),e=(c=z(e,r,n,i,o,s))[0],r=c[1],n=c[2],i=c[3],o=c[4],s=c[5],_=new Date(Date.UTC(e,r,n,i,o,0,1e3*s)),e<100&&_.setUTCFullYear(e),_.timezone=0,_}),-2),s(E,"$now",(function(){return this.$new()})),$(E,"$+",(function(e){a(k("Time"),e)&&i.$raise(k("TypeError"),"time + time?"),e.$$is_number||(e=o["$coerce_to!"](e,k("Integer"),"to_int"));var t=new Date(this.getTime()+1e3*e);return t.timezone=this.timezone,t})),$(E,"$-",(function(e){var t=this;if(a(k("Time"),e))return(t.getTime()-e.getTime())/1e3;e.$$is_number||(e=o["$coerce_to!"](e,k("Integer"),"to_int"));var r=new Date(t.getTime()-1e3*e);return r.timezone=t.timezone,r})),$(E,"$<=>",(function(e){var t=x;return a(k("Time"),e)?this.$to_f()["$<=>"](e.$to_f()):(t=e["$<=>"](this),l(t["$nil?"]())?x:l(u(t,0))?-1:l(c(t,0))?1:0)})),$(E,"$==",(function(e){var t;return l(t=k("Time")["$==="](e))?this.$to_f()===e.$to_f():t})),$(E,"$asctime",(function(){return this.$strftime("%a %b %e %H:%M:%S %Y")})),_([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],(function e(t,r,n,i){var o=null==e.$$s?this:e.$$s;return null==t&&(t=x),null==r&&(r=x),null==n&&(n=x),null==i&&(i=0),_(o,"define_method",[t],(function e(){var t=null==e.$$s?this:e.$$s;return i+(null!=t.timezone?new Date(t.getTime()+36e5*t.timezone)[n]():t[r]())}),{$$s:o})}),{$$arity:-4,$$s:E}),$(E,"$yday",(function(){var e,t,r=this;return e=C("Time").$new(r.$year()).$to_i(),t=C("Time").$new(r.$year(),r.$month(),r.$day()).$to_i(),86400,d(p(h(t,e),86400).$round(),1)})),$(E,"$isdst",(function(){var e=this,t=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),r.getTimezoneOffset())})),$(E,"$dup",(function(){var e=this,t=x;return(t=new Date(e.getTime())).$copy_instance_variables(e),t.$initialize_dup(e),t})),$(E,"$eql?",(function(e){var t;return l(t=e["$is_a?"](k("Time")))?this["$<=>"](e)["$zero?"]():t})),_([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],(function e(t,r){var n=null==e.$$s?this:e.$$s;return null==t&&(t=x),null==r&&(r=x),_(n,"define_method",[t],(function e(){return(null==e.$$s?this:e.$$s).$wday()===r}),{$$s:n})}),{$$s:E}),$(E,"$hash",(function(){return"Time:"+this.getTime()})),$(E,"$inspect",(function(){var e=this;return l(e["$utc?"]())?e.$strftime("%Y-%m-%d %H:%M:%S UTC"):e.$strftime("%Y-%m-%d %H:%M:%S %z")})),$(E,"$succ",(function(){var e=new Date(this.getTime()+1e3);return e.timezone=this.timezone,e})),$(E,"$usec",(function(){return 1e3*this.getMilliseconds()})),$(E,"$zone",(function(){var e=this;if(0===e.timezone)return"UTC";if(null!=e.timezone)return x;var t,r=e.toString();return"GMT"==(t=-1==r.indexOf("(")?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t})),$(E,"$getgm",(function(){var e=new Date(this.getTime());return e.timezone=0,e})),$(E,"$gmtime",(function(){var e=this;return 0!==e.timezone&&(r(e),e.timezone=0),e})),$(E,"$gmt?",(function(){return 0===this.timezone})),$(E,"$gmt_offset",(function(){var e=this;return null!=e.timezone?60*e.timezone:60*-e.getTimezoneOffset()})),$(E,"$strftime",(function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,(function(e,r,n,i,o){var s,a,$,l="",u=-1!==r.indexOf("0"),c=-1===r.indexOf("-"),_=-1!==r.indexOf("_"),d=-1!==r.indexOf("^"),p=-1!==r.indexOf("#"),m=(r.match(":")||[]).length;switch(n=parseInt(n,10),u&&_&&(r.indexOf("0")<r.indexOf("_")?u=!1:_=!1),o){case"Y":l+=t.$year();break;case"C":u=!_,l+=Math.round(t.$year()/100);break;case"y":u=!_,l+=t.$year()%100;break;case"m":u=!_,l+=t.$mon();break;case"B":l+=T[t.$mon()-1];break;case"b":case"h":_=!u,l+=I[t.$mon()-1];break;case"d":u=!_,l+=t.$day();break;case"e":_=!u,l+=t.$day();break;case"j":u=!_,n=isNaN(n)?3:n,l+=t.$yday();break;case"H":u=!_,l+=t.$hour();break;case"k":_=!u,l+=t.$hour();break;case"I":u=!_,l+=t.$hour()%12||12;break;case"l":_=!u,l+=t.$hour()%12||12;break;case"P":l+=t.$hour()>=12?"pm":"am";break;case"p":l+=t.$hour()>=12?"PM":"AM";break;case"M":u=!_,l+=t.$min();break;case"S":u=!_,l+=t.$sec();break;case"L":u=!_,n=isNaN(n)?3:n,l+=t.getMilliseconds();break;case"N":n=isNaN(n)?9:n,l=(l+=t.getMilliseconds().toString().$rjust(3,"0")).$ljust(n,"0");break;case"z":var g=null==t.timezone?t.getTimezoneOffset():60*-t.timezone,b=Math.floor(Math.abs(g)/60),v=Math.abs(g)%60;l+=g<0?"+":"-",l+=b<10?"0":"",l+=b,m>0&&(l+=":"),l+=v<10?"0":"",l+=v,m>1&&(l+=":00");break;case"Z":l+=t.$zone();break;case"A":l+=O[t.$wday()];break;case"a":l+=R[t.$wday()];break;case"u":l+=t.$wday()+1;break;case"w":l+=t.$wday();break;case"V":l+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":l+=t.$cweek_cyear()["$[]"](1);break;case"g":l+=t.$cweek_cyear()["$[]"](1)["$[]"](f(-2,-1,!1));break;case"s":l+=t.$to_i();break;case"n":l+="\n";break;case"t":l+="\t";break;case"%":l+="%";break;case"c":l+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":l+=t.$strftime("%m/%d/%y");break;case"F":l+=t.$strftime("%Y-%m-%d");break;case"v":l+=t.$strftime("%e-%^b-%4Y");break;case"r":l+=t.$strftime("%I:%M:%S %p");break;case"R":l+=t.$strftime("%H:%M");break;case"T":case"X":l+=t.$strftime("%H:%M:%S");break;case"J":if((s=t.$to_date().$jd())<2405160){l+=t.$strftime("%Y-%m-%d");break}s<2419614?(a="M",$=1867):s<2424875?(a="T",$=1911):s<2447535?(a="S",$=1925):s<2458605?(a="H",$=1988):(a="R",$=2018),l+=t.$format("%c%02d",a,h(t.$year(),$)),l+=t.$strftime("-%m-%d");break;default:return e}return d&&(l=l.toUpperCase()),p&&(l=l.replace(/[A-Z]/,(function(e){e.toLowerCase()})).replace(/[a-z]/,(function(e){e.toUpperCase()}))),c&&(u||_)&&(l=l.$rjust(isNaN(n)?2:n,_?" ":"0")),l}))})),$(E,"$to_a",(function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]})),$(E,"$to_f",(function(){return this.getTime()/1e3})),$(E,"$to_i",(function(){return parseInt(this.getTime()/1e3,10)})),$(E,"$cweek_cyear",(function(){var e,t=this,r=x,n=x,i=x,o=x;return e=k("Time").$new(t.$year(),1,1).$wday(),r=t.$year(),l(g(e,4))&&m(e,0)?n=h(e,1):(n=h(h(e,7),1),b(n,-8)&&(n=-1)),i=p(d(t.$yday(),n),7).$ceil(),l(g(i,0))?k("Time").$new(h(t.$year(),1),12,31).$cweek_cyear():(b(i,53)&&(o=k("Time").$new(t.$year(),12,31).$wday(),l(g(o,3))&&m(o,0)&&(i=1,r=d(r,1))),[i,r])})),function(e,t){v(e,"mktime","local"),v(e,"utc","gm")}(e.get_singleton_class(E)),v(E,"ctime","asctime"),v(E,"dst?","isdst"),v(E,"getutc","getgm"),v(E,"gmtoff","gmt_offset"),v(E,"mday","day"),v(E,"month","mon"),v(E,"to_s","inspect"),v(E,"tv_sec","to_i"),v(E,"tv_usec","usec"),v(E,"utc","gmtime"),v(E,"utc?","gmt?"),v(E,"utc_offset","gmt_offset")}(0,Date,[])},Opal.modules["corelib/struct"]=function(e){var t=e.klass,r=e.slice,n=e.extract_kwargs,i=e.ensure_kwargs,o=e.truthy,s=e.neqeq,a=e.eqeq,$=e.Opal,l=e.send,u=e.Class,c=e.to_a,_=e.def,d=e.defs,p=e.Kernel,h=e.hash2,f=e.rb_gt,m=e.rb_minus,g=e.eqeqeq,b=e.rb_lt,v=e.rb_ge,y=e.rb_plus,x=e.alias,k=e.top,w=e.nil,A=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),k.$require("corelib/enumerable"),function(k,E,S){var C=t("::",null,"Struct"),O=[C].concat(S),R=e.$r(O);C.$include(A("Enumerable")),d(C,"$new",(function t(d,p,h){var f,m,g,b,v=t.$$p||w,y=w;if(t.$$p=null,f=r(arguments,1),m=n(f),m=i(m),g=f,null==(b=m.$$smap.keyword_init)&&(b=!1),o(d))if(a(d.$class(),A("String"))&&s(d["$[]"](0).$upcase(),d["$[]"](0)))g.$unshift(d),d=w;else try{d=$["$const_name!"](d)}catch(t){if(!e.rescue(t,[A("TypeError"),A("NameError")]))throw t;try{g.$unshift(d),d=w}finally{e.pop_exception()}}return l(g,"map",[],(function(e){return null==e&&(e=w),$["$coerce_to!"](e,A("String"),"to_str")})),y=l(u,"new",[this],(function t(){var n=null==t.$$s?this:t.$$s;return l(g,"each",[],(function e(t){return null==t&&(t=w),(null==e.$$s?this:e.$$s).$define_struct_attribute(t)}),{$$s:n}),function(e,t){return _(e,"$new",(function(e){var t,n=w;return t=r(arguments),(n=this.$allocate()).$$data={},l(n,"initialize",c(t)),n}),-1),e.$alias_method("[]","new")}(e.get_singleton_class(n))}),{$$s:this}),o(v)&&l(y,"module_eval",[],v.$to_proc()),y.$$keyword_init=b,o(d)&&A("Struct").$const_set(d,y),y}),-2),d(C,"$define_struct_attribute",(function(e){var t=this;return a(t,A("Struct"))&&p.$raise(A("ArgumentError"),"you cannot define attributes to the Struct class"),t.$members()["$<<"](e),l(t,"define_method",[e],(function t(){return(null==t.$$s?this:t.$$s).$$data[e]}),{$$s:t}),l(t,"define_method",[e+"="],(function t(r){return null==r&&(r=w),(null==t.$$s?this:t.$$s).$$data[e]=r}),{$$s:t})})),d(C,"$members",(function(){var e,t=this;return null==t.members&&(t.members=w),a(t,A("Struct"))&&p.$raise(A("ArgumentError"),"the Struct class has no members"),t.members=o(e=t.members)?e:[]})),d(C,"$inherited",(function(e){var t,r=this;return null==r.members&&(r.members=w),t=r.members,l(e,"instance_eval",[],(function e(){return(null==e.$$s?this:e.$$s).members=t}),{$$s:r})})),_(C,"$initialize",(function(e){var t,n,i=this,s=w,a=w,$=w;return t=r(arguments),n=t,o(i.$class().$$keyword_init)?(s=o(a=n.$last())?a:h([],{}),(o(f(n.$length(),1))||o(1===n.length&&!s.$$is_hash))&&p.$raise(A("ArgumentError"),"wrong number of arguments (given "+n.$length()+", expected 0)"),$=m(s.$keys(),i.$class().$members()),o($["$any?"]())&&p.$raise(A("ArgumentError"),"unknown keywords: "+$.$join(", ")),l(i.$class().$members(),"each",[],(function e(t){var r,n=null==e.$$s?this:e.$$s;return null==t&&(t=w),r=[t,s["$[]"](t)],l(n,"[]=",r),r[r.length-1]}),{$$s:i})):(o(f(n.$length(),i.$class().$members().$length()))&&p.$raise(A("ArgumentError"),"struct size differs"),l(i.$class().$members(),"each_with_index",[],(function e(t,r){var i,o=null==e.$$s?this:e.$$s;return null==t&&(t=w),null==r&&(r=w),i=[t,n["$[]"](r)],l(o,"[]=",i),i[i.length-1]}),{$$s:i}))}),-1),_(C,"$initialize_copy",(function(e){this.$$data={};var t,r,n,i=Object.keys(e.$$data);for(t=0,r=i.length;t<r;t++)n=i[t],this.$$data[n]=e.$$data[n]})),d(C,"$keyword_init?",(function(){return this.$$keyword_init})),_(C,"$members",(function(){return this.$class().$members()})),_(C,"$hash",(function(){return R("Hash").$new(this.$$data).$hash()})),_(C,"$[]",(function(e){var t=this;return g(A("Integer"),e)?(o(b(e,t.$class().$members().$size()["$-@"]()))&&p.$raise(A("IndexError"),"offset "+e+" too small for struct(size:"+t.$class().$members().$size()+")"),o(v(e,t.$class().$members().$size()))&&p.$raise(A("IndexError"),"offset "+e+" too large for struct(size:"+t.$class().$members().$size()+")"),e=t.$class().$members()["$[]"](e)):g(A("String"),e)?t.$$data.hasOwnProperty(e)||p.$raise(A("NameError").$new("no member '"+e+"' in struct",e)):p.$raise(A("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=$["$coerce_to!"](e,A("String"),"to_str"),t.$$data[e]})),_(C,"$[]=",(function(e,t){var r=this;return g(A("Integer"),e)?(o(b(e,r.$class().$members().$size()["$-@"]()))&&p.$raise(A("IndexError"),"offset "+e+" too small for struct(size:"+r.$class().$members().$size()+")"),o(v(e,r.$class().$members().$size()))&&p.$raise(A("IndexError"),"offset "+e+" too large for struct(size:"+r.$class().$members().$size()+")"),e=r.$class().$members()["$[]"](e)):g(A("String"),e)?o(r.$class().$members()["$include?"](e.$to_sym()))||p.$raise(A("NameError").$new("no member '"+e+"' in struct",e)):p.$raise(A("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=$["$coerce_to!"](e,A("String"),"to_str"),r.$$data[e]=t})),_(C,"$==",(function(e){if(!o(e["$instance_of?"](this.$class())))return!1;var t={},r={};return function e(n,i){var o,s,a;for(o in t[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(s=n.$$data[o],a=i.$$data[o],A("Struct")["$==="](s)){if(!(t.hasOwnProperty(s.$__id__())&&r.hasOwnProperty(a.$__id__())||e(s,a)))return!1}else if(!s["$=="](a))return!1;return!0}(this,e)})),_(C,"$eql?",(function(e){if(!o(e["$instance_of?"](this.$class())))return!1;var t={},r={};return function e(n,i){var o,s,a;for(o in t[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(s=n.$$data[o],a=i.$$data[o],A("Struct")["$==="](s)){if(!(t.hasOwnProperty(s.$__id__())&&r.hasOwnProperty(a.$__id__())||e(s,a)))return!1}else if(!s["$eql?"](a))return!1;return!0}(this,e)})),_(C,"$each",(function t(){var r=t.$$p||w,n=this;return t.$$p=null,r===w?l(n,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(l(n.$class().$members(),"each",[],(function t(n){var i=null==t.$$s?this:t.$$s;return null==n&&(n=w),e.yield1(r,i["$[]"](n))}),{$$s:n}),n)})),_(C,"$each_pair",(function t(){var r=t.$$p||w,n=this;return t.$$p=null,r===w?l(n,"enum_for",["each_pair"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(l(n.$class().$members(),"each",[],(function t(n){var i=null==t.$$s?this:t.$$s;return null==n&&(n=w),e.yield1(r,[n,i["$[]"](n)])}),{$$s:n}),n)})),_(C,"$length",(function(){return this.$class().$members().$length()})),_(C,"$to_a",(function(){return l(this.$class().$members(),"map",[],(function e(t){return null==t&&(t=w),(null==e.$$s?this:e.$$s)["$[]"](t)}),{$$s:this})}));var I=[];return _(C,"$inspect",(function(){var e=this,t=w,r=w;return function(){try{return t="#<struct ",o(I["$include?"](e.$__id__()))?y(t,":...>"):(I["$<<"](e.$__id__()),r=!0,g(A("Struct"),e)&&o(e.$class().$name())&&(t=y(t,e.$class()+" ")),t=y(t,l(e.$each_pair(),"map",[],(function(e,t){return null==e&&(e=w),null==t&&(t=w),e+"="+R("Opal").$inspect(t)})).$join(", ")),t=y(t,">"))}finally{o(r)&&I.pop()}}()})),_(C,"$to_h",(function e(){var t=e.$$p||w,r=this;return e.$$p=null,t!==w?l(l(r,"map",[],t.$to_proc()),"to_h",c(r.$args())):l(r.$class().$members(),"each_with_object",[h([],{})],(function e(t,r){var n;return null==t&&(t=w),null==r&&(r=w),n=[t,(null==e.$$s?this:e.$$s)["$[]"](t)],l(r,"[]=",n),n[n.length-1]}),{$$s:r})})),_(C,"$values_at",(function(e){var t,n;t=r(arguments);for(var i=[],o=0,s=(n=l(n=t,"map",[],(function(e){return null==e&&(e=w),e.$$is_range?e.$to_a():e})).$flatten()).length;o<s;o++)n[o].$$is_number||p.$raise(A("TypeError"),"no implicit conversion of "+n[o].$class()+" into Integer"),i.push(this["$[]"](n[o]));return i}),-1),_(C,"$dig",(function(e,t){var n,i=w;return n=r(arguments,1),(i=o(e.$$is_string&&this.$$data.hasOwnProperty(e))&&this.$$data[e]||w)===w||0===n.length?i:(o(i["$respond_to?"]("dig"))||p.$raise(A("TypeError"),i.$class()+" does not have #dig method"),l(i,"dig",c(n)))}),-2),x(C,"size","length"),x(C,"to_s","inspect"),x(C,"values","to_a")}(0,0,[])},Opal.modules["corelib/set"]=function(e){var t=e.freeze,r=e.klass,n=e.slice,i=e.defs,o=e.hash2,s=e.truthy,a=e.eqeqeq,$=e.Kernel,l=e.send,u=e.def,c=e.eqeq,_=e.rb_lt,d=e.rb_le,p=e.alias,h=e.nil,f=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(m,g,b){var v=r("::",null,"Set"),y=[v].concat(b),x=e.$r(y);function k(e){s(e["$is_a?"](f("Set")))||$.$raise(f("ArgumentError"),"value must be a set")}return v.$$prototype.hash=h,v.$include(f("Enumerable")),i(v,"$[]",(function(e){var t;return t=n(arguments),this.$new(t)}),-1),u(v,"$initialize",(function t(r){var n=t.$$p||h,i=this;return t.$$p=null,null==r&&(r=h),i.hash=o([],{}),s(r["$nil?"]())?h:(a(f("Enumerable"),r)||$.$raise(f("ArgumentError"),"value must be enumerable"),s(n)?l(r,"each",[],(function t(r){return null==r&&(r=h),(null==t.$$s?this:t.$$s).$add(e.yield1(n,r))}),{$$s:i}):i.$merge(r))}),-1),u(v,"$dup",(function(){return this.$class().$new().$merge(this)})),u(v,"$-",(function(e){return s(e["$respond_to?"]("each"))||$.$raise(f("ArgumentError"),"value must be enumerable"),this.$dup().$subtract(e)})),u(v,"$inspect",(function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"})),u(v,"$==",(function(e){var t=this;return!!s(t["$equal?"](e))||(s(e["$instance_of?"](t.$class()))?t.hash["$=="](e.$instance_variable_get("@hash")):!(!s(e["$is_a?"](f("Set")))||!c(t.$size(),e.$size()))&&l(e,"all?",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=h),null==t&&(t=h),r.hash["$include?"](t)}),{$$s:t}))})),u(v,"$add",(function(e){return this.hash["$[]="](e,!0),this})),u(v,"$classify",(function t(){var r=t.$$p||h,n=this,i=h;return t.$$p=null,r===h?n.$enum_for("classify"):(i=l(f("Hash"),"new",[],(function e(t,r){var n;return null==t&&(t=h),null==r&&(r=h),n=[r,(null==e.$$s?this:e.$$s).$class().$new()],l(t,"[]=",n),n[n.length-1]}),{$$s:n}),l(n,"each",[],(function(t){return null==t&&(t=h),i["$[]"](e.yield1(r,t)).$add(t)})),i)})),u(v,"$collect!",(function t(){var r=t.$$p||h,n=this,i=h;return t.$$p=null,r===h?n.$enum_for("collect!"):(i=n.$class().$new(),l(n,"each",[],(function(t){return null==t&&(t=h),i["$<<"](e.yield1(r,t))})),n.$replace(i))})),u(v,"$compare_by_identity",(function(){var e=this;return s(e.hash["$respond_to?"]("compare_by_identity"))?(e.hash.$compare_by_identity(),e):e.$raise(x("NotImplementedError"),e.$class().$name()+"#compare_by_identity is not implemented")})),u(v,"$compare_by_identity?",(function(){var e;return s(e=this.hash["$respond_to?"]("compare_by_identity?"))?this.hash["$compare_by_identity?"]():e})),u(v,"$delete",(function(e){return this.hash.$delete(e),this})),u(v,"$delete?",(function(e){var t=this;return s(t["$include?"](e))?(t.$delete(e),t):h})),u(v,"$delete_if",(function t(){var r=t.$$p||h,n=this;return t.$$p=null,r===h?n.$enum_for("delete_if"):(l(l(n,"select",[],(function(t){return null==t&&(t=h),e.yield1(r,t)})),"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=h),null==t&&(t=h),r.hash.$delete(t)}),{$$s:n}),n)})),u(v,"$freeze",(function(){var e=this;return s(e["$frozen?"]())?e:(e.hash.$freeze(),t(e))})),u(v,"$keep_if",(function t(){var r=t.$$p||h,n=this;return t.$$p=null,r===h?n.$enum_for("keep_if"):(l(l(n,"reject",[],(function(t){return null==t&&(t=h),e.yield1(r,t)})),"each",[],(function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=h),null==t&&(t=h),r.hash.$delete(t)}),{$$s:n}),n)})),u(v,"$reject!",(function e(){var t,r=e.$$p||h,n=this;return e.$$p=null,r===h?n.$enum_for("reject!"):(t=n.$size(),l(n,"delete_if",[],r.$to_proc()),c(n.$size(),t)?h:n)})),u(v,"$select!",(function e(){var t,r=e.$$p||h,n=this;return e.$$p=null,r===h?n.$enum_for("select!"):(t=n.$size(),l(n,"keep_if",[],r.$to_proc()),c(n.$size(),t)?h:n)})),u(v,"$add?",(function(e){return s(this["$include?"](e))?h:this.$add(e)})),u(v,"$each",(function e(){var t=e.$$p||h,r=this;return e.$$p=null,t===h?r.$enum_for("each"):(l(r.hash,"each_key",[],t.$to_proc()),r)})),u(v,"$empty?",(function(){return this.hash["$empty?"]()})),u(v,"$eql?",(function(e){return this.hash["$eql?"](l(e,"instance_eval",[],(function e(){var t=null==e.$$s?this:e.$$s;return null==t.hash&&(t.hash=h),t.hash}),{$$s:this}))})),u(v,"$clear",(function(){return this.hash.$clear(),this})),u(v,"$include?",(function(e){return this.hash["$include?"](e)})),u(v,"$merge",(function(e){return l(e,"each",[],(function e(t){return null==t&&(t=h),(null==e.$$s?this:e.$$s).$add(t)}),{$$s:this}),this})),u(v,"$replace",(function(e){var t=this;return t.$clear(),t.$merge(e),t})),u(v,"$size",(function(){return this.hash.$size()})),u(v,"$subtract",(function(e){return l(e,"each",[],(function e(t){return null==t&&(t=h),(null==e.$$s?this:e.$$s).$delete(t)}),{$$s:this}),this})),u(v,"$|",(function(e){return s(e["$respond_to?"]("each"))||$.$raise(f("ArgumentError"),"value must be enumerable"),this.$dup().$merge(e)})),u(v,"$superset?",(function(e){return k(e),!s(_(this.$size(),e.$size()))&&l(e,"all?",[],(function e(t){return null==t&&(t=h),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:this})})),u(v,"$proper_superset?",(function(e){return k(e),!s(d(this.$size(),e.$size()))&&l(e,"all?",[],(function e(t){return null==t&&(t=h),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:this})})),u(v,"$subset?",(function(e){return k(e),!s(_(e.$size(),this.$size()))&&l(this,"all?",[],(function(t){return null==t&&(t=h),e["$include?"](t)}))})),u(v,"$proper_subset?",(function(e){return k(e),!s(d(e.$size(),this.$size()))&&l(this,"all?",[],(function(t){return null==t&&(t=h),e["$include?"](t)}))})),u(v,"$intersect?",(function(e){var t=this;return k(e),s(_(t.$size(),e.$size()))?l(t,"any?",[],(function(t){return null==t&&(t=h),e["$include?"](t)})):l(e,"any?",[],(function e(t){return null==t&&(t=h),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:t})})),u(v,"$disjoint?",(function(e){return this["$intersect?"](e)["$!"]()})),u(v,"$to_a",(function(){return this.hash.$keys()})),p(v,"+","|"),p(v,"<","proper_subset?"),p(v,"<<","add"),p(v,"<=","subset?"),p(v,">","proper_superset?"),p(v,">=","superset?"),p(v,"difference","-"),p(v,"filter!","select!"),p(v,"length","size"),p(v,"map!","collect!"),p(v,"member?","include?"),p(v,"union","|")}(0,0,[])},Opal.modules["corelib/dir"]=function(e){var t,r=e.klass,n=e.def,i=e.truthy,o=e.alias,s=e.nil,a=e.$$$;return e.add_stubs("[],pwd"),t=r("::",null,"Dir"),function(t,r){return n(t,"$chdir",(function t(r){var n=t.$$p||s,i=s;return t.$$p=null,function(){try{return i=e.current_dir,e.current_dir=r,e.yieldX(n,[])}finally{e.current_dir=i}}()})),n(t,"$pwd",(function(){return e.current_dir||"."})),n(t,"$home",(function(){var e;return i(e=a("ENV")["$[]"]("HOME"))?e:"."})),o(t,"getwd","pwd")}(e.get_singleton_class(t))},Opal.modules["corelib/file"]=function(e){var t=e.truthy,r=e.klass,n=e.const_set,i=e.Opal,o=e.regexp,s=e.rb_plus,a=e.def,$=e.Kernel,l=e.eqeq,u=e.rb_lt,c=e.rb_minus,_=e.range,d=e.send,p=e.slice,h=e.alias,f=e.nil,m=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(g,b,v){var y=r("::",b,"File"),x=[y].concat(v),k=f;return n(x[0],"Separator",n(x[0],"SEPARATOR","/")),n(x[0],"ALT_SEPARATOR",f),n(x[0],"PATH_SEPARATOR",":"),n(x[0],"FNM_SYSCASE",0),k=/^[a-zA-Z]:(?:\\|\/)/,function(r,n){var g=[r].concat(n),b=e.$r(g);function v(e){return t(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=i["$coerce_to!"](e,m("String"),"to_str")}function y(){return b("ALT_SEPARATOR")===f?e.escape_regexp(b("SEPARATOR")):e.escape_regexp(s(b("SEPARATOR"),b("ALT_SEPARATOR")))}return a(r,"$absolute_path",(function(e,r){var n,a,$,l,u,c,_=f,d=f,p=f,h=f,g=f;null==r&&(r=f),n=b("SEPARATOR"),a=y(),_=[],e=t(e["$respond_to?"]("to_path"))?e.$to_path():e,e=i["$coerce_to!"](e,m("String"),"to_str"),r=t($=r)?$:m("Dir").$pwd(),l=e.substr(0,n.length)===n||k.test(e),u=r.substr(0,n.length)===n||k.test(r),t(l)?(d=e.$split(o(["[",a,"]"])),p=k.test(e)?"":e.$sub(o(["^([",a,"]+).*$"]),"\\1"),h=!0):(d=s(r.$split(o(["[",a,"]"])),e.$split(o(["[",a,"]"]))),p=k.test(r)?"":r.$sub(o(["^([",a,"]+).*$"]),"\\1"),h=u);for(var v=0,x=d.length;v<x;v++)(c=d[v])===f||""===c&&(0===_.length||h)||"."===c&&(0===_.length||h)||(".."===c?_.pop():_.push(c));return h||"."===d[0]||_.$unshift("."),g=_.$join(n),t(h)&&(g=s(p,g)),g}),-2),a(r,"$expand_path",(function(e,r){var n,i,a=f,l=f,u=f;return null==r&&(r=f),n=b("SEPARATOR"),i=y(),t("~"===e[0]||r&&"~"===r[0])&&(a=b("Dir").$home(),t(a)||$.$raise(m("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),l=k.test(a)?"":a.$sub(o(["^([",i,"]+).*$"]),"\\1"),t(a["$start_with?"](l))||$.$raise(m("ArgumentError"),"non-absolute home"),a=s(a,n),u=o(["^\\~(?:",n,"|$)"]),e=e.$sub(u,a),t(r)&&(r=r.$sub(u,a))),this.$absolute_path(e,r)}),-2),a(r,"$dirname",(function(e,r){var n;if(null==r&&(r=1),l(r,0))return e;t(u(r,0))&&$.$raise(m("ArgumentError"),"level can't be negative"),n=y();var i,o=(e=v(e)).match(new RegExp("^["+n+"]"));return i=""===(e=(e=(e=e.replace(new RegExp("["+n+"]+$"),"")).replace(new RegExp("[^"+n+"]+$"),"")).replace(new RegExp("["+n+"]+$"),""))?o?"/":".":e,1==r?i:this.$dirname(i,c(r,1))}),-2),a(r,"$basename",(function(t,r){var n;return null==r&&(r=f),n=y(),0==(t=v(t)).length||(r=r!==f?i["$coerce_to!"](r,m("String"),"to_str"):null,t=(t=t.replace(new RegExp("(.)["+n+"]*$"),"$1")).replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===r?t=t.replace(/\.[^\.]+$/,""):null!==r&&(r=e.escape_regexp(r),t=t.replace(new RegExp(r+"$"),""))),t}),-2),a(r,"$extname",(function(r){var n=f,i=f;return r=v(r),n=this.$basename(r),t(n["$empty?"]())?"":(i=n["$[]"](_(1,-1,!1)).$rindex("."),t(i["$nil?"]())||l(s(i,1),c(n.$length(),1))?"":n["$[]"](e.Range.$new(s(i,1),-1,!1)))})),a(r,"$exist?",(function(t){return null!=e.modules[t]})),a(r,"$directory?",(function(t){var r=f;for(var n in r=[],e.modules)r.push(n);return t=t.$gsub(o(["(^.",b("SEPARATOR"),"+|",b("SEPARATOR"),"+$)"])),d(r,"find",[],(function(e){return null==e&&(e=f),e["$=~"](o(["^",t]))}))})),a(r,"$join",(function(e){var r,n,i=f;return r=p(arguments),t((n=r)["$empty?"]())?"":(i="",n=d(n.$flatten().$each_with_index(),"map",[],(function(e,r){return null==e&&(e=f),null==r&&(r=f),l(r,0)&&t(e["$empty?"]())||l(n.$length(),s(r,1))&&t(e["$empty?"]())?b("SEPARATOR"):e})),n=d(n,"reject",[],"empty?".$to_proc()),d(n,"each_with_index",[],(function(e,r){var a=f;return null==e&&(e=f),null==r&&(r=f),a=n["$[]"](s(r,1)),t(a["$nil?"]())?i=""+i+e:(t(e["$end_with?"](b("SEPARATOR")))&&t(a["$start_with?"](b("SEPARATOR")))&&(e=e.$sub(o([b("SEPARATOR"),"+$"]),"")),i=t(e["$end_with?"](b("SEPARATOR")))||t(a["$start_with?"](b("SEPARATOR")))?""+i+e:""+i+e+b("SEPARATOR"))})),i)}),-1),a(r,"$split",(function(e){return e.$split(b("SEPARATOR"))})),h(r,"realpath","expand_path"),h(r,"exists?","exist?")}(e.get_singleton_class(y),x)}(0,m("IO"),[])},Opal.modules["corelib/process/base"]=function(e){var t,r=e.klass,n=e.slice,i=e.defs,o=e.return_val,s=e.nil;return t=r("::",null,"Signal"),i(t,"$trap",(function(e){return n(arguments),s}),-1),function(e,t){var n=r("::",null,"GC");return i(n,"$start",o(s))}()},Opal.modules["corelib/process"]=function(e){var t=e.module,r=e.defs,n=e.truthy,i=e.return_val,o=e.Kernel,s=e.nil,a=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function($){var l=t("::","Process"),u=s;if(l.__clocks__=[],r(l,"$__register_clock__",(function(e,t){var r=this;return null==r.__clocks__&&(r.__clocks__=s),r.$const_set(e,r.__clocks__.$size()),r.__clocks__["$<<"](t)})),l.$__register_clock__("CLOCK_REALTIME",(function(){return Date.now()})),u=!1,e.global.performance)u=function(){return performance.now()};else if(e.global.process&&process.hrtime){var c=process.hrtime();u=function(){var e=process.hrtime(c),t=e[1]/1e3|0;return 1e3*e[0]+t/1e3}}return n(u)&&l.$__register_clock__("CLOCK_MONOTONIC",u),r(l,"$pid",i(0)),r(l,"$times",(function(){var e;return e=a("Time").$now().$to_f(),a(a("Benchmark"),"Tms").$new(e,e,e,e,e)})),r(l,"$clock_gettime",(function(e,t){var r=this,i=s;null==r.__clocks__&&(r.__clocks__=s),null==t&&(t="float_second"),n(i=r.__clocks__["$[]"](e))||o.$raise(a(a("Errno"),"EINVAL"),"clock_gettime("+e+") "+r.__clocks__["$[]"](e));var $=i();switch(t){case"float_second":return $/1e3;case"float_millisecond":return $/1;case"float_microsecond":return 1e3*$;case"second":return $/1e3|0;case"millisecond":return $/1|0;case"microsecond":return 1e3*$|0;case"nanosecond":return 1e6*$|0;default:o.$raise(a("ArgumentError"),"unexpected unit: "+t)}}),-2)}()},Opal.modules["corelib/random/formatter"]=function(e){var t=e.klass,r=e.module,n=e.def,i=e.range,o=e.send,s=e.rb_divide,a=e.Kernel,$=e.Opal,l=e.nil,u=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(c,_,d){var p=t("::",null,"Random"),h=[p].concat(d);return function(t,c){var _=r(t,"Formatter"),d=[_].concat(c),p=e.$r(d);n(_,"$hex",(function(e){null==e&&(e=l),e=u("Random").$_verify_count(e);for(var t=this.$bytes(e),r="",n=0;n<e;n++)r+=t.charCodeAt(n).toString(16).padStart(2,"0");return r.$encode("US-ASCII")}),-1),n(_,"$random_bytes",(function(e){return null==e&&(e=l),this.$bytes(e)}),-1),n(_,"$base64",(function(e){return null==e&&(e=l),u("Base64").$strict_encode64(this.$random_bytes(e)).$encode("US-ASCII")}),-1),n(_,"$urlsafe_base64",(function(e,t){return null==e&&(e=l),null==t&&(t=!1),u("Base64").$urlsafe_encode64(this.$random_bytes(e),t).$encode("US-ASCII")}),-1),n(_,"$uuid",(function(){var e=l;return(e=this.$hex(16).$split(""))["$[]="](12,"4"),e["$[]="](16,(3&parseInt(e["$[]"](16),16)|8).toString(16)),e=[e["$[]"](i(0,8,!0)),e["$[]"](i(8,12,!0)),e["$[]"](i(12,16,!0)),e["$[]"](i(16,20,!0)),e["$[]"](i(20,32,!0))],(e=o(e,"map",[],"join".$to_proc())).$join("-")})),n(_,"$random_float",(function(){var e=l,t=l;return e=this.$bytes(4),t=0,o(4,"times",[],(function(r){return null==r&&(r=l),t=(t=t["$<<"](8))["$|"](e["$[]"](r).$ord())})),s(t.$abs(),2147483647)})),n(_,"$random_number",(function(e){var t=this;function r(){return t.$random_float()}function n(e){return Math.floor(r()*e)}return null==e?r():e.$$is_range?function(){var t=e.begin,r=e.end;if(t===l||r===l)return l;var i=r-t;return i<0?l:0===i?t:(r%1!=0||t%1!=0||e.excl||i++,n(i)+t)}():e.$$is_number?(e<=0&&a.$raise(u("ArgumentError"),"invalid argument - "+e),e%1==0?n(e):r()*e):((e=$["$coerce_to!"](e,u("Integer"),"to_int"))<=0&&a.$raise(u("ArgumentError"),"invalid argument - "+e),n(e))}),-1),n(_,"$alphanumeric",(function(e){var t=l;return null==e&&(e=l),e=p("Random").$_verify_count(e),t=o([i("0","9",!1),i("a","z",!1),i("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),o(u("Array"),"new",[e],(function e(r){var n=null==e.$$s?this:e.$$s;return t["$[]"](n.$random_number(t.$length()))}),{$$s:this}).$join()}),-1)}(p,h),p.$include(u(u("Random"),"Formatter")),p.$extend(u(u("Random"),"Formatter"))}(0,0,[])},Opal.modules["corelib/random/mersenne_twister"]=function(e){var t,r,n,i=e.klass,o=e.const_set,s=e.send,a=e.nil,$=e.$$$,l=a;return e.add_stubs("generator="),l=function(){var e=624,t=397,r=function(e,t){return function(e,t){return 2147483648&e|2147483647&t}(e,t)>>>1^(1&t?2567483615:0)};function n(n){var i;return--n.left<=0&&function(n){var i,o=0,s=n.state;for(n.left=e,n.next=0,i=e-t+1;--i;o++)s[o]=s[o+t]^r(s[o+0],s[o+1]);for(i=t;--i;o++)s[o]=s[o+(t-e)]^r(s[o+0],s[o+1]);s[o]=s[o+(t-e)]^r(s[o+0],s[0])}(n),i=n.state[n.next++],i^=i>>>11,i^=i<<7&2636928640,i^=i<<15&4022730752,(i^=i>>>18)>>>0}return{genrand_real:function(e){return function(e,t){return(67108864*(e>>>=5)+(t>>>=6))*(1/9007199254740992)}(n(e),n(e))},init:function(t){var r={left:0,next:e,state:new Array(e)};return function(t,r){var n;for(t.state[0]=r>>>0,n=1;n<e;n++)t.state[n]=1812433253*(t.state[n-1]^t.state[n-1]>>30>>>0)+n,t.state[n]&=4294967295;t.left=1,t.next=e}(r,t),r}}}(),r=i("::",null,"Random"),n=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o(r,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*n)},reseed:function(e){return l.init(e)},rand:function(e){return l.genrand_real(e)}}),t=[$(r,"MERSENNE_TWISTER_GENERATOR")],s(r,"generator=",t),t[t.length-1]},Opal.modules["corelib/random"]=function(e){var t=e.truthy,r=e.klass,n=e.Kernel,i=e.defs,o=e.Opal,s=e.def,a=e.eqeqeq,$=e.send,l=e.top,u=(e.nil,e.$$$);return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),l.$require("corelib/random/formatter"),function(l,c){var _=r("::",null,"Random");_.$attr_reader("seed","state"),i(_,"$_verify_count",(function(e){return t(e)||(e=16),"number"!=typeof e&&(e=e.$to_int()),e<0&&n.$raise(u("ArgumentError"),"negative string size (or size too big)"),e=Math.floor(e)})),s(_,"$initialize",(function(e){return null==e&&(e=u("Random").$new_seed()),e=o["$coerce_to!"](e,u("Integer"),"to_int"),this.state=e,this.$reseed(e)}),-1),s(_,"$reseed",(function(t){return this.seed=t,this.$rng=e.$$rand.reseed(t)})),i(_,"$new_seed",(function(){return e.$$rand.new_seed()})),i(_,"$rand",(function(e){return u(this,"DEFAULT").$rand(e)}),-1),i(_,"$srand",(function(e){var t;return null==e&&(e=u("Random").$new_seed()),e=o["$coerce_to!"](e,u("Integer"),"to_int"),t=u(this,"DEFAULT").$seed(),u(this,"DEFAULT").$reseed(e),t}),-1),i(_,"$urandom",(function(e){return u("SecureRandom").$bytes(e)})),s(_,"$==",(function(e){var r;return!!a(u("Random"),e)&&(t(r=this.$seed()["$=="](e.$seed()))?this.$state()["$=="](e.$state()):r)})),s(_,"$bytes",(function(e){return e=u("Random").$_verify_count(e),$(u("Array"),"new",[e],(function e(){return(null==e.$$s?this:e.$$s).$rand(255).$chr()}),{$$s:this}).$join().$encode("ASCII-8BIT")})),i(_,"$bytes",(function(e){return u(this,"DEFAULT").$bytes(e)})),s(_,"$rand",(function(e){return this.$random_number(e)}),-1),s(_,"$random_float",(function(){return this.state++,e.$$rand.rand(this.$rng)})),i(_,"$random_float",(function(){return u(this,"DEFAULT").$random_float()})),i(_,"$generator=",(function(r){var n=this;return e.$$rand=r,t(n["$const_defined?"]("DEFAULT"))?u(n,"DEFAULT").$reseed():n.$const_set("DEFAULT",n.$new(n.$new_seed()))}))}(),l.$require("corelib/random/mersenne_twister")},Opal.modules["corelib/unsupported"]=function(e){var t=e.Kernel,r=e.klass,n=e.send,i=e.slice,o=e.module,s=e.def,a=e.return_val,$=e.alias,l=e.defs,u=e.top,c=e.nil,_=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var d={};function p(r){switch(e.config.unsupported_features_severity){case"error":t.$raise(_("NotImplementedError"),r);break;case"warning":!function(e){if(d[e])return;d[e]=!0,u.$warn(e)}(r)}}return function(e,o){var s=r("::",null,"String"),a="String#%s not supported. Mutable String methods are not supported in Opal.";n(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],(function e(r){return null==r&&(r=c),n(null==e.$$s?this:e.$$s,"define_method",[r],(function(e){return i(arguments),t.$raise(_("NotImplementedError"),a["$%"](r))}),-1)}),{$$s:s})}(),function(e){var t=o("::","Kernel"),r="Object tainting is not supported by Opal";s(t,"$taint",(function(){return p(r),this})),s(t,"$untaint",(function(){return p(r),this})),s(t,"$tainted?",(function(){return p(r),!1}))}(),function(e,t){var n=r("::",null,"Module");s(n,"$public",(function(e){var t;return 0===(t=i(arguments)).length?(this.$$module_function=!1,c):1===t.length?t[0]:t}),-1),s(n,"$private_class_method",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1),s(n,"$private_method_defined?",a(!1)),s(n,"$private_constant",(function(e){return i(arguments),c}),-1),$(n,"nesting","public"),$(n,"private","public"),$(n,"protected","public"),$(n,"protected_method_defined?","private_method_defined?"),$(n,"public_class_method","private_class_method"),$(n,"public_instance_method","instance_method"),$(n,"public_instance_methods","instance_methods"),$(n,"public_method_defined?","method_defined?")}(),function(e){var t=o("::","Kernel");s(t,"$private_methods",(function(e){return i(arguments),[]}),-1),$(t,"protected_methods","private_methods"),$(t,"private_instance_methods","private_methods"),$(t,"protected_instance_methods","private_methods")}(),function(r,n){var a=o("::","Kernel"),$=[a].concat(n),l=e.$r($);s(a,"$eval",(function(e){return i(arguments),t.$raise(_("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+l("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")}),-1)}(0,[]),l(u,"$public",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1),l(u,"$private",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1)},Opal.queue((function(e){var t=e.Object;return e.nil,e.add_stubs("require,autoload"),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/kernel/format"),t.$require("corelib/string/encoding"),t.$autoload("Math","corelib/math"),t.$require("corelib/complex/base"),t.$autoload("Complex","corelib/complex"),t.$require("corelib/rational/base"),t.$autoload("Rational","corelib/rational"),t.$require("corelib/time"),t.$autoload("Struct","corelib/struct"),t.$autoload("Set","corelib/set"),t.$autoload("Dir","corelib/dir"),t.$autoload("File","corelib/file"),t.$require("corelib/process/base"),t.$autoload("Process","corelib/process"),t.$autoload("Random","corelib/random"),t.$require("corelib/unsupported")}));class t{static instance=new e;static convert(e,r){return t.instance.convert(e,r)}}export{t as Asciidoctor};